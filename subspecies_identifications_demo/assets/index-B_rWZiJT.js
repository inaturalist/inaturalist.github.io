(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();const Kn=!1;var rr=Array.isArray,Ho=Array.prototype.indexOf,Sn=Array.from,Yo=Object.defineProperty,fn=Object.getOwnPropertyDescriptor,ls=Object.getOwnPropertyDescriptors,Wo=Object.prototype,Go=Array.prototype,sr=Object.getPrototypeOf,Wr=Object.isExtensible;function Ko(e){return e()}function Qn(e){for(var n=0;n<e.length;n++)e[n]()}function us(){var e,n,r=new Promise((s,o)=>{e=s,n=o});return{promise:r,resolve:e,reject:n}}const be=2,fs=4,Dn=8,Qo=1<<24,ut=16,ft=32,Ot=64,In=128,Ye=512,me=1024,Oe=2048,We=4096,Fe=8192,_t=16384,or=32768,$t=65536,Gr=1<<17,cs=1<<18,Ht=1<<19,vs=1<<20,at=1<<25,At=32768,Zn=1<<21,ar=1<<22,ht=1<<23,kt=Symbol("$state"),Zo=Symbol(""),jt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Jo(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Xo(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ea(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ta(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function na(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ra(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function sa(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function oa(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function aa(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ia(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const la=1,ua=2,ds=4,fa=8,ca=16,va=1,da=2,we=Symbol(),_a="http://www.w3.org/1999/xhtml";function ha(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function _s(e){return e===this.v}function pa(e,n){return e!=e?n==n:e!==n||e!==null&&typeof e=="object"||typeof e=="function"}function hs(e){return!pa(e,this.v)}let hn=!1,ma=!1;function ga(){hn=!0}let ne=null;function Ut(e){ne=e}function ps(e,n=!1,r){ne={p:ne,i:!1,c:null,e:null,s:e,x:null,l:hn&&!n?{s:null,u:null,$:[]}:null}}function ms(e){var n=ne,r=n.e;if(r!==null){n.e=null;for(var s of r)Rs(s)}return n.i=!0,ne=n.p,{}}function pn(){return!hn||ne!==null&&ne.l===null}let qt=[];function gs(){var e=qt;qt=[],Qn(e)}function St(e){if(qt.length===0&&!cn){var n=qt;queueMicrotask(()=>{n===qt&&gs()})}qt.push(e)}function ba(){for(;qt.length>0;)gs()}function bs(e){var n=G;if(n===null)return B.f|=ht,e;if((n.f&or)===0){if((n.f&In)===0)throw e;n.b.error(e)}else Vt(e,n)}function Vt(e,n){for(;n!==null;){if((n.f&In)!==0)try{n.b.error(e);return}catch(r){e=r}n=n.parent}throw e}const wn=new Set;let W=null,qn=null,ze=null,Ve=[],On=null,Jn=!1,cn=!1;class Xe{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#l=null;#o=new Set;#s=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(n){Ve=[],qn=null,this.apply();var r={parent:null,effect:null,effects:[],render_effects:[]};for(const s of n)this.#a(s,r);this.is_fork||this.#f(),this.is_deferred()?(this.#i(r.effects),this.#i(r.render_effects)):(qn=this,W=null,Kr(r.render_effects),Kr(r.effects),qn=null,this.#l?.resolve()),ze=null}#a(n,r){n.f^=me;for(var s=n.first;s!==null;){var o=s.f,i=(o&(ft|Ot))!==0,u=i&&(o&me)!==0,v=u||(o&Fe)!==0||this.skipped_effects.has(s);if((s.f&In)!==0&&s.b?.is_pending()&&(r={parent:r,effect:s,effects:[],render_effects:[]}),!v&&s.fn!==null){i?s.f^=me:(o&fs)!==0?r.effects.push(s):Wt(s)&&((s.f&ut)!==0&&this.#o.add(s),zt(s));var l=s.first;if(l!==null){s=l;continue}}var c=s.parent;for(s=s.next;s===null&&c!==null;)c===r.effect&&(this.#i(r.effects),this.#i(r.render_effects),r=r.parent),s=c.next,c=c.parent}}#i(n){for(const r of n)(r.f&Oe)!==0?this.#o.add(r):(r.f&We)!==0&&this.#s.add(r),this.#u(r.deps),ge(r,me)}#u(n){if(n!==null)for(const r of n)(r.f&be)===0||(r.f&At)===0||(r.f^=At,this.#u(r.deps))}capture(n,r){this.previous.has(n)||this.previous.set(n,r),(n.f&ht)===0&&(this.current.set(n,n.v),ze?.set(n,n.v))}activate(){W=this,this.apply()}deactivate(){W===this&&(W=null,ze=null)}flush(){if(this.activate(),Ve.length>0){if(ys(),W!==null&&W!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const n of this.#t)n(this);this.#t.clear()}#f(){if(this.#n===0){for(const n of this.#e)n();this.#e.clear()}this.#r===0&&this.#c()}#c(){if(wn.size>1){this.previous.clear();var n=ze,r=!0,s={parent:null,effect:null,effects:[],render_effects:[]};for(const i of wn){if(i===this){r=!1;continue}const u=[];for(const[l,c]of this.current){if(i.current.has(l))if(r&&c!==i.current.get(l))i.current.set(l,c);else continue;u.push(l)}if(u.length===0)continue;const v=[...i.current.keys()].filter(l=>!this.current.has(l));if(v.length>0){var o=Ve;Ve=[];const l=new Set,c=new Map;for(const g of u)xs(g,v,l,c);if(Ve.length>0){W=i,i.apply();for(const g of Ve)i.#a(g,s);i.deactivate()}Ve=o}}W=null,ze=n}this.committed=!0,wn.delete(this)}increment(n){this.#r+=1,n&&(this.#n+=1)}decrement(n){this.#r-=1,n&&(this.#n-=1),this.revive()}revive(){for(const n of this.#o)this.#s.delete(n),ge(n,Oe),Dt(n);for(const n of this.#s)ge(n,We),Dt(n);this.flush()}oncommit(n){this.#e.add(n)}ondiscard(n){this.#t.add(n)}settled(){return(this.#l??=us()).promise}static ensure(){if(W===null){const n=W=new Xe;wn.add(W),cn||Xe.enqueue(()=>{W===n&&n.flush()})}return W}static enqueue(n){St(n)}apply(){}}function ya(e){var n=cn;cn=!0;try{for(var r;;){if(ba(),Ve.length===0&&(W?.flush(),Ve.length===0))return On=null,r;ys()}}finally{cn=n}}function ys(){var e=Tt;Jn=!0;var n=null;try{var r=0;for(Tn(!0);Ve.length>0;){var s=Xe.ensure();if(r++>1e3){var o,i;xa()}s.process(Ve),pt.clear()}}finally{Jn=!1,Tn(e),On=null}}function xa(){try{ra()}catch(e){Vt(e,On)}}let ot=null;function Kr(e){var n=e.length;if(n!==0){for(var r=0;r<n;){var s=e[r++];if((s.f&(_t|Fe))===0&&Wt(s)&&(ot=new Set,zt(s),s.deps===null&&s.first===null&&s.nodes===null&&(s.teardown===null&&s.ac===null?Fs(s):s.fn=null),ot?.size>0)){pt.clear();for(const o of ot){if((o.f&(_t|Fe))!==0)continue;const i=[o];let u=o.parent;for(;u!==null;)ot.has(u)&&(ot.delete(u),i.push(u)),u=u.parent;for(let v=i.length-1;v>=0;v--){const l=i[v];(l.f&(_t|Fe))===0&&zt(l)}}ot.clear()}}ot=null}}function xs(e,n,r,s){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const o of e.reactions){const i=o.f;(i&be)!==0?xs(o,n,r,s):(i&(ar|ut))!==0&&(i&Oe)===0&&ws(o,n,s)&&(ge(o,Oe),Dt(o))}}function ws(e,n,r){const s=r.get(e);if(s!==void 0)return s;if(e.deps!==null)for(const o of e.deps){if(n.includes(o))return!0;if((o.f&be)!==0&&ws(o,n,r))return r.set(o,!0),!0}return r.set(e,!1),!1}function Dt(e){for(var n=On=e;n.parent!==null;){n=n.parent;var r=n.f;if(Jn&&n===G&&(r&ut)!==0&&(r&cs)===0)return;if((r&(Ot|ft))!==0){if((r&me)===0)return;n.f^=me}}Ve.push(n)}function wa(e){let n=0,r=It(0),s;return()=>{dn()&&(t(r),gn(()=>(n===0&&(s=p(()=>e(()=>vn(r)))),n+=1,()=>{St(()=>{n-=1,n===0&&(s?.(),s=void 0,vn(r))})})))}}var qa=$t|Ht|In;function ka(e,n,r){new Ea(e,n,r)}class Ea{parent;#e=!1;#t;#r=null;#n;#l;#o;#s=null;#a=null;#i=null;#u=null;#f=null;#c=0;#v=0;#_=!1;#d=null;#b=wa(()=>(this.#d=It(this.#c),()=>{this.#d=null}));constructor(n,r,s){this.#t=n,this.#n=r,this.#l=s,this.parent=G.b,this.#e=!!this.#n.pending,this.#o=fr(()=>{G.b=this;{var o=this.#m();try{this.#s=Be(()=>s(o))}catch(i){this.error(i)}this.#v>0?this.#p():this.#e=!1}return()=>{this.#f?.remove()}},qa)}#y(){try{this.#s=Be(()=>this.#l(this.#t))}catch(n){this.error(n)}this.#e=!1}#x(){const n=this.#n.pending;n&&(this.#a=Be(()=>n(this.#t)),Xe.enqueue(()=>{var r=this.#m();this.#s=this.#h(()=>(Xe.ensure(),Be(()=>this.#l(r)))),this.#v>0?this.#p():(Et(this.#a,()=>{this.#a=null}),this.#e=!1)}))}#m(){var n=this.#t;return this.#e&&(this.#f=it(),this.#t.before(this.#f),n=this.#f),n}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#h(n){var r=G,s=B,o=ne;tt(this.#o),De(this.#o),Ut(this.#o.ctx);try{return n()}catch(i){return bs(i),null}finally{tt(r),De(s),Ut(o)}}#p(){const n=this.#n.pending;this.#s!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#f),$s(this.#s,this.#u)),this.#a===null&&(this.#a=Be(()=>n(this.#t)))}#g(n){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(n);return}this.#v+=n,this.#v===0&&(this.#e=!1,this.#a&&Et(this.#a,()=>{this.#a=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(n){this.#g(n),this.#c+=n,this.#d&&Bt(this.#d,this.#c)}get_effect_pending(){return this.#b(),t(this.#d)}error(n){var r=this.#n.onerror;let s=this.#n.failed;if(this.#_||!r&&!s)throw n;this.#s&&(Ie(this.#s),this.#s=null),this.#a&&(Ie(this.#a),this.#a=null),this.#i&&(Ie(this.#i),this.#i=null);var o=!1,i=!1;const u=()=>{if(o){ha();return}o=!0,i&&ia(),Xe.ensure(),this.#c=0,this.#i!==null&&Et(this.#i,()=>{this.#i=null}),this.#e=this.has_pending_snippet(),this.#s=this.#h(()=>(this.#_=!1,Be(()=>this.#l(this.#t)))),this.#v>0?this.#p():this.#e=!1};var v=B;try{De(null),i=!0,r?.(n,u),i=!1}catch(l){Vt(l,this.#o&&this.#o.parent)}finally{De(v)}s&&St(()=>{this.#i=this.#h(()=>{Xe.ensure(),this.#_=!0;try{return Be(()=>{s(this.#t,()=>n,()=>u)})}catch(l){return Vt(l,this.#o.parent),null}finally{this.#_=!1}})})}}function Ta(e,n,r,s){const o=pn()?ir:qs;if(r.length===0&&e.length===0){s(n.map(o));return}var i=W,u=G,v=Ca();function l(){Promise.all(r.map(c=>Aa(c))).then(c=>{v();try{s([...n.map(o),...c])}catch(g){(u.f&_t)===0&&Vt(g,u)}i?.deactivate(),kn()}).catch(c=>{Vt(c,u)})}e.length>0?Promise.all(e).then(()=>{v();try{return l()}finally{i?.deactivate(),kn()}}):l()}function Ca(){var e=G,n=B,r=ne,s=W;return function(i=!0){tt(e),De(n),Ut(r),i&&s?.activate()}}function kn(){tt(null),De(null),Ut(null)}function ir(e){var n=be|Oe,r=B!==null&&(B.f&be)!==0?B:null;return G!==null&&(G.f|=Ht),{ctx:ne,deps:null,effects:null,equals:_s,f:n,fn:e,reactions:null,rv:0,v:we,wv:0,parent:r??G,ac:null}}function Aa(e,n){let r=G;r===null&&Xo();var s=r.b,o=void 0,i=It(we),u=!B,v=new Map;return $a(()=>{var l=us();o=l.promise;try{Promise.resolve(e()).then(l.resolve,l.reject).then(()=>{c===W&&c.committed&&c.deactivate(),kn()})}catch(q){l.reject(q),kn()}var c=W;if(u){var g=!s.is_pending();s.update_pending_count(1),c.increment(g),v.get(c)?.reject(jt),v.delete(c),v.set(c,l)}const A=(q,x=void 0)=>{if(c.activate(),x)x!==jt&&(i.f|=ht,Bt(i,x));else{(i.f&ht)!==0&&(i.f^=ht),Bt(i,q);for(const[a,Z]of v){if(v.delete(a),a===c)break;Z.reject(jt)}}u&&(s.update_pending_count(-1),c.decrement(g))};l.promise.then(A,q=>A(null,q||"unknown"))}),ur(()=>{for(const l of v.values())l.reject(jt)}),new Promise(l=>{function c(g){function A(){g===o?l(i):c(o)}g.then(A,A)}c(o)})}function qs(e){const n=ir(e);return n.equals=hs,n}function ks(e){var n=e.effects;if(n!==null){e.effects=null;for(var r=0;r<n.length;r+=1)Ie(n[r])}}function Sa(e){for(var n=e.parent;n!==null;){if((n.f&be)===0)return(n.f&_t)===0?n:null;n=n.parent}return null}function lr(e){var n,r=G;tt(Sa(e));try{e.f&=~At,ks(e),n=zs(e)}finally{tt(r)}return n}function Es(e){var n=lr(e);if(e.equals(n)||(W?.is_fork||(e.v=n),e.wv=Vs()),!Yt)if(ze!==null)(dn()||W?.is_fork)&&ze.set(e,n);else{var r=(e.f&Ye)===0?We:me;ge(e,r)}}let Xn=new Set;const pt=new Map;let Ts=!1;function It(e,n){var r={f:0,v:e,reactions:null,equals:_s,rv:0,wv:0};return r}function vt(e,n){const r=It(e);return Ba(r),r}function V(e,n=!1,r=!0){const s=It(e);return n||(s.equals=hs),hn&&r&&ne!==null&&ne.l!==null&&(ne.l.s??=[]).push(s),s}function Y(e,n){return d(e,p(()=>t(e))),n}function d(e,n,r=!1){B!==null&&(!et||(B.f&Gr)!==0)&&pn()&&(B.f&(be|ut|ar|Gr))!==0&&!lt?.includes(e)&&aa();let s=r?an(n):n;return Bt(e,s)}function Bt(e,n){if(!e.equals(n)){var r=e.v;Yt?pt.set(e,n):pt.set(e,r),e.v=n;var s=Xe.ensure();s.capture(e,r),(e.f&be)!==0&&((e.f&Oe)!==0&&lr(e),ge(e,(e.f&Ye)!==0?me:We)),e.wv=Vs(),Cs(e,Oe),pn()&&G!==null&&(G.f&me)!==0&&(G.f&(ft|Ot))===0&&(Ue===null?za([e]):Ue.push(e)),!s.is_fork&&Xn.size>0&&!Ts&&Da()}return n}function Da(){Ts=!1;var e=Tt;Tn(!0);const n=Array.from(Xn);try{for(const r of n)(r.f&me)!==0&&ge(r,We),Wt(r)&&zt(r)}finally{Tn(e)}Xn.clear()}function Ia(e,n=1){var r=t(e),s=n===1?r++:r--;return d(e,r),s}function vn(e){d(e,e.v+1)}function Cs(e,n){var r=e.reactions;if(r!==null)for(var s=pn(),o=r.length,i=0;i<o;i++){var u=r[i],v=u.f;if(!(!s&&u===G)){var l=(v&Oe)===0;if(l&&ge(u,n),(v&be)!==0){var c=u;ze?.delete(c),(v&At)===0&&(v&Ye&&(u.f|=At),Cs(c,We))}else l&&((v&ut)!==0&&ot!==null&&ot.add(u),Dt(u))}}}function an(e){if(typeof e!="object"||e===null||kt in e)return e;const n=sr(e);if(n!==Wo&&n!==Go)return e;var r=new Map,s=rr(e),o=vt(0),i=Ct,u=v=>{if(Ct===i)return v();var l=B,c=Ct;De(null),es(i);var g=v();return De(l),es(c),g};return s&&r.set("length",vt(e.length)),new Proxy(e,{defineProperty(v,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&sa();var g=r.get(l);return g===void 0?g=u(()=>{var A=vt(c.value);return r.set(l,A),A}):d(g,c.value,!0),!0},deleteProperty(v,l){var c=r.get(l);if(c===void 0){if(l in v){const g=u(()=>vt(we));r.set(l,g),vn(o)}}else d(c,we),vn(o);return!0},get(v,l,c){if(l===kt)return e;var g=r.get(l),A=l in v;if(g===void 0&&(!A||fn(v,l)?.writable)&&(g=u(()=>{var x=an(A?v[l]:we),a=vt(x);return a}),r.set(l,g)),g!==void 0){var q=t(g);return q===we?void 0:q}return Reflect.get(v,l,c)},getOwnPropertyDescriptor(v,l){var c=Reflect.getOwnPropertyDescriptor(v,l);if(c&&"value"in c){var g=r.get(l);g&&(c.value=t(g))}else if(c===void 0){var A=r.get(l),q=A?.v;if(A!==void 0&&q!==we)return{enumerable:!0,configurable:!0,value:q,writable:!0}}return c},has(v,l){if(l===kt)return!0;var c=r.get(l),g=c!==void 0&&c.v!==we||Reflect.has(v,l);if(c!==void 0||G!==null&&(!g||fn(v,l)?.writable)){c===void 0&&(c=u(()=>{var q=g?an(v[l]):we,x=vt(q);return x}),r.set(l,c));var A=t(c);if(A===we)return!1}return g},set(v,l,c,g){var A=r.get(l),q=l in v;if(s&&l==="length")for(var x=c;x<A.v;x+=1){var a=r.get(x+"");a!==void 0?d(a,we):x in v&&(a=u(()=>vt(we)),r.set(x+"",a))}if(A===void 0)(!q||fn(v,l)?.writable)&&(A=u(()=>vt(void 0)),d(A,an(c)),r.set(l,A));else{q=A.v!==we;var Z=u(()=>an(c));d(A,Z)}var E=Reflect.getOwnPropertyDescriptor(v,l);if(E?.set&&E.set.call(g,c),!q){if(s&&typeof l=="string"){var F=r.get("length"),ue=Number(l);Number.isInteger(ue)&&ue>=F.v&&d(F,ue+1)}vn(o)}return!0},ownKeys(v){t(o);var l=Reflect.ownKeys(v).filter(A=>{var q=r.get(A);return q===void 0||q.v!==we});for(var[c,g]of r)g.v!==we&&!(c in v)&&l.push(c);return l},setPrototypeOf(){oa()}})}function Qr(e){try{if(e!==null&&typeof e=="object"&&kt in e)return e[kt]}catch{}return e}function Oa(e,n){return Object.is(Qr(e),Qr(n))}var Zr,As,Ss,Ds;function Na(){if(Zr===void 0){Zr=window,As=/Firefox/.test(navigator.userAgent);var e=Element.prototype,n=Node.prototype,r=Text.prototype;Ss=fn(n,"firstChild").get,Ds=fn(n,"nextSibling").get,Wr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Wr(r)&&(r.__t=void 0)}}function it(e=""){return document.createTextNode(e)}function En(e){return Ss.call(e)}function mn(e){return Ds.call(e)}function h(e,n){return En(e)}function st(e,n=!1){{var r=En(e);return r instanceof Comment&&r.data===""?mn(r):r}}function w(e,n=1,r=!1){let s=e;for(;n--;)s=mn(s);return s}function Ra(e){e.textContent=""}function Is(){return!1}let Jr=!1;function Pa(){Jr||(Jr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const n of e.target.elements)n.__on_r?.()})},{capture:!0}))}function Nn(e){var n=B,r=G;De(null),tt(null);try{return e()}finally{De(n),tt(r)}}function Os(e,n,r,s=r){e.addEventListener(n,()=>Nn(r));const o=e.__on_r;o?e.__on_r=()=>{o(),s(!0)}:e.__on_r=()=>s(!0),Pa()}function Ns(e){G===null&&(B===null&&na(),ta()),Yt&&ea()}function Ma(e,n){var r=n.last;r===null?n.last=n.first=e:(r.next=e,e.prev=r,n.last=e)}function ct(e,n,r){var s=G;s!==null&&(s.f&Fe)!==0&&(e|=Fe);var o={ctx:ne,deps:null,nodes:null,f:e|Oe|Ye,first:null,fn:n,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{zt(o),o.f|=or}catch(v){throw Ie(o),v}else n!==null&&Dt(o);var i=o;if(r&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&Ht)===0&&(i=i.first,(e&ut)!==0&&(e&$t)!==0&&i!==null&&(i.f|=$t)),i!==null&&(i.parent=s,s!==null&&Ma(i,s),B!==null&&(B.f&be)!==0&&(e&Ot)===0)){var u=B;(u.effects??=[]).push(i)}return o}function dn(){return B!==null&&!et}function ur(e){const n=ct(Dn,null,!1);return ge(n,me),n.teardown=e,n}function er(e){Ns();var n=G.f,r=!B&&(n&ft)!==0&&(n&or)===0;if(r){var s=ne;(s.e??=[]).push(e)}else return Rs(e)}function Rs(e){return ct(fs|vs,e,!1)}function Fa(e){return Ns(),ct(Dn|vs,e,!0)}function La(e){Xe.ensure();const n=ct(Ot|Ht,e,!0);return(r={})=>new Promise(s=>{r.outro?Et(n,()=>{Ie(n),s(void 0)}):(Ie(n),s(void 0))})}function xe(e,n){var r=ne,s={effect:null,ran:!1,deps:e};r.l.$.push(s),s.effect=gn(()=>{e(),!s.ran&&(s.ran=!0,p(n))})}function ja(){var e=ne;gn(()=>{for(var n of e.l.$){n.deps();var r=n.effect;(r.f&me)!==0&&ge(r,We),Wt(r)&&zt(r),n.ran=!1}})}function $a(e){return ct(ar|Ht,e,!0)}function gn(e,n=0){return ct(Dn|n,e,!0)}function R(e,n=[],r=[],s=[]){Ta(s,n,r,o=>{ct(Dn,()=>e(...o.map(t)),!0)})}function fr(e,n=0){var r=ct(ut|n,e,!0);return r}function Be(e){return ct(ft|Ht,e,!0)}function Ps(e){var n=e.teardown;if(n!==null){const r=Yt,s=B;Xr(!0),De(null);try{n.call(null)}finally{Xr(r),De(s)}}}function Ms(e,n=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const o=r.ac;o!==null&&Nn(()=>{o.abort(jt)});var s=r.next;(r.f&Ot)!==0?r.parent=null:Ie(r,n),r=s}}function Ua(e){for(var n=e.first;n!==null;){var r=n.next;(n.f&ft)===0&&Ie(n),n=r}}function Ie(e,n=!0){var r=!1;(n||(e.f&cs)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Va(e.nodes.start,e.nodes.end),r=!0),Ms(e,n&&!r),Cn(e,0),ge(e,_t);var s=e.nodes&&e.nodes.t;if(s!==null)for(const i of s)i.stop();Ps(e);var o=e.parent;o!==null&&o.first!==null&&Fs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Va(e,n){for(;e!==null;){var r=e===n?null:mn(e);e.remove(),e=r}}function Fs(e){var n=e.parent,r=e.prev,s=e.next;r!==null&&(r.next=s),s!==null&&(s.prev=r),n!==null&&(n.first===e&&(n.first=s),n.last===e&&(n.last=r))}function Et(e,n,r=!0){var s=[];Ls(e,s,!0);var o=()=>{r&&Ie(e),n&&n()},i=s.length;if(i>0){var u=()=>--i||o();for(var v of s)v.out(u)}else o()}function Ls(e,n,r){if((e.f&Fe)===0){e.f^=Fe;var s=e.nodes&&e.nodes.t;if(s!==null)for(const v of s)(v.is_global||r)&&n.push(v);for(var o=e.first;o!==null;){var i=o.next,u=(o.f&$t)!==0||(o.f&ft)!==0&&(e.f&ut)!==0;Ls(o,n,u?r:!1),o=i}}}function cr(e){js(e,!0)}function js(e,n){if((e.f&Fe)!==0){e.f^=Fe,(e.f&me)===0&&(ge(e,Oe),Dt(e));for(var r=e.first;r!==null;){var s=r.next,o=(r.f&$t)!==0||(r.f&ft)!==0;js(r,o?n:!1),r=s}var i=e.nodes&&e.nodes.t;if(i!==null)for(const u of i)(u.is_global||n)&&u.in()}}function $s(e,n){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end;r!==null;){var o=r===s?null:mn(r);n.append(r),r=o}}let Tt=!1;function Tn(e){Tt=e}let Yt=!1;function Xr(e){Yt=e}let B=null,et=!1;function De(e){B=e}let G=null;function tt(e){G=e}let lt=null;function Ba(e){B!==null&&(lt===null?lt=[e]:lt.push(e))}let Te=null,Me=0,Ue=null;function za(e){Ue=e}let Us=1,_n=0,Ct=_n;function es(e){Ct=e}function Vs(){return++Us}function Wt(e){var n=e.f;if((n&Oe)!==0)return!0;if(n&be&&(e.f&=~At),(n&We)!==0){var r=e.deps;if(r!==null)for(var s=r.length,o=0;o<s;o++){var i=r[o];if(Wt(i)&&Es(i),i.wv>e.wv)return!0}(n&Ye)!==0&&ze===null&&ge(e,me)}return!1}function Bs(e,n,r=!0){var s=e.reactions;if(s!==null&&!lt?.includes(e))for(var o=0;o<s.length;o++){var i=s[o];(i.f&be)!==0?Bs(i,n,!1):n===i&&(r?ge(i,Oe):(i.f&me)!==0&&ge(i,We),Dt(i))}}function zs(e){var n=Te,r=Me,s=Ue,o=B,i=lt,u=ne,v=et,l=Ct,c=e.f;Te=null,Me=0,Ue=null,B=(c&(ft|Ot))===0?e:null,lt=null,Ut(e.ctx),et=!1,Ct=++_n,e.ac!==null&&(Nn(()=>{e.ac.abort(jt)}),e.ac=null);try{e.f|=Zn;var g=e.fn,A=g(),q=e.deps;if(Te!==null){var x;if(Cn(e,Me),q!==null&&Me>0)for(q.length=Me+Te.length,x=0;x<Te.length;x++)q[Me+x]=Te[x];else e.deps=q=Te;if(dn()&&(e.f&Ye)!==0)for(x=Me;x<q.length;x++)(q[x].reactions??=[]).push(e)}else q!==null&&Me<q.length&&(Cn(e,Me),q.length=Me);if(pn()&&Ue!==null&&!et&&q!==null&&(e.f&(be|We|Oe))===0)for(x=0;x<Ue.length;x++)Bs(Ue[x],e);return o!==null&&o!==e&&(_n++,Ue!==null&&(s===null?s=Ue:s.push(...Ue))),(e.f&ht)!==0&&(e.f^=ht),A}catch(a){return bs(a)}finally{e.f^=Zn,Te=n,Me=r,Ue=s,B=o,lt=i,Ut(u),et=v,Ct=l}}function Ha(e,n){let r=n.reactions;if(r!==null){var s=Ho.call(r,e);if(s!==-1){var o=r.length-1;o===0?r=n.reactions=null:(r[s]=r[o],r.pop())}}r===null&&(n.f&be)!==0&&(Te===null||!Te.includes(n))&&(ge(n,We),(n.f&Ye)!==0&&(n.f^=Ye,n.f&=~At),ks(n),Cn(n,0))}function Cn(e,n){var r=e.deps;if(r!==null)for(var s=n;s<r.length;s++)Ha(e,r[s])}function zt(e){var n=e.f;if((n&_t)===0){ge(e,me);var r=G,s=Tt;G=e,Tt=!0;try{(n&(ut|Qo))!==0?Ua(e):Ms(e),Ps(e);var o=zs(e);e.teardown=typeof o=="function"?o:null,e.wv=Us;var i;Kn&&ma&&(e.f&Oe)!==0&&e.deps}finally{Tt=s,G=r}}}async function Ya(){await Promise.resolve(),ya()}function t(e){var n=e.f,r=(n&be)!==0;if(B!==null&&!et){var s=G!==null&&(G.f&_t)!==0;if(!s&&!lt?.includes(e)){var o=B.deps;if((B.f&Zn)!==0)e.rv<_n&&(e.rv=_n,Te===null&&o!==null&&o[Me]===e?Me++:Te===null?Te=[e]:Te.includes(e)||Te.push(e));else{(B.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[B]:i.includes(B)||i.push(B)}}}if(Yt){if(pt.has(e))return pt.get(e);if(r){var u=e,v=u.v;return((u.f&me)===0&&u.reactions!==null||Ys(u))&&(v=lr(u)),pt.set(u,v),v}}else r&&(!ze?.has(e)||W?.is_fork&&!dn())&&(u=e,Wt(u)&&Es(u),Tt&&dn()&&(u.f&Ye)===0&&Hs(u));if(ze?.has(e))return ze.get(e);if((e.f&ht)!==0)throw e.v;return e.v}function Hs(e){if(e.deps!==null){e.f^=Ye;for(const n of e.deps)(n.reactions??=[]).push(e),(n.f&be)!==0&&(n.f&Ye)===0&&Hs(n)}}function Ys(e){if(e.v===we)return!0;if(e.deps===null)return!1;for(const n of e.deps)if(pt.has(n)||(n.f&be)!==0&&Ys(n))return!0;return!1}function p(e){var n=et;try{return et=!0,e()}finally{et=n}}const Wa=-7169;function ge(e,n){e.f=e.f&Wa|n}function Ga(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(kt in e)tr(e);else if(!Array.isArray(e))for(let n in e){const r=e[n];typeof r=="object"&&r&&kt in r&&tr(r)}}}function tr(e,n=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!n.has(e)){n.add(e),e instanceof Date&&e.getTime();for(let s in e)try{tr(e[s],n)}catch{}const r=sr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const s=ls(r);for(let o in s){const i=s[o].get;if(i)try{i.call(e)}catch{}}}}}const Ka=["touchstart","touchmove"];function Qa(e){return Ka.includes(e)}const Za=new Set,ts=new Set;function Ja(e,n,r,s={}){function o(i){if(s.capture||ln.call(n,i),!i.cancelBubble)return Nn(()=>r?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?St(()=>{n.addEventListener(e,o,s)}):n.addEventListener(e,o,s),o}function U(e,n,r,s,o){var i={capture:s,passive:o},u=Ja(e,n,r,i);(n===document.body||n===window||n===document||n instanceof HTMLMediaElement)&&ur(()=>{n.removeEventListener(e,u,i)})}let ns=null;function ln(e){var n=this,r=n.ownerDocument,s=e.type,o=e.composedPath?.()||[],i=o[0]||e.target;ns=e;var u=0,v=ns===e&&e.__root;if(v){var l=o.indexOf(v);if(l!==-1&&(n===document||n===window)){e.__root=n;return}var c=o.indexOf(n);if(c===-1)return;l<=c&&(u=l)}if(i=o[u]||e.target,i!==n){Yo(e,"currentTarget",{configurable:!0,get(){return i||r}});var g=B,A=G;De(null),tt(null);try{for(var q,x=[];i!==null;){var a=i.assignedSlot||i.parentNode||i.host||null;try{var Z=i["__"+s];Z!=null&&(!i.disabled||e.target===i)&&Z.call(i,e)}catch(E){q?x.push(E):q=E}if(e.cancelBubble||a===n||a===null)break;i=a}if(q){for(let E of x)queueMicrotask(()=>{throw E});throw q}}finally{e.__root=n,delete e.currentTarget,De(g),tt(A)}}}function Xa(e){var n=document.createElement("template");return n.innerHTML=e.replaceAll("<!>","<!---->"),n.content}function An(e,n){var r=G;r.nodes===null&&(r.nodes={start:e,end:n,a:null,t:null})}function D(e,n){var r=(n&va)!==0,s=(n&da)!==0,o,i=!e.startsWith("<!>");return()=>{o===void 0&&(o=Xa(i?e:"<!>"+e),r||(o=En(o)));var u=s||As?document.importNode(o,!0):o.cloneNode(!0);if(r){var v=En(u),l=u.lastChild;An(v,l)}else An(u,u);return u}}function tn(e=""){{var n=it(e+"");return An(n,n),n}}function Mt(){var e=document.createDocumentFragment(),n=document.createComment(""),r=it();return e.append(n,r),An(n,r),e}function T(e,n){e!==null&&e.before(n)}function P(e,n){var r=n==null?"":typeof n=="object"?n+"":n;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function ei(e,n){return ti(e,n)}const Ft=new Map;function ti(e,{target:n,anchor:r,props:s={},events:o,context:i,intro:u=!0}){Na();var v=new Set,l=A=>{for(var q=0;q<A.length;q++){var x=A[q];if(!v.has(x)){v.add(x);var a=Qa(x);n.addEventListener(x,ln,{passive:a});var Z=Ft.get(x);Z===void 0?(document.addEventListener(x,ln,{passive:a}),Ft.set(x,1)):Ft.set(x,Z+1)}}};l(Sn(Za)),ts.add(l);var c=void 0,g=La(()=>{var A=r??n.appendChild(it());return ka(A,{pending:()=>{}},q=>{if(i){ps({});var x=ne;x.c=i}o&&(s.$$events=o),c=e(q,s)||{},i&&ms()}),()=>{for(var q of v){n.removeEventListener(q,ln);var x=Ft.get(q);--x===0?(document.removeEventListener(q,ln),Ft.delete(q)):Ft.set(q,x)}ts.delete(l),A!==r&&A.parentNode?.removeChild(A)}});return ni.set(c,g),c}let ni=new WeakMap;class ri{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#l=!0;constructor(n,r=!0){this.anchor=n,this.#l=r}#o=()=>{var n=W;if(this.#e.has(n)){var r=this.#e.get(n),s=this.#t.get(r);if(s)cr(s),this.#n.delete(r);else{var o=this.#r.get(r);o&&(this.#t.set(r,o.effect),this.#r.delete(r),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),s=o.effect)}for(const[i,u]of this.#e){if(this.#e.delete(i),i===n)break;const v=this.#r.get(u);v&&(Ie(v.effect),this.#r.delete(u))}for(const[i,u]of this.#t){if(i===r||this.#n.has(i))continue;const v=()=>{if(Array.from(this.#e.values()).includes(i)){var c=document.createDocumentFragment();$s(u,c),c.append(it()),this.#r.set(i,{effect:u,fragment:c})}else Ie(u);this.#n.delete(i),this.#t.delete(i)};this.#l||!s?(this.#n.add(i),Et(u,v,!1)):v()}}};#s=n=>{this.#e.delete(n);const r=Array.from(this.#e.values());for(const[s,o]of this.#r)r.includes(s)||(Ie(o.effect),this.#r.delete(s))};ensure(n,r){var s=W,o=Is();if(r&&!this.#t.has(n)&&!this.#r.has(n))if(o){var i=document.createDocumentFragment(),u=it();i.append(u),this.#r.set(n,{effect:Be(()=>r(u)),fragment:i})}else this.#t.set(n,Be(()=>r(this.anchor)));if(this.#e.set(s,n),o){for(const[v,l]of this.#t)v===n?s.skipped_effects.delete(l):s.skipped_effects.add(l);for(const[v,l]of this.#r)v===n?s.skipped_effects.delete(l.effect):s.skipped_effects.add(l.effect);s.oncommit(this.#o),s.ondiscard(this.#s)}else this.#o()}}function M(e,n,r=!1){var s=new ri(e),o=r?$t:0;function i(u,v){s.ensure(u,v)}fr(()=>{var u=!1;n((v,l=!0)=>{u=!0,i(l,v)}),u||i(!1,null)},o)}function nn(e,n){return n}function si(e,n,r){for(var s=[],o=n.length,i,u=n.length,v=0;v<o;v++){let A=n[v];Et(A,()=>{if(i){if(i.pending.delete(A),i.done.add(A),i.pending.size===0){var q=e.outrogroups;nr(Sn(i.done)),q.delete(i),q.size===0&&(e.outrogroups=null)}}else u-=1},!1)}if(u===0){var l=s.length===0&&r!==null;if(l){var c=r,g=c.parentNode;Ra(g),g.append(c),e.items.clear()}nr(n,!l)}else i={pending:new Set(n),done:new Set},(e.outrogroups??=new Set).add(i)}function nr(e,n=!0){for(var r=0;r<e.length;r++)Ie(e[r],n)}var rs;function rn(e,n,r,s,o,i=null){var u=e,v=new Map,l=(n&ds)!==0;if(l){var c=e;u=c.appendChild(it())}var g=null,A=qs(()=>{var F=r();return rr(F)?F:F==null?[]:Sn(F)}),q,x=!0;function a(){E.fallback=g,oi(E,q,u,n,s),g!==null&&(q.length===0?(g.f&at)===0?cr(g):(g.f^=at,un(g,null,u)):Et(g,()=>{g=null}))}var Z=fr(()=>{q=t(A);for(var F=q.length,ue=new Set,re=W,ve=Is(),z=0;z<F;z+=1){var Ne=q[z],de=s(Ne,z),se=x?null:v.get(de);se?(se.v&&Bt(se.v,Ne),se.i&&Bt(se.i,z),ve&&re.skipped_effects.delete(se.e)):(se=ai(v,x?u:rs??=it(),Ne,de,z,o,n,r),x||(se.e.f|=at),v.set(de,se)),ue.add(de)}if(F===0&&i&&!g&&(x?g=Be(()=>i(u)):(g=Be(()=>i(rs??=it())),g.f|=at)),!x)if(ve){for(const[$,Ce]of v)ue.has($)||re.skipped_effects.add(Ce.e);re.oncommit(a),re.ondiscard(()=>{})}else a();t(A)}),E={effect:Z,items:v,outrogroups:null,fallback:g};x=!1}function oi(e,n,r,s,o){var i=(s&fa)!==0,u=n.length,v=e.items,l=e.effect.first,c,g=null,A,q=[],x=[],a,Z,E,F;if(i)for(F=0;F<u;F+=1)a=n[F],Z=o(a,F),E=v.get(Z).e,(E.f&at)===0&&(E.nodes?.a?.measure(),(A??=new Set).add(E));for(F=0;F<u;F+=1){if(a=n[F],Z=o(a,F),E=v.get(Z).e,e.outrogroups!==null)for(const Ce of e.outrogroups)Ce.pending.delete(E),Ce.done.delete(E);if((E.f&at)!==0)if(E.f^=at,E===l)un(E,null,r);else{var ue=g?g.next:l;E===e.effect.last&&(e.effect.last=E.prev),E.prev&&(E.prev.next=E.next),E.next&&(E.next.prev=E.prev),dt(e,g,E),dt(e,E,ue),un(E,ue,r),g=E,q=[],x=[],l=g.next;continue}if((E.f&Fe)!==0&&(cr(E),i&&(E.nodes?.a?.unfix(),(A??=new Set).delete(E))),E!==l){if(c!==void 0&&c.has(E)){if(q.length<x.length){var re=x[0],ve;g=re.prev;var z=q[0],Ne=q[q.length-1];for(ve=0;ve<q.length;ve+=1)un(q[ve],re,r);for(ve=0;ve<x.length;ve+=1)c.delete(x[ve]);dt(e,z.prev,Ne.next),dt(e,g,z),dt(e,Ne,re),l=re,g=Ne,F-=1,q=[],x=[]}else c.delete(E),un(E,l,r),dt(e,E.prev,E.next),dt(e,E,g===null?e.effect.first:g.next),dt(e,g,E),g=E;continue}for(q=[],x=[];l!==null&&l!==E;)(c??=new Set).add(l),x.push(l),l=l.next;if(l===null)continue}(E.f&at)===0&&q.push(E),g=E,l=E.next}if(e.outrogroups!==null){for(const Ce of e.outrogroups)Ce.pending.size===0&&(nr(Sn(Ce.done)),e.outrogroups?.delete(Ce));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||c!==void 0){var de=[];if(c!==void 0)for(E of c)(E.f&Fe)===0&&de.push(E);for(;l!==null;)(l.f&Fe)===0&&l!==e.fallback&&de.push(l),l=l.next;var se=de.length;if(se>0){var $=(s&ds)!==0&&u===0?r:null;if(i){for(F=0;F<se;F+=1)de[F].nodes?.a?.measure();for(F=0;F<se;F+=1)de[F].nodes?.a?.fix()}si(e,de,$)}}i&&St(()=>{if(A!==void 0)for(E of A)E.nodes?.a?.apply()})}function ai(e,n,r,s,o,i,u,v){var l=(u&la)!==0?(u&ca)===0?V(r,!1,!1):It(r):null,c=(u&ua)!==0?It(o):null;return{v:l,i:c,e:Be(()=>(i(n,l??r,c??o,v),()=>{e.delete(s)}))}}function un(e,n,r){if(e.nodes)for(var s=e.nodes.start,o=e.nodes.end,i=n&&(n.f&at)===0?n.nodes.start:r;s!==null;){var u=mn(s);if(i.before(s),s===o)return;s=u}}function dt(e,n,r){n===null?e.effect.first=r:n.next=r,r===null?e.effect.last=n:r.prev=n}const ss=[...` 	
\r\fÂ \v\uFEFF`];function ii(e,n,r){var s=e==null?"":""+e;if(n&&(s=s?s+" "+n:n),r){for(var o in r)if(r[o])s=s?s+" "+o:o;else if(s.length)for(var i=o.length,u=0;(u=s.indexOf(o,u))>=0;){var v=u+i;(u===0||ss.includes(s[u-1]))&&(v===s.length||ss.includes(s[v]))?s=(u===0?"":s.substring(0,u))+s.substring(v+1):u=v}}return s===""?null:s}function Lt(e,n,r,s,o,i){var u=e.__className;if(u!==r||u===void 0){var v=ii(r,s,i);v==null?e.removeAttribute("class"):e.className=v,e.__className=r}else if(i&&o!==i)for(var l in i){var c=!!i[l];(o==null||c!==!!o[l])&&e.classList.toggle(l,c)}return i}const li=Symbol("is custom element"),ui=Symbol("is html");function _e(e,n,r,s){var o=fi(e);o[n]!==(o[n]=r)&&(n==="loading"&&(e[Zo]=r),r==null?e.removeAttribute(n):typeof r!="string"&&ci(e).includes(n)?e[n]=r:e.setAttribute(n,r))}function fi(e){return e.__attributes??={[li]:e.nodeName.includes("-"),[ui]:e.namespaceURI===_a}}var os=new Map;function ci(e){var n=e.getAttribute("is")||e.nodeName,r=os.get(n);if(r)return r;os.set(n,r=[]);for(var s,o=e,i=Element.prototype;i!==o;){s=ls(o);for(var u in s)s[u].set&&r.push(u);o=sr(o)}return r}function Hn(e,n,r=n){var s=new WeakSet;Os(e,"input",async o=>{var i=o?e.defaultValue:e.value;if(i=Wn(e)?Gn(i):i,r(i),W!==null&&s.add(W),await Ya(),i!==(i=n())){var u=e.selectionStart,v=e.selectionEnd,l=e.value.length;if(e.value=i??"",v!==null){var c=e.value.length;u===v&&v===l&&c>l?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=u,e.selectionEnd=Math.min(v,c))}}}),p(n)==null&&e.value&&(r(Wn(e)?Gn(e.value):e.value),W!==null&&s.add(W)),gn(()=>{var o=n();if(e===document.activeElement){var i=qn??W;if(s.has(i))return}Wn(e)&&o===Gn(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}const Yn=new Set;function as(e,n,r,s,o=s){var i=r.getAttribute("type")==="checkbox",u=e;if(n!==null)for(var v of n)u=u[v]??=[];u.push(r),Os(r,"change",()=>{var l=r.__value;i&&(l=vi(u,l,r.checked)),o(l)},()=>o(i?[]:null)),gn(()=>{var l=s();i?(l=l||[],r.checked=l.includes(r.__value)):r.checked=Oa(r.__value,l)}),ur(()=>{var l=u.indexOf(r);l!==-1&&u.splice(l,1)}),Yn.has(u)||(Yn.add(u),St(()=>{u.sort((l,c)=>l.compareDocumentPosition(c)===4?-1:1),Yn.delete(u)})),St(()=>{})}function vi(e,n,r){for(var s=new Set,o=0;o<e.length;o+=1)e[o].checked&&s.add(e[o].__value);return r||s.delete(n),Array.from(s)}function Wn(e){var n=e.type;return n==="number"||n==="range"}function Gn(e){return e===""?null:+e}function sn(e){return function(...n){var r=n[0];return r.stopPropagation(),e?.apply(this,n)}}function di(e=!1){const n=ne,r=n.l.u;if(!r)return;let s=()=>Ga(n.s);if(e){let o=0,i={};const u=ir(()=>{let v=!1;const l=n.s;for(const c in l)l[c]!==i[c]&&(i[c]=l[c],v=!0);return v&&o++,o});s=()=>t(u)}r.b.length&&Fa(()=>{is(n,s),Qn(r.b)}),er(()=>{const o=p(()=>r.m.map(Ko));return()=>{for(const i of o)typeof i=="function"&&i()}}),r.a.length&&er(()=>{is(n,s),Qn(r.a)})}function is(e,n){if(e.l.s)for(const r of e.l.s)t(r);n()}function on(e,n){var r=e.$$events?.[n.type],s=rr(r)?r.slice():r==null?[]:[r];for(var o of s)o.call(this,n)}function _i(e){ne===null&&Jo(),hn&&ne.l!==null?hi(ne).m.push(e):er(()=>{const n=p(e);if(typeof n=="function")return n})}function hi(e){var n=e.l;return n.u??={a:[],b:[],m:[]}}const pi="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(pi);ga();var mi=D('<div class="demo-intro svelte-1n46o8q"><p class="svelte-1n46o8q">This demo compares how iNaturalist currently handles subspecies identifications versus a proposed alternative approach. Click an example below or enter an observation ID to explore the differences. Click "Tutorial" in the header for detailed instructions. <a href="https://www.inaturalist.org/blog/122781" target="_blank" rel="noopener noreferrer">Read more on our blog</a>.</p> <div class="demo-links svelte-1n46o8q"><a href="/subspecies_identifications_demo/?obs=0&amp;ids=120135%3AA%3A%25F0%259F%2598%2583%3A0%7C27250%3AB%3A%25F0%259F%2599%2583%3A0" class="demo-link svelte-1n46o8q"><img src="/subspecies_identifications_demo/current.jpg" alt="Current" class="svelte-1n46o8q"/></a> <a href="/subspecies_identifications_demo/?obs=0&amp;mode=alternative&amp;ids=120135%3AA%3A%25F0%259F%2598%2583%3A0%7C27250%3AB%3A%25F0%259F%2599%2583%3A0" class="demo-link svelte-1n46o8q"><img src="/subspecies_identifications_demo/alternative.jpg" alt="Alternative" class="svelte-1n46o8q"/></a></div></div>'),gi=D('<div class="error svelte-1n46o8q"> </div>'),bi=D('<form><div class="input-group svelte-1n46o8q"><input id="obs-id" type="text" placeholder="Load an iNat observation by entering the ID, e.g. 47963, or click the Tutorial for more details" class="svelte-1n46o8q"/> <button type="submit" class="svelte-1n46o8q"> </button></div></form> <!>',1),yi=D('<div class="alternative-explanation svelte-1n46o8q">This mode simulates a proposed alternative for handling infraspecies on iNaturalist, where observations do not advance to infraspecies until the community taxon itself reaches the infraspecies rank.</div>'),xi=D('<a target="_blank" rel="noopener noreferrer" class="obs-link svelte-1n46o8q" title="View on iNaturalist">ðŸ”—</a>'),wi=D('<img alt="Observation" class="observation-photo svelte-1n46o8q"/>'),qi=D('<img class="user-icon svelte-1n46o8q"/>'),ki=D('<div class="user-icon-placeholder smiley svelte-1n46o8q"> </div>'),Ei=D('<div class="user-icon-placeholder svelte-1n46o8q"> </div>'),Ti=D('<img class="user-icon svelte-1n46o8q"/>'),Ci=D('<div class="user-icon-placeholder smiley svelte-1n46o8q"> </div>'),Ai=D('<div class="user-icon-placeholder svelte-1n46o8q"> </div>'),Si=D('<button><!> <span class="user-login svelte-1n46o8q"> </span></button>'),Di=D('<div class="observer-dropdown svelte-1n46o8q"></div>'),Ii=D('<div class="observer-chooser svelte-1n46o8q"><button class="observer-selector svelte-1n46o8q"><div class="user-info svelte-1n46o8q"><!> <span class="user-login svelte-1n46o8q"> </span> <span class="dropdown-arrow svelte-1n46o8q">â–¼</span></div></button> <!></div>'),Oi=D('<img class="user-icon svelte-1n46o8q"/>'),Ni=D('<div class="user-icon-placeholder smiley svelte-1n46o8q"> </div>'),Ri=D('<div class="user-icon-placeholder svelte-1n46o8q"> </div>'),Pi=D('<div class="user-info svelte-1n46o8q"><!> <span class="user-login svelte-1n46o8q"> </span></div>'),Mi=D('<div class="user-opted-out-message svelte-1n46o8q">User has opted-out of Community Taxon</div>'),Fi=D('<img class="community-taxon-icon svelte-1n46o8q"/>'),Li=D('<div class="community-taxon-info svelte-1n46o8q"><!> <span class="community-taxon-name svelte-1n46o8q"> </span></div> <div class="cumulative-ids svelte-1n46o8q"><!></div>',1),ji=D('<div class="community-taxon-message svelte-1n46o8q">The Community ID requires at least two identifications.</div>'),$i=D('<img class="user-icon svelte-1n46o8q"/>'),Ui=D('<div class="user-icon-placeholder smiley svelte-1n46o8q"> </div>'),Vi=D('<div class="user-icon-placeholder svelte-1n46o8q"> </div>'),Bi=D('<img class="taxon-photo svelte-1n46o8q"/>'),zi=D('<div class="disagreement svelte-1n46o8q"> </div>'),Hi=D('<button class="remove-id-btn svelte-1n46o8q">Ã—</button>'),Yi=D('<div><div class="id-user svelte-1n46o8q"><!> <span class="user-login svelte-1n46o8q"> </span></div> <div class="id-taxon svelte-1n46o8q"><!> <div class="taxon-info svelte-1n46o8q"><span class="taxon-name svelte-1n46o8q"> </span> <!></div></div> <!></div>'),Wi=D('<img class="taxon-result-photo svelte-1n46o8q"/>'),Gi=D('<div class="taxon-result svelte-1n46o8q"><!> <div class="taxon-result-info svelte-1n46o8q"><div class="taxon-result-name svelte-1n46o8q"> </div></div></div>'),Ki=D('<div class="taxon-dropdown svelte-1n46o8q"></div>'),Qi=D('<button class="vote-count svelte-1n46o8q"> </button>'),Zi=D('<span class="vote-count-zero svelte-1n46o8q">(0)</span>'),Ji=D('<button class="vote-count svelte-1n46o8q"> </button>'),Xi=D('<span class="vote-count-zero svelte-1n46o8q">(0)</span>'),el=D('<div class="error svelte-1n46o8q"> </div>'),tl=D(`<!> <div class="results svelte-1n46o8q"><div class="taxon-quality-row svelte-1n46o8q"><span class="taxon-name-display svelte-1n46o8q"> </span> <div class="quality-grade-container svelte-1n46o8q"><span> </span> <!></div></div> <div class="obs-content svelte-1n46o8q"><div class="photo-column svelte-1n46o8q"><!></div> <div class="info-column svelte-1n46o8q"><div class="detail svelte-1n46o8q"><strong class="svelte-1n46o8q">Observed:</strong> </div> <div class="detail user-detail svelte-1n46o8q"><strong class="svelte-1n46o8q">Observer:</strong> <div class="user-info-container svelte-1n46o8q"><!></div></div> <div class="community-taxon-section svelte-1n46o8q"><div class="community-taxon-label svelte-1n46o8q"><strong class="svelte-1n46o8q">Community Taxon:</strong> <button>what's this?</button></div> <!> <div class="community-taxon-box svelte-1n46o8q"><!></div></div></div></div> <div class="identifications-section svelte-1n46o8q"><h3 class="svelte-1n46o8q">Identification activity</h3> <!> <div class="add-id-form svelte-1n46o8q"><h4 class="svelte-1n46o8q">Add your identification</h4> <div class="taxon-search svelte-1n46o8q"><input type="text" placeholder="Search for a taxon..." class="taxon-input svelte-1n46o8q"/> <!></div> <button type="button" class="submit-id-btn svelte-1n46o8q">Add Identification</button></div> <div><div class="needs-id-votes-label svelte-1n46o8q">Based on the evidence, can the Community Taxon be improved?<br/> <!></div> <div class="needs-id-votes-row svelte-1n46o8q"><div class="vote-option svelte-1n46o8q"><button class="vote-checkmark svelte-1n46o8q" title="Vote Yes">âœ“</button> <span class="vote-label svelte-1n46o8q">Yes</span> <!></div> <div class="vote-option svelte-1n46o8q"><button class="vote-checkmark svelte-1n46o8q" title="Vote No">âœ“</button> <span class="vote-label svelte-1n46o8q">No, it's as good as it can be</span> <!></div></div></div></div></div> <form class="bottom-form svelte-1n46o8q"><div class="input-group svelte-1n46o8q"><input id="obs-id-bottom" type="text" placeholder="Load an iNat observation by entering the ID, e.g. 47963, or click the Tutorial for more details" class="svelte-1n46o8q"/> <button type="submit" class="svelte-1n46o8q"> </button></div></form> <!>`,1),nl=D('<tr><td class="svelte-1n46o8q"><!></td><td class="svelte-1n46o8q"> </td><td class="svelte-1n46o8q"> </td><td class="svelte-1n46o8q"> </td><td class="svelte-1n46o8q"> </td><td class="svelte-1n46o8q"> </td></tr>'),rl=D('<div class="modal-overlay svelte-1n46o8q"><div class="modal-content svelte-1n46o8q"><div class="modal-header svelte-1n46o8q"><h2 class="svelte-1n46o8q">Algorithm Summary</h2> <button class="modal-close svelte-1n46o8q">Ã—</button></div> <div class="modal-body svelte-1n46o8q"><table class="algorithm-table svelte-1n46o8q"><thead><tr><th class="svelte-1n46o8q">Taxon</th><th class="svelte-1n46o8q">Identification Count</th><th class="svelte-1n46o8q">Cumulative Count</th><th class="svelte-1n46o8q">Disagreement Count</th><th class="svelte-1n46o8q">Ancestor Disagreements</th><th class="svelte-1n46o8q">Score</th></tr></thead><tbody class="svelte-1n46o8q"></tbody></table></div></div></div>'),sl=D('<div class="modal-overlay svelte-1n46o8q"><div class="modal-content disagreement-modal svelte-1n46o8q"><div class="modal-header svelte-1n46o8q"><h2 class="svelte-1n46o8q">Potential Disagreement</h2> <button class="modal-close svelte-1n46o8q">Ã—</button></div> <div class="modal-body svelte-1n46o8q"><p class="disagreement-question svelte-1n46o8q"> </p> <div class="disagreement-options svelte-1n46o8q"><button class="disagreement-btn btn-yes svelte-1n46o8q"> </button> <button class="disagreement-btn btn-no svelte-1n46o8q"> </button></div></div></div></div>'),ol=D('<img class="voter-icon svelte-1n46o8q"/>'),al=D('<div class="voter-icon-placeholder smiley svelte-1n46o8q"> </div>'),il=D('<div class="voter-icon-placeholder svelte-1n46o8q"> </div>'),ll=D('<button class="remove-vote-btn svelte-1n46o8q">Ã—</button>'),ul=D('<li class="voter-item svelte-1n46o8q"><!> <span class="voter-login svelte-1n46o8q"> </span> <!></li>'),fl=D('<div class="modal-overlay svelte-1n46o8q"><div class="modal-content votes-modal svelte-1n46o8q"><div class="modal-header svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <button class="modal-close svelte-1n46o8q">Ã—</button></div> <div class="modal-body svelte-1n46o8q"><ul class="voters-list svelte-1n46o8q"></ul></div></div></div>'),cl=D('<div class="modal-overlay svelte-1n46o8q"><div class="modal-content survey-modal svelte-1n46o8q"><div class="modal-header svelte-1n46o8q"><h2 class="svelte-1n46o8q">Vote on your preference</h2> <button class="modal-close svelte-1n46o8q">Ã—</button></div> <div class="modal-body survey-body svelte-1n46o8q"><div data-tf-live="we8cmOvB" class="svelte-1n46o8q"></div></div></div></div>'),vl=D(`<div class="modal-overlay svelte-1n46o8q"><div class="modal-content tutorial-modal svelte-1n46o8q"><div class="modal-header svelte-1n46o8q"><h2 class="svelte-1n46o8q">How to Use This Demo</h2> <button class="modal-close svelte-1n46o8q">Ã—</button></div> <div class="modal-body tutorial-body svelte-1n46o8q"><h3 class="svelte-1n46o8q">Getting Started</h3> <ol class="svelte-1n46o8q"><li class="svelte-1n46o8q"><strong>Load an observation</strong> by entering an iNaturalist observation ID (e.g., 47963 which you find in an observation URL, e.g. <a href="https://www.inaturalist.org/observations/47963" target="_blank" rel="noopener noreferrer" class="svelte-1n46o8q">https://www.inaturalist.org/observations/47963</a>) in the input field and clicking "Fetch Observation" <ul class="svelte-1n46o8q"><li class="svelte-1n46o8q">Or use <code class="svelte-1n46o8q">0</code> for a blank unknown observation</li> <li class="svelte-1n46o8q">Or use <code class="svelte-1n46o8q">-1</code> for a blank observation with an observer who has opted-out of the community taxon</li> <li class="svelte-1n46o8q">Or click on one of the example images to see a pre-configured scenario</li></ul></li></ol> <h3 class="svelte-1n46o8q">Exploring the Demo</h3> <ol start="2" class="svelte-1n46o8q"><li class="svelte-1n46o8q"><strong>Toggle between modes</strong> using the "Current" and "Alternative" radio buttons in the upper right to see how each approach handles subspecies identifications</li> <li class="svelte-1n46o8q"><strong>Add identifications</strong> by: <ul class="svelte-1n46o8q"><li class="svelte-1n46o8q">Scrolling to the "Add your identification" section</li> <li class="svelte-1n46o8q">Searching for a taxon by typing in the search box</li> <li class="svelte-1n46o8q">Selecting a taxon from the dropdown</li> <li class="svelte-1n46o8q">Clicking "Add Identification"</li></ul></li> <li class="svelte-1n46o8q"><strong>View the algorithm</strong> by clicking "what's this?" next to "Community Taxon" to see how the community taxon is calculated</li> <li class="svelte-1n46o8q"><strong>Add votes</strong> on whether the Community Taxon can be improved by clicking the checkmarks next to "Yes" or "No, it's as good as it can be"</li> <li class="svelte-1n46o8q"><strong>Vote on your preference</strong> between Current and Alternative modes by clicking the "Vote on your preference" button in the upper right</li> <li class="svelte-1n46o8q"><strong>Reset the demo</strong> at any time by clicking on the title "iNaturalist Subspecies Identifications Demo"</li></ol> <h3 class="svelte-1n46o8q">Understanding the Display</h3> <ul class="svelte-1n46o8q"><li class="svelte-1n46o8q">Watch how the <strong>observation label</strong> (shown at the top) changes as you add identifications</li> <li class="svelte-1n46o8q">The <strong>quality grade</strong> badge shows whether the observation is Research Grade, Needs ID, or Casual</li> <li class="svelte-1n46o8q">The <strong>Community Taxon</strong> box shows the calculated consensus identification</li> <li class="svelte-1n46o8q">Demo identifications and votes have an "Ã—" button to remove them</li></ul></div></div></div>`),dl=D('<main class="svelte-1n46o8q"><div class="header-container svelte-1n46o8q"><h1 class="clickable-title svelte-1n46o8q"><img src="https://static.inaturalist.org/wiki_page_attachments/3154-original.png" alt="iNaturalist logo" class="title-logo svelte-1n46o8q"/> iNaturalist Subspecies Identifications Demo</h1> <div class="header-disclaimer svelte-1n46o8q"><div class="disclaimer-line svelte-1n46o8q">This demo does not write anything back to iNat.</div> <div class="disclaimer-line svelte-1n46o8q"><strong>No data will change on iNat via its use.</strong></div></div> <div class="header-controls svelte-1n46o8q"><button class="tutorial-btn svelte-1n46o8q">Tutorial</button> <div class="mode-toggle svelte-1n46o8q"><span class="mode-label svelte-1n46o8q">Mode:</span> <label class="mode-option svelte-1n46o8q"><input type="radio" name="mode" class="svelte-1n46o8q"/> <span class="svelte-1n46o8q">Current</span></label> <label class="mode-option svelte-1n46o8q"><input type="radio" name="mode" class="svelte-1n46o8q"/> <span class="svelte-1n46o8q">Alternative</span></label></div> <button class="survey-btn svelte-1n46o8q">Vote on your preference</button></div></div> <!> <!> <!> <!> <!> <!> <!> <!> <footer class="demo-footer svelte-1n46o8q"><p class="svelte-1n46o8q">This is a temporary demo built quickly using <a href="https://code.claude.com/docs/en/overview" target="_blank" rel="noopener noreferrer" class="svelte-1n46o8q">Claude Code</a>, it does not adhere to the engineering standards of the iNaturalist <a href="https://www.inaturalist.org/" target="_blank" rel="noopener noreferrer" class="svelte-1n46o8q">platform</a> or <a href="https://github.com/inaturalist" target="_blank" rel="noopener noreferrer" class="svelte-1n46o8q">codebase</a>. The demo will be live only for as long as it takes to come to a path forward. Once we deploy and QA an update to the main site, we will retire this demo.</p> <p class="footer-links svelte-1n46o8q"><a href="https://github.com/loarie/subspecies_identifications_demo" target="_blank" rel="noopener noreferrer" class="svelte-1n46o8q">Source</a> <span class="separator svelte-1n46o8q">â€¢</span> <span>Last updated: January 8, 2026</span></p></footer></main>');function _l(e,n){ps(n,!1);const r=V(),s=V(),o=V(),i=V(),u=V(),v=V(),l=V(),c=V(),g=V(),A=V(),q=[];let x=V(""),a=V(null),Z=V(!1),E=V(""),F=V(""),ue=V([]),re=V(null),ve=V(!1),z=V([]),Ne=V(!1),de=0,se=V(!1),$=V(null),Ce=V(!1),mt=V(null),Gt=0,he=V([]),ye=V("current"),Nt=V(!1),gt=V(!1),Kt=V(!1),bn=V(!1),Rt=V(null),yn=V(0),xn=V(null);const vr=["ðŸ˜Š","ðŸ™‚","ðŸ˜Ž","ðŸ¤“","ðŸ˜€","ðŸ¤—","ðŸ˜ƒ","ðŸ˜„","ðŸ™ƒ","ðŸ˜","ðŸ˜º","ðŸ±","ðŸ¦Š","ðŸ¶","ðŸ¼","ðŸ¨","ðŸ¦","ðŸ¯","ðŸ¸","ðŸ"];function Qt(){return vr[Math.floor(Math.random()*vr.length)]}function Ws(){if(!t(a)||t(a).id!==0&&t(a).id!==-1||t(z).length===0&&t(he).length===0&&t(ye)==="current")return;const f=new URLSearchParams;if(f.set("obs",t(a).id.toString()),t(ye)!=="current"&&f.set("mode",t(ye)),t(z).length>0){const b=t(z).map(C=>{const S=C.user.login.replace("Person",""),L=C.user.emoji||"",H=C.disagreement?"1":"0";return`${C.taxon.id}:${S}:${encodeURIComponent(L)}:${H}`}).join("|");f.set("ids",b)}if(t(he).length>0){const b=t(he).map(C=>{const S=C.user.login.replace("User",""),L=C.user.emoji||"";return`${C.vote_flag?"1":"0"}:${S}:${encodeURIComponent(L)}`}).join("|");f.set("votes",b)}const _=`${window.location.pathname}?${f.toString()}`;window.history.replaceState({},"",_)}async function Gs(){const f=new URLSearchParams(window.location.search),_=f.get("obs");if(!_)return;d(x,_),f.get("mode")==="alternative"&&d(ye,"alternative"),await dr(),d(x,"");const C=f.get("ids");if(C&&t(a)){const L=C.split("|");for(const H of L){const[oe,K,y,m]=H.split(":");try{const j=await(await fetch(`https://api.inaturalist.org/v1/taxa/${oe}`)).json();if(j.results&&j.results.length>0){const le=j.results[0],fe=decodeURIComponent(y),Re={id:`demo-${Date.now()}-${Math.random()}`,user:{id:K==="0"?-1:-K.charCodeAt(0),login:`Person${K}`,icon:null,emoji:fe},taxon:le,current:!0,created_at:new Date().toISOString(),disagreement:m==="1",previous_observation_taxon:m==="1"?t(a).taxon:null};d(z,[...t(z),Re]),de++,await new Promise(J=>setTimeout(J,10))}}catch(O){console.error(`Failed to load taxon ${oe}:`,O)}}}const S=f.get("votes");if(S&&t(a)){const L=S.split("|");for(const H of L){const[oe,K,y]=H.split(":"),m=decodeURIComponent(y),O={id:`demo-vote-${Date.now()}-${Math.random()}`,user:{login:`User${K}`,icon:null,emoji:m},vote_scope:"needs_id",vote_flag:oe==="1",created_at:new Date().toISOString()};d(he,[...t(he),O]),Gt++,await new Promise(j=>setTimeout(j,10))}}}_i(()=>{Gs();const f=document.createElement("script");f.src="https://embed.typeform.com/next/embed.js",f.async=!0,document.head.appendChild(f)});function Ks(){d(x,""),d(a,null),d(Z,!1),d(E,""),d(F,""),d(ue,[]),d(re,null),d(ve,!1),d(z,[]),d(Ne,!1),de=0,d(se,!1),d($,null),d(Ce,!1),d(mt,null),Gt=0,d(he,[]),d(ye,"current"),d(Nt,!1),d(gt,!1),d(Kt,!1),window.history.replaceState({},"",window.location.pathname)}async function dr(){if(!t(x).trim()){d(E,"Please enter an observation ID");return}d(Z,!0),d(E,""),d(a,null),d(z,[]),de=0,d(he,[]),Gt=0;try{if(t(x)==="0"){d(a,{id:0,uuid:"00000000-0000-0000-0000-000000000000",species_guess:null,taxon:null,quality_grade:"needs_id",identifications:[],votes:[],observed_on:"2026-01-01",observed_on_details:{year:2026,month:1,day:1},time_observed_at:null,observed_time_zone:null,created_at:new Date().toISOString(),created_at_details:{year:new Date().getFullYear(),month:new Date().getMonth()+1,day:new Date().getDate()},created_time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone,user:{id:0,login:"Person0",icon:null,emoji:Qt(),preferences:{prefers_community_taxa:!0}},observation_photos:[{photo:{url:"https://inaturalist-open-data.s3.amazonaws.com/photos/77105/medium.jpg"}}],sounds:[],obscured:!1,private_geojson:null}),d(Z,!1);return}if(t(x)==="-1"){d(a,{id:-1,uuid:"00000000-0000-0000-0000-000000000001",species_guess:null,taxon:null,quality_grade:"needs_id",identifications:[],votes:[],observed_on:"2026-01-01",observed_on_details:{year:2026,month:1,day:1},time_observed_at:null,observed_time_zone:null,created_at:new Date().toISOString(),created_at_details:{year:new Date().getFullYear(),month:new Date().getMonth()+1,day:new Date().getDate()},created_time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone,user:{id:-1,login:"Person0",icon:null,emoji:Qt(),preferences:{prefers_community_taxa:!1,prefers_community_taxon:!1}},observation_photos:[{photo:{url:"https://inaturalist-open-data.s3.amazonaws.com/photos/77105/medium.jpg"}}],sounds:[],obscured:!1,private_geojson:null}),d(Z,!1);return}const f=await fetch(`https://api.inaturalist.org/v1/observations/${t(x)}`);if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const _=await f.json();_.results&&_.results.length>0?d(a,_.results[0]):d(E,"Observation not found")}catch(f){d(E,`Error fetching observation: ${f.message}`)}finally{d(Z,!1)}}function _r(f){f.preventDefault(),t(x),dr(),d(x,"")}function Qs(f){if(!f.taxon)return"No taxon identified";const _=f.taxon.preferred_common_name,b=f.taxon.name;return _&&b?`${_} (${b})`:b||_||"No taxon identified"}function hr(f){return f.observation_photos&&f.observation_photos.length>0?f.observation_photos[0].photo.url:null}function Zs(f){return f==="research"?"Research Grade":f==="needs_id"?"Needs ID":f==="casual"?"Casual":f}function Js(f){if(!f)return"Unknown";const _=f.preferred_common_name,b=f.name;return _&&b?`${_} (${b})`:b||_||"Unknown"}function pr(f){return!f.identifications||f.identifications.length===0?[]:[...f.identifications].sort((_,b)=>new Date(_.created_at).getTime()-new Date(b.created_at).getTime())}function mr(f){return f.taxon&&f.taxon.default_photo&&f.taxon.default_photo.url?f.taxon.default_photo.url:null}async function Xs(){if(t(F).length<2){d(ue,[]),d(ve,!1);return}try{const _=await(await fetch(`https://api.inaturalist.org/v1/taxa/autocomplete?q=${encodeURIComponent(t(F))}`)).json();d(ue,_.results||[]),d(ve,!0)}catch(f){console.error("Error searching taxa:",f),d(ue,[])}}async function eo(f){try{const b=await(await fetch(`https://api.inaturalist.org/v1/taxa/${f.id}`)).json();b.results&&b.results.length>0?d(re,b.results[0]):d(re,f)}catch(_){console.error("Error fetching full taxon:",_),d(re,f)}d(F,f.name),d(ve,!1)}function to(){if(!t(re)||!t(a))return;const f=String.fromCharCode(65+de),_=Qt();let b=!1,C=null,S=!1;if(t(a).taxon)if(t(re).id===t(a).taxon.id)S=!1,b=!1;else{const H=t(re).ancestor_ids||[],K=(t(a).taxon.ancestor_ids||[]).includes(t(re).id),y=H.includes(t(a).taxon.id);K?S=!0:y||(b=!0,C=t(a).taxon)}const L={id:`demo-${Date.now()}`,user:{id:-f.charCodeAt(0),login:`Person${f}`,icon:null,emoji:_},taxon:t(re),current:!0,created_at:new Date().toISOString(),disagreement:b,previous_observation_taxon:C};S?(d($,L),d(se,!0)):(d(z,[...t(z),L]),de++,d(F,""),d(re,null),d(ue,[]))}function gr(f){t($)&&(f&&t(a).taxon?(Y($,t($).disagreement=!0),Y($,t($).previous_observation_taxon=t(a).taxon)):(Y($,t($).disagreement=!1),Y($,t($).previous_observation_taxon=null)),d(z,[...t(z),t($)]),de++,d(se,!1),d($,null),d(F,""),d(re,null),d(ue,[]))}function no(f){d(z,t(z).filter(_=>_.id!==f))}function br(f){return[...pr(f),...t(z)]}function yr(f){d(mt,f),d(Ce,!0)}function xr(f){if(!t(a))return;const _=String.fromCharCode(65+Gt),b=Qt(),C={id:`demo-vote-${Date.now()}`,user:{login:`User${_}`,icon:null,emoji:b},vote_scope:"needs_id",vote_flag:f,created_at:new Date().toISOString()};d(he,[...t(he),C]),Gt++}function ro(f){d(he,t(he).filter(_=>_.id!==f))}function so(f){if(!t(a))return;const _={...f,preferences:{prefers_community_taxa:!1,prefers_community_taxon:!1}};Y(a,t(a).user=_),d(Nt,!1),d(a,t(a))}function oo(){if(!t(a))return;const f=br(t(a)).filter(_=>_.current!==!1);if(t(u)){const _=f.find(b=>b.user.login===t(a).user.login||b.user.id===t(a).user.id);_?Y(a,t(a).taxon=_.taxon):Y(a,t(a).taxon=null);return}if(f.length===0){Y(a,t(a).taxon=null);return}if(f.length===1){if(t(ye)==="alternative"){const _=f[0].taxon;if(_&&_.rank_level&&_.rank_level<10){const b=_.ancestors?.find(C=>C.rank_level===10);Y(a,t(a).taxon=b||_)}else Y(a,t(a).taxon=_)}else Y(a,t(a).taxon=f[0].taxon);return}if(f.length>=2)if(t(o))if(f.some(b=>b.disagreement===!0)){Y(a,t(a).taxon=t(o));return}else{const b=f.filter(C=>C.taxon?C.taxon.id===t(o).id||C.taxon.ancestor_ids&&C.taxon.ancestor_ids.includes(t(o).id):!1);if(b.length>0){const S=b.reduce((L,H)=>{const oe=L.taxon?.rank_level||1/0;return(H.taxon?.rank_level||1/0)<oe?H:L}).taxon;if(t(ye)==="alternative")if(S&&S.rank_level&&S.rank_level<10&&t(o).rank_level&&t(o).rank_level>=10){const L=S.ancestors?.find(H=>H.rank_level===10);Y(a,t(a).taxon=L||t(o))}else Y(a,t(a).taxon=S);else if(S&&S.rank_level&&S.rank_level<10&&S.ancestor_ids&&S.ancestor_ids.includes(t(o).id)){const H=f.filter(y=>y.taxon?.id===S.id).sort((y,m)=>{const O=new Date(y.created_at).getTime(),j=new Date(m.created_at).getTime();return O!==j?O-j:(y.id||"").localeCompare(m.id||"")})[0],K=f.filter(y=>y.taxon?.id===t(o).id).sort((y,m)=>{const O=new Date(y.created_at).getTime(),j=new Date(m.created_at).getTime();return O!==j?O-j:(y.id||"").localeCompare(m.id||"")})[0];if(H&&K){const y=new Date(H.created_at).getTime(),m=new Date(K.created_at).getTime();if(y<m)Y(a,t(a).taxon=S);else if(y>m){const O=S.ancestors?.find(j=>j.rank_level===10);O?Y(a,t(a).taxon=O):Y(a,t(a).taxon=t(o))}else Y(a,t(a).taxon=t(o))}else Y(a,t(a).taxon=S)}else Y(a,t(a).taxon=S);return}Y(a,t(a).taxon=t(o))}else{const _=f.filter(b=>!b.disagreement);if(_.length>0){const b=_.reduce((C,S)=>{const L=C.taxon?.rank_level||1/0;return(S.taxon?.rank_level||1/0)<L?S:C});Y(a,t(a).taxon=b.taxon)}}}function ao(){if(t(a)){if(t(u)&&t(a).taxon){if(t(a).taxon.rank_level&&t(a).taxon.rank_level>10)Y(a,t(a).quality_grade="needs_id");else if(t(o)){const f=t(a).taxon.id===t(o).id,_=t(o).ancestor_ids&&t(o).ancestor_ids.includes(t(a).taxon.id),b=t(a).taxon.ancestor_ids&&t(a).taxon.ancestor_ids.includes(t(o).id);!f&&!_&&!b&&Y(a,t(a).quality_grade="casual")}}else if(t(o)){const f=t(o).rank_level&&t(o).rank_level<=10,_=t(a).taxon&&t(a).taxon.rank_level&&t(o).rank_level&&t(a).taxon.rank_level<t(o).rank_level;f&&!_?Y(a,t(a).quality_grade="research"):Y(a,t(a).quality_grade="needs_id")}else Y(a,t(a).quality_grade="needs_id");t(g).length>t(c).length&&t(a).quality_grade==="needs_id"&&(t(a).taxon&&t(o)&&t(a).taxon.id===t(o).id&&t(a).taxon.rank_level&&t(a).taxon.rank_level<30?Y(a,t(a).quality_grade="research"):Y(a,t(a).quality_grade="casual")),t(c).length>t(g).length&&t(a).quality_grade==="research"&&Y(a,t(a).quality_grade="needs_id")}}function io(f){const _=br(f).filter(m=>m.current!==!1),b=new Map;_.forEach(m=>{m.taxon&&(b.has(m.taxon.id)||b.set(m.taxon.id,m.taxon),m.taxon.ancestors&&m.taxon.ancestors.forEach(O=>{b.has(O.id)||b.set(O.id,O)}))});const C={id:48460,name:"Life",rank:"stateofmatter",rank_level:100,preferred_common_name:null,ancestor_ids:[]};b.has(C.id)||b.set(C.id,C);const S=new Map;b.forEach(m=>{S.set(m.id,[])}),b.forEach(m=>{if(m.ancestor_ids&&m.ancestor_ids.length>0){let O=null,j=1/0;m.ancestor_ids.forEach(le=>{const fe=b.get(le);fe&&(fe.rank_level||0)>(m.rank_level||0)&&(fe.rank_level||0)<j&&(j=fe.rank_level||0,O=le)}),O&&S.has(O)?S.get(O).push(m):S.get(C.id).push(m)}else m.id!==C.id&&S.get(C.id).push(m)});function L(m){return _.filter(O=>O.taxon?O.taxon.id===m.id||O.taxon.ancestor_ids&&O.taxon.ancestor_ids.includes(m.id):!1).length}const H=[];function oe(m){H.push(m);const O=S.get(m.id)||[];O.sort((j,le)=>{const fe=(le.rank_level||0)-(j.rank_level||0);if(fe!==0)return fe;const Re=L(le)-L(j);return Re!==0?Re:(j.name||"").localeCompare(le.name||"")}),O.forEach(j=>oe(j))}oe(C);const K=H.map(m=>{const O=_.filter(J=>J.taxon?.id===m.id),j=_.filter(J=>J.taxon?J.taxon.id===m.id||J.taxon.ancestor_ids&&J.taxon.ancestor_ids.includes(m.id):!1),le=_.filter(J=>!(!J.taxon||J.taxon.id===m.id||J.taxon.ancestor_ids&&J.taxon.ancestor_ids.includes(m.id)||m.ancestor_ids&&m.ancestor_ids.includes(J.taxon.id))),fe=_.filter(J=>!J.taxon||!J.disagreement?!1:J.taxon.id!==m.id&&m.ancestor_ids&&m.ancestor_ids.includes(J.taxon.id)),Re=j.length/(j.length+le.length+fe.length);return{taxon:m,identificationCount:O.length,cumulativeCount:j.length,disagreementCount:le.length,ancestorDisagreements:fe.length,score:Re,totalIds:_.length}});let y=-1;if(_.length>=2){for(let m=K.length-1;m>=0;m--)if(K[m].score>2/3&&K[m].cumulativeCount>=2){y=m;break}}return K.map((m,O)=>({...m,isCommunityTaxon:O===y}))}xe(()=>t(gt),()=>{if(t(gt)&&typeof window<"u"){const f=()=>{const _=window.tf;if(_&&_.createWidget){const b=document.querySelector('[data-tf-live="we8cmOvB"]');if(b){if(b.querySelector("iframe"))return;b.innerHTML="";try{_.createWidget("we8cmOvB",{container:b,height:700,width:"100%",opacity:100,hidden:{},onReady:()=>console.log("Typeform ready"),onSubmit:()=>console.log("Typeform submitted")})}catch(C){console.error("Error creating Typeform widget:",C)}}}else setTimeout(f,200)};setTimeout(f,100)}}),xe(()=>(t(a),t(z)),()=>{d(r,t(a)?[...pr(t(a)),...t(z)]:[])}),xe(()=>(t(a),t(z)),()=>{d(s,t(a)&&t(z)!==void 0?io(t(a)):[])}),xe(()=>t(s),()=>{d(o,t(s).find(f=>f.isCommunityTaxon)?.taxon||null)}),xe(()=>t(s),()=>{d(i,t(s).find(f=>f.isCommunityTaxon)||null)}),xe(()=>t(a),()=>{d(u,t(a)?t(a).user?.preferences?.prefers_community_taxa===!1&&t(a).user?.preferences?.prefers_community_taxon!==!0||t(a).user?.preferences?.prefers_community_taxon===!1:!1)}),xe(()=>(t(o),t(xn)),()=>{const f=t(o)?.id||null;t(xn)!==null&&f!==t(xn)&&d(he,[]),d(xn,f)}),xe(()=>(t(a),t(he)),()=>{d(v,t(a)?.votes?[...t(a).votes,...t(he)]:[...t(he)])}),xe(()=>t(v),()=>{d(l,t(v).filter(f=>f.vote_scope==="needs_id"))}),xe(()=>t(l),()=>{d(c,t(l).filter(f=>f.vote_flag===!0))}),xe(()=>t(l),()=>{d(g,t(l).filter(f=>f.vote_flag===!1))}),xe(()=>(t(a),t(r),t(o),t(u),t(c),t(g),t(ye),t(yn)),()=>{t(a)&&t(a).user&&t(r)!==void 0&&t(o)!==void 0&&t(u)!==void 0&&t(c)!==void 0&&t(g)!==void 0&&t(ye)!==void 0&&(oo(),ao(),Ia(yn))}),xe(()=>(t(yn),t(a),t(r),t(o)),()=>{t(yn),t(a)?t(r).some(_=>_.disagreement===!0)&&t(o)?d(Rt,t(o)):d(Rt,t(a).taxon):d(Rt,null)}),xe(()=>(t(c),t(g),t(a),t(o),t(Rt),t(u)),()=>{d(bn,t(c).length>0||t(g).length>0?!1:t(a)&&t(a).taxon&&t(o)&&t(Rt)?t(o).id!==t(Rt).id&&!t(u):!t(o))}),xe(()=>(t(a),t(z)),()=>{d(A,t(a)&&t(a).id===-1?(()=>{const _=[{id:-1,login:"Person0",icon:null,emoji:t(a).user.emoji||Qt(),preferences:{prefers_community_taxa:!1,prefers_community_taxon:!1}}];return t(z).forEach(b=>{b.user.login.startsWith("Person")&&b.user.login!=="Person0"&&!_.find(C=>C.login===b.user.login)&&_.push(b.user)}),_})():[])}),xe(()=>(t(a),t(z),t(he),t(ye)),()=>{t(a)&&(t(z).length>0||t(he).length>0||t(ye)!=="current")&&Ws()}),ja(),di();var wr=dl(),qr=h(wr),kr=h(qr),lo=w(kr,4),Er=h(lo),Tr=w(Er,2),Cr=w(h(Tr),2),Rn=h(Cr);Rn.value=Rn.__value="current";var uo=w(Cr,2),Pn=h(uo);Pn.value=Pn.__value="alternative";var fo=w(Tr,2),Ar=w(qr,2);{var co=f=>{var _=mi();T(f,_)};M(Ar,f=>{t(a)||f(co)})}var Sr=w(Ar,2);{var vo=f=>{var _=bi(),b=st(_),C=h(b),S=h(C),L=w(S,2),H=h(L),oe=w(b,2);{var K=y=>{var m=gi(),O=h(m);R(()=>P(O,t(E))),T(y,m)};M(oe,y=>{t(E)&&y(K)})}R(()=>{L.disabled=t(Z),P(H,t(Z)?"Loading...":"Fetch Observation")}),Hn(S,()=>t(x),y=>d(x,y)),U("submit",b,_r),T(f,_)};M(Sr,f=>{t(a)||f(vo)})}var Dr=w(Sr,2);{var _o=f=>{var _=tl(),b=st(_);{var C=k=>{var I=yi();T(k,I)};M(b,k=>{t(ye)==="alternative"&&k(C)})}var S=w(b,2),L=h(S),H=h(L),oe=h(H),K=w(H,2),y=h(K),m=h(y),O=w(y,2);{var j=k=>{var I=xi();R(()=>_e(I,"href",`https://www.inaturalist.org/observations/${t(a),p(()=>t(a).id)??""}`)),T(k,I)};M(O,k=>{t(a),p(()=>t(a).id&&t(a).id>0)&&k(j)})}var le=w(L,2),fe=h(le),Re=h(fe);{var J=k=>{var I=wi();R(ae=>_e(I,"src",ae),[()=>(t(a),p(()=>hr(t(a)).replace("square","medium")))]),T(k,I)};M(Re,k=>{t(a),p(()=>hr(t(a)))&&k(J)})}var Zt=w(fe,2),bt=h(Zt),Ae=w(h(bt)),qe=w(bt,2),Jt=w(h(qe),2),Pt=h(Jt);{var Xt=k=>{var I=Ii(),ae=h(I),ie=h(ae),N=h(ie);{var Le=X=>{var ce=qi();R(()=>{_e(ce,"src",(t(a),p(()=>t(a).user.icon))),_e(ce,"alt",(t(a),p(()=>t(a).user.login)))}),T(X,ce)},Qe=X=>{var ce=Mt(),je=st(ce);{var ee=$e=>{var Je=ki(),yt=h(Je);R(()=>P(yt,(t(a),p(()=>t(a).user.emoji)))),T($e,Je)},Ze=$e=>{var Je=Ei(),yt=h(Je);R(en=>P(yt,en),[()=>(t(a),p(()=>t(a).user.login.charAt(0).toUpperCase()))]),T($e,Je)};M(je,$e=>{t(a),p(()=>t(a).user.emoji)?$e(ee):$e(Ze,!1)})}T(X,ce)};M(N,X=>{t(a),p(()=>t(a).user.icon)?X(Le):X(Qe,!1)})}var Ee=w(N,2),Se=h(Ee),rt=w(ae,2);{var pe=X=>{var ce=Di();rn(ce,5,()=>t(A),nn,(je,ee)=>{var Ze=Si();let $e;var Je=h(Ze);{var yt=Q=>{var te=Ti();R(()=>{_e(te,"src",(t(ee),p(()=>t(ee).icon))),_e(te,"alt",(t(ee),p(()=>t(ee).login)))}),T(Q,te)},en=Q=>{var te=Mt(),xt=st(te);{var Vn=Pe=>{var He=Ci(),wt=h(He);R(()=>P(wt,(t(ee),p(()=>t(ee).emoji)))),T(Pe,He)},Bn=Pe=>{var He=Ai(),wt=h(He);R(zn=>P(wt,zn),[()=>(t(ee),p(()=>t(ee).login.charAt(0).toUpperCase()))]),T(Pe,He)};M(xt,Pe=>{t(ee),p(()=>t(ee).emoji)?Pe(Vn):Pe(Bn,!1)})}T(Q,te)};M(Je,Q=>{t(ee),p(()=>t(ee).icon)?Q(yt):Q(en,!1)})}var $n=w(Je,2),Un=h($n);R(()=>{$e=Lt(Ze,1,"observer-option svelte-1n46o8q",null,$e,{selected:t(ee).login===t(a).user.login}),P(Un,(t(ee),p(()=>t(ee).login)))}),U("click",Ze,()=>so(t(ee))),T(je,Ze)}),T(X,ce)};M(rt,X=>{t(Nt),t(A),p(()=>t(Nt)&&t(A).length>0)&&X(pe)})}R(()=>P(Se,(t(a),p(()=>t(a).user.login)))),U("click",ae,()=>d(Nt,!t(Nt))),T(k,I)},Ge=k=>{var I=Pi(),ae=h(I);{var ie=Ee=>{var Se=Oi();R(()=>{_e(Se,"src",(t(a),p(()=>t(a).user.icon))),_e(Se,"alt",(t(a),p(()=>t(a).user.login)))}),T(Ee,Se)},N=Ee=>{var Se=Mt(),rt=st(Se);{var pe=ce=>{var je=Ni(),ee=h(je);R(()=>P(ee,(t(a),p(()=>t(a).user.emoji)))),T(ce,je)},X=ce=>{var je=Ri(),ee=h(je);R(Ze=>P(ee,Ze),[()=>(t(a),p(()=>t(a).user.login.charAt(0).toUpperCase()))]),T(ce,je)};M(rt,ce=>{t(a),p(()=>t(a).user.emoji)?ce(pe):ce(X,!1)})}T(Ee,Se)};M(ae,Ee=>{t(a),p(()=>t(a).user.icon)?Ee(ie):Ee(N,!1)})}var Le=w(ae,2),Qe=h(Le);R(()=>P(Qe,(t(a),p(()=>t(a).user.login)))),T(k,I)};M(Pt,k=>{t(a),p(()=>t(a).id===-1)?k(Xt):k(Ge,!1)})}var nt=w(qe,2),ke=h(nt),Ke=w(h(ke),2);let Pr;var Mr=w(ke,2);{var xo=k=>{var I=Mi();T(k,I)};M(Mr,k=>{t(u)&&k(xo)})}var wo=w(Mr,2),qo=h(wo);{var ko=k=>{var I=Li(),ae=st(I),ie=h(ae);{var N=pe=>{var X=Fi();R(()=>{_e(X,"src",(t(o),p(()=>t(o).default_photo.medium_url))),_e(X,"alt",(t(o),p(()=>t(o).name)))}),T(pe,X)};M(ie,pe=>{t(o),p(()=>t(o).default_photo?.medium_url)&&pe(N)})}var Le=w(ie,2),Qe=h(Le),Ee=w(ae,2),Se=h(Ee);{var rt=pe=>{var X=tn();R(()=>P(X,`Cumulative IDs: ${t(i),p(()=>t(i).cumulativeCount)??""} of ${t(i),p(()=>t(i).cumulativeCount+t(i).disagreementCount+t(i).ancestorDisagreements)??""}`)),T(pe,X)};M(Se,pe=>{t(i)&&pe(rt)})}R(()=>P(Qe,(t(o),p(()=>t(o).preferred_common_name?`${t(o).preferred_common_name} (${t(o).name})`:t(o).name)))),T(k,I)},Eo=k=>{var I=ji();T(k,I)};M(qo,k=>{t(o)?k(ko):k(Eo,!1)})}var To=w(le,2),Fr=w(h(To),2);{var Co=k=>{var I=Mt(),ae=st(I);rn(ae,1,()=>t(r),nn,(ie,N)=>{var Le=Yi(),Qe=h(Le),Ee=h(Qe);{var Se=Q=>{var te=$i();R(()=>{_e(te,"src",(t(N),p(()=>t(N).user.icon))),_e(te,"alt",(t(N),p(()=>t(N).user.login)))}),T(Q,te)},rt=Q=>{var te=Mt(),xt=st(te);{var Vn=Pe=>{var He=Ui(),wt=h(He);R(()=>P(wt,(t(N),p(()=>t(N).user.emoji)))),T(Pe,He)},Bn=Pe=>{var He=Vi(),wt=h(He);R(zn=>P(wt,zn),[()=>(t(N),p(()=>t(N).user.login.charAt(0).toUpperCase()))]),T(Pe,He)};M(xt,Pe=>{t(N),p(()=>t(N).user.emoji)?Pe(Vn):Pe(Bn,!1)})}T(Q,te)};M(Ee,Q=>{t(N),p(()=>t(N).user.icon)?Q(Se):Q(rt,!1)})}var pe=w(Ee,2),X=h(pe),ce=w(Qe,2),je=h(ce);{var ee=Q=>{var te=Bi();R(xt=>{_e(te,"src",xt),_e(te,"alt",(t(N),p(()=>t(N).taxon?.name||"Taxon")))},[()=>(t(N),p(()=>mr(t(N))))]),T(Q,te)};M(je,Q=>{t(N),p(()=>mr(t(N)))&&Q(ee)})}var Ze=w(je,2),$e=h(Ze),Je=h($e),yt=w($e,2);{var en=Q=>{var te=zi(),xt=h(te);R(()=>P(xt,`Disagrees with ${t(N),p(()=>t(N).previous_observation_taxon.name)??""}`)),T(Q,te)};M(yt,Q=>{t(N),p(()=>t(N).disagreement&&t(N).previous_observation_taxon)&&Q(en)})}var $n=w(ce,2);{var Un=Q=>{var te=Hi();U("click",te,()=>no(t(N).id)),T(Q,te)};M($n,Q=>{t(N),p(()=>t(N).id&&typeof t(N).id=="string"&&t(N).id.startsWith("demo-"))&&Q(Un)})}R(Q=>{Lt(Le,1,`identification-item ${t(N),p(()=>t(N).current===!1?"withdrawn":"")??""}`,"svelte-1n46o8q"),P(X,(t(N),p(()=>t(N).user.login))),P(Je,Q)},[()=>(t(N),p(()=>Js(t(N).taxon)))]),T(ie,Le)}),T(k,I)};M(Fr,k=>{t(r),p(()=>t(r).length>0)&&k(Co)})}var Lr=w(Fr,2),jr=w(h(Lr),2),Mn=h(jr),Ao=w(Mn,2);{var So=k=>{var I=Ki();rn(I,5,()=>t(ue),nn,(ae,ie)=>{var N=Gi(),Le=h(N);{var Qe=pe=>{var X=Wi();R(()=>{_e(X,"src",(t(ie),p(()=>t(ie).default_photo.square_url))),_e(X,"alt",(t(ie),p(()=>t(ie).name)))}),T(pe,X)};M(Le,pe=>{t(ie),p(()=>t(ie).default_photo?.square_url)&&pe(Qe)})}var Ee=w(Le,2),Se=h(Ee),rt=h(Se);R(()=>P(rt,(t(ie),p(()=>t(ie).preferred_common_name?`${t(ie).preferred_common_name} (${t(ie).name})`:t(ie).name)))),U("click",N,()=>eo(t(ie))),T(ae,N)}),T(k,I)};M(Ao,k=>{t(ve),t(ue),p(()=>t(ve)&&t(ue).length>0)&&k(So)})}var $r=w(jr,2),Ur=w(Lr,2);let Vr;var Br=h(Ur),Do=w(h(Br),3);{var Io=k=>{var I=tn();R(()=>P(I,`Current Community Taxon: ${t(o),p(()=>t(o).preferred_common_name?`${t(o).preferred_common_name} (${t(o).name})`:t(o).name)??""}`)),T(k,I)},Oo=k=>{var I=tn("Current Community Taxon: None");T(k,I)};M(Do,k=>{t(o)?k(Io):k(Oo,!1)})}var No=w(Br,2),zr=h(No),Fn=h(zr),Ro=w(Fn,4);{var Po=k=>{var I=Qi(),ae=h(I);R(()=>P(ae,`(${t(c),p(()=>t(c).length)??""})`)),U("click",I,()=>yr("yes")),T(k,I)},Mo=k=>{var I=Zi();T(k,I)};M(Ro,k=>{t(c),p(()=>t(c).length>0)?k(Po):k(Mo,!1)})}var Fo=w(zr,2),Ln=h(Fo),Lo=w(Ln,4);{var jo=k=>{var I=Ji(),ae=h(I);R(()=>P(ae,`(${t(g),p(()=>t(g).length)??""})`)),U("click",I,()=>yr("no")),T(k,I)},$o=k=>{var I=Xi();T(k,I)};M(Lo,k=>{t(g),p(()=>t(g).length>0)?k(jo):k($o,!1)})}var jn=w(S,2),Uo=h(jn),Hr=h(Uo),Yr=w(Hr,2),Vo=h(Yr),Bo=w(jn,2);{var zo=k=>{var I=el(),ae=h(I);R(()=>P(ae,t(E))),T(k,I)};M(Bo,k=>{t(E)&&k(zo)})}R((k,I)=>{P(oe,k),Lt(y,1,`quality-grade ${t(a),p(()=>t(a).quality_grade)??""}`,"svelte-1n46o8q"),P(m,I),P(Ae,` ${t(a),p(()=>t(a).observed_on||"No date recorded")??""}`),Pr=Lt(Ke,1,"whats-this-link svelte-1n46o8q",null,Pr,{disabled:t(r).length<2}),$r.disabled=!t(re),Vr=Lt(Ur,1,"needs-id-votes-section svelte-1n46o8q",null,Vr,{disabled:t(bn)}),Fn.disabled=t(bn),Ln.disabled=t(bn),Yr.disabled=t(Z),P(Vo,t(Z)?"Loading...":"Fetch Observation")},[()=>(t(a),p(()=>Qs(t(a)))),()=>(t(a),p(()=>Zs(t(a).quality_grade)))]),U("click",Ke,()=>{t(r).length>=2&&d(Ne,!0)}),Hn(Mn,()=>t(F),k=>d(F,k)),U("input",Mn,Xs),U("click",$r,to),U("click",Fn,()=>xr(!0)),U("click",Ln,()=>xr(!1)),Hn(Hr,()=>t(x),k=>d(x,k)),U("submit",jn,_r),T(f,_)};M(Dr,f=>{t(a)&&f(_o)})}var Ir=w(Dr,2);{var ho=f=>{var _=rl(),b=h(_),C=h(b),S=w(h(C),2),L=w(C,2),H=h(L),oe=w(h(H));rn(oe,5,()=>t(s),nn,(K,y)=>{var m=nl();let O;var j=h(m),le=h(j);{var fe=ke=>{var Ke=tn();R(()=>P(Ke,`${t(y),p(()=>t(y).taxon.preferred_common_name)??""} ${t(y),p(()=>t(y).taxon.rank)??""} ${t(y),p(()=>t(y).taxon.name)??""}`)),T(ke,Ke)},Re=ke=>{var Ke=tn();R(()=>P(Ke,`${t(y),p(()=>t(y).taxon.rank)??""} ${t(y),p(()=>t(y).taxon.name)??""}`)),T(ke,Ke)};M(le,ke=>{t(y),p(()=>t(y).taxon.preferred_common_name)?ke(fe):ke(Re,!1)})}var J=w(j),Zt=h(J),bt=w(J),Ae=h(bt),qe=w(bt),Jt=h(qe),Pt=w(qe),Xt=h(Pt),Ge=w(Pt),nt=h(Ge);R(ke=>{O=Lt(m,1,"svelte-1n46o8q",null,O,{"community-taxon-row":t(y).isCommunityTaxon}),P(Zt,(t(y),p(()=>t(y).identificationCount))),P(Ae,(t(y),p(()=>t(y).cumulativeCount))),P(Jt,(t(y),p(()=>t(y).disagreementCount))),P(Xt,(t(y),p(()=>t(y).ancestorDisagreements))),P(nt,`${t(y),p(()=>t(y).cumulativeCount)??""} / (${t(y),p(()=>t(y).cumulativeCount)??""}+${t(y),p(()=>t(y).disagreementCount)??""}+${t(y),p(()=>t(y).ancestorDisagreements)??""}=${t(y),p(()=>t(y).cumulativeCount+t(y).disagreementCount+t(y).ancestorDisagreements)??""}) = ${ke??""}`)},[()=>(t(y),p(()=>t(y).score.toFixed(2)))]),T(K,m)}),U("click",S,()=>d(Ne,!1)),U("click",b,sn(function(K){on.call(this,n,K)})),U("click",_,()=>d(Ne,!1)),T(f,_)};M(Ir,f=>{t(Ne)&&t(a)&&f(ho)})}var Or=w(Ir,2);{var po=f=>{var _=sl(),b=h(_),C=h(b),S=w(h(C),2),L=w(C,2),H=h(L),oe=h(H),K=w(H,2),y=h(K),m=h(y),O=w(y,2),j=h(O);R(()=>{P(oe,`Is the evidence provided enough to confirm this is
            ${t(a),p(()=>t(a).taxon.preferred_common_name?`${t(a).taxon.preferred_common_name} (${t(a).taxon.rank} ${t(a).taxon.name})`:`${t(a).taxon.rank} ${t(a).taxon.name}`)??""}?`),P(m,`I don't know but I am sure this is
              ${t($),p(()=>t($).taxon.preferred_common_name?`${t($).taxon.preferred_common_name} (${t($).taxon.rank} ${t($).taxon.name})`:`${t($).taxon.rank} ${t($).taxon.name}`)??""}`),P(j,`No but it is a member of
              ${t($),p(()=>t($).taxon.preferred_common_name?`${t($).taxon.preferred_common_name} (${t($).taxon.rank} ${t($).taxon.name})`:`${t($).taxon.rank} ${t($).taxon.name}`)??""}`)}),U("click",S,()=>{d(se,!1),d($,null)}),U("click",y,()=>gr(!1)),U("click",O,()=>gr(!0)),U("click",b,sn(function(le){on.call(this,n,le)})),U("click",_,()=>{d(se,!1),d($,null)}),T(f,_)};M(Or,f=>{t(se),t($),t(a),p(()=>t(se)&&t($)&&t(a)&&t(a).taxon)&&f(po)})}var Nr=w(Or,2);{var mo=f=>{var _=fl(),b=h(_),C=h(b),S=h(C),L=h(S),H=w(S,2),oe=w(C,2),K=h(oe);rn(K,5,()=>t(mt)==="yes"?t(c):t(g),nn,(y,m)=>{var O=ul(),j=h(O);{var le=Ae=>{var qe=ol();R(()=>{_e(qe,"src",(t(m),p(()=>t(m).user.icon))),_e(qe,"alt",(t(m),p(()=>t(m).user.login)))}),T(Ae,qe)},fe=Ae=>{var qe=Mt(),Jt=st(qe);{var Pt=Ge=>{var nt=al(),ke=h(nt);R(()=>P(ke,(t(m),p(()=>t(m).user.emoji)))),T(Ge,nt)},Xt=Ge=>{var nt=il(),ke=h(nt);R(Ke=>P(ke,Ke),[()=>(t(m),p(()=>t(m).user?.login?.charAt(0)?.toUpperCase()||"?"))]),T(Ge,nt)};M(Jt,Ge=>{t(m),p(()=>t(m).user?.emoji)?Ge(Pt):Ge(Xt,!1)})}T(Ae,qe)};M(j,Ae=>{t(m),p(()=>t(m).user?.icon)?Ae(le):Ae(fe,!1)})}var Re=w(j,2),J=h(Re),Zt=w(Re,2);{var bt=Ae=>{var qe=ll();U("click",qe,()=>ro(t(m).id)),T(Ae,qe)};M(Zt,Ae=>{t(m),p(()=>t(m).id&&typeof t(m).id=="string"&&t(m).id.startsWith("demo-vote-"))&&Ae(bt)})}R(()=>P(J,(t(m),p(()=>t(m).user?.login||"Unknown")))),T(y,O)}),R(()=>P(L,`${t(mt)==="yes"?"Yes":"No, it's as good as it can be"} Votes`)),U("click",H,()=>{d(Ce,!1),d(mt,null)}),U("click",b,sn(function(y){on.call(this,n,y)})),U("click",_,()=>{d(Ce,!1),d(mt,null)}),T(f,_)};M(Nr,f=>{t(Ce)&&t(mt)&&f(mo)})}var Rr=w(Nr,2);{var go=f=>{var _=cl(),b=h(_),C=h(b),S=w(h(C),2);U("click",S,()=>d(gt,!1)),U("click",b,sn(function(L){on.call(this,n,L)})),U("click",_,()=>d(gt,!1)),T(f,_)};M(Rr,f=>{t(gt)&&f(go)})}var bo=w(Rr,2);{var yo=f=>{var _=vl(),b=h(_),C=h(b),S=w(h(C),2);U("click",S,()=>d(Kt,!1)),U("click",b,sn(function(L){on.call(this,n,L)})),U("click",_,()=>d(Kt,!1)),T(f,_)};M(bo,f=>{t(Kt)&&f(yo)})}U("click",kr,Ks),U("click",Er,()=>d(Kt,!0)),as(q,[],Rn,()=>t(ye),f=>d(ye,f)),as(q,[],Pn,()=>t(ye),f=>d(ye,f)),U("click",fo,()=>d(gt,!0)),T(e,wr),ms()}ei(_l,{target:document.getElementById("app")});
