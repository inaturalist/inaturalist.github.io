(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();const Kn=!1;var rr=Array.isArray,Yo=Array.prototype.indexOf,Sn=Array.from,Go=Object.defineProperty,fn=Object.getOwnPropertyDescriptor,fs=Object.getOwnPropertyDescriptors,Ko=Object.prototype,Qo=Array.prototype,sr=Object.getPrototypeOf,Kr=Object.isExtensible;function Zo(e){return e()}function Qn(e){for(var n=0;n<e.length;n++)e[n]()}function cs(){var e,n,r=new Promise((s,o)=>{e=s,n=o});return{promise:r,resolve:e,reject:n}}const xe=2,vs=4,Dn=8,Jo=1<<24,ut=16,ft=32,Nt=64,In=128,Ye=512,be=1024,Pe=2048,Ge=4096,Le=8192,_t=16384,or=32768,Bt=65536,Qr=1<<17,ds=1<<18,Gt=1<<19,_s=1<<20,at=1<<25,St=32768,Zn=1<<21,ar=1<<22,ht=1<<23,Et=Symbol("$state"),Xo=Symbol(""),Vt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ea(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ta(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function na(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ra(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function sa(e){throw new Error("https://svelte.dev/e/effect_orphan")}function oa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function aa(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ia(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function la(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ua(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const fa=1,ca=2,hs=4,va=8,da=16,_a=1,ha=2,qe=Symbol(),pa="http://www.w3.org/1999/xhtml";function ma(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function ps(e){return e===this.v}function ga(e,n){return e!=e?n==n:e!==n||e!==null&&typeof e=="object"||typeof e=="function"}function ms(e){return!ga(e,this.v)}let hn=!1,ba=!1;function ya(){hn=!0}let ae=null;function zt(e){ae=e}function gs(e,n=!1,r){ae={p:ae,i:!1,c:null,e:null,s:e,x:null,l:hn&&!n?{s:null,u:null,$:[]}:null}}function bs(e){var n=ae,r=n.e;if(r!==null){n.e=null;for(var s of r)Rs(s)}return n.i=!0,ae=n.p,{}}function pn(){return!hn||ae!==null&&ae.l===null}let kt=[];function ys(){var e=kt;kt=[],Qn(e)}function Dt(e){if(kt.length===0&&!cn){var n=kt;queueMicrotask(()=>{n===kt&&ys()})}kt.push(e)}function xa(){for(;kt.length>0;)ys()}function xs(e){var n=W;if(n===null)return B.f|=ht,e;if((n.f&or)===0){if((n.f&In)===0)throw e;n.b.error(e)}else Ht(e,n)}function Ht(e,n){for(;n!==null;){if((n.f&In)!==0)try{n.b.error(e);return}catch(r){e=r}n=n.parent}throw e}const wn=new Set;let H=null,qn=null,He=null,Be=[],On=null,Jn=!1,cn=!1;class et{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#l=null;#o=new Set;#s=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(n){Be=[],qn=null,this.apply();var r={parent:null,effect:null,effects:[],render_effects:[]};for(const s of n)this.#a(s,r);this.is_fork||this.#f(),this.is_deferred()?(this.#i(r.effects),this.#i(r.render_effects)):(qn=this,H=null,Zr(r.render_effects),Zr(r.effects),qn=null,this.#l?.resolve()),He=null}#a(n,r){n.f^=be;for(var s=n.first;s!==null;){var o=s.f,i=(o&(ft|Nt))!==0,u=i&&(o&be)!==0,v=u||(o&Le)!==0||this.skipped_effects.has(s);if((s.f&In)!==0&&s.b?.is_pending()&&(r={parent:r,effect:s,effects:[],render_effects:[]}),!v&&s.fn!==null){i?s.f^=be:(o&vs)!==0?r.effects.push(s):Qt(s)&&((s.f&ut)!==0&&this.#o.add(s),Yt(s));var l=s.first;if(l!==null){s=l;continue}}var c=s.parent;for(s=s.next;s===null&&c!==null;)c===r.effect&&(this.#i(r.effects),this.#i(r.render_effects),r=r.parent),s=c.next,c=c.parent}}#i(n){for(const r of n)(r.f&Pe)!==0?this.#o.add(r):(r.f&Ge)!==0&&this.#s.add(r),this.#u(r.deps),ye(r,be)}#u(n){if(n!==null)for(const r of n)(r.f&xe)===0||(r.f&St)===0||(r.f^=St,this.#u(r.deps))}capture(n,r){this.previous.has(n)||this.previous.set(n,r),(n.f&ht)===0&&(this.current.set(n,n.v),He?.set(n,n.v))}activate(){H=this,this.apply()}deactivate(){H===this&&(H=null,He=null)}flush(){if(this.activate(),Be.length>0){if(ws(),H!==null&&H!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const n of this.#t)n(this);this.#t.clear()}#f(){if(this.#n===0){for(const n of this.#e)n();this.#e.clear()}this.#r===0&&this.#c()}#c(){if(wn.size>1){this.previous.clear();var n=He,r=!0,s={parent:null,effect:null,effects:[],render_effects:[]};for(const i of wn){if(i===this){r=!1;continue}const u=[];for(const[l,c]of this.current){if(i.current.has(l))if(r&&c!==i.current.get(l))i.current.set(l,c);else continue;u.push(l)}if(u.length===0)continue;const v=[...i.current.keys()].filter(l=>!this.current.has(l));if(v.length>0){var o=Be;Be=[];const l=new Set,c=new Map;for(const m of u)qs(m,v,l,c);if(Be.length>0){H=i,i.apply();for(const m of Be)i.#a(m,s);i.deactivate()}Be=o}}H=null,He=n}this.committed=!0,wn.delete(this)}increment(n){this.#r+=1,n&&(this.#n+=1)}decrement(n){this.#r-=1,n&&(this.#n-=1),this.revive()}revive(){for(const n of this.#o)this.#s.delete(n),ye(n,Pe),It(n);for(const n of this.#s)ye(n,Ge),It(n);this.flush()}oncommit(n){this.#e.add(n)}ondiscard(n){this.#t.add(n)}settled(){return(this.#l??=cs()).promise}static ensure(){if(H===null){const n=H=new et;wn.add(H),cn||et.enqueue(()=>{H===n&&n.flush()})}return H}static enqueue(n){Dt(n)}apply(){}}function wa(e){var n=cn;cn=!0;try{for(var r;;){if(xa(),Be.length===0&&(H?.flush(),Be.length===0))return On=null,r;ws()}}finally{cn=n}}function ws(){var e=Tt;Jn=!0;var n=null;try{var r=0;for(An(!0);Be.length>0;){var s=et.ensure();if(r++>1e3){var o,i;qa()}s.process(Be),pt.clear()}}finally{Jn=!1,An(e),On=null}}function qa(){try{oa()}catch(e){Ht(e,On)}}let ot=null;function Zr(e){var n=e.length;if(n!==0){for(var r=0;r<n;){var s=e[r++];if((s.f&(_t|Le))===0&&Qt(s)&&(ot=new Set,Yt(s),s.deps===null&&s.first===null&&s.nodes===null&&(s.teardown===null&&s.ac===null?Ls(s):s.fn=null),ot?.size>0)){pt.clear();for(const o of ot){if((o.f&(_t|Le))!==0)continue;const i=[o];let u=o.parent;for(;u!==null;)ot.has(u)&&(ot.delete(u),i.push(u)),u=u.parent;for(let v=i.length-1;v>=0;v--){const l=i[v];(l.f&(_t|Le))===0&&Yt(l)}}ot.clear()}}ot=null}}function qs(e,n,r,s){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const o of e.reactions){const i=o.f;(i&xe)!==0?qs(o,n,r,s):(i&(ar|ut))!==0&&(i&Pe)===0&&ks(o,n,s)&&(ye(o,Pe),It(o))}}function ks(e,n,r){const s=r.get(e);if(s!==void 0)return s;if(e.deps!==null)for(const o of e.deps){if(n.includes(o))return!0;if((o.f&xe)!==0&&ks(o,n,r))return r.set(o,!0),!0}return r.set(e,!1),!1}function It(e){for(var n=On=e;n.parent!==null;){n=n.parent;var r=n.f;if(Jn&&n===W&&(r&ut)!==0&&(r&ds)===0)return;if((r&(Nt|ft))!==0){if((r&be)===0)return;n.f^=be}}Be.push(n)}function ka(e){let n=0,r=Ot(0),s;return()=>{dn()&&(t(r),gn(()=>(n===0&&(s=p(()=>e(()=>vn(r)))),n+=1,()=>{Dt(()=>{n-=1,n===0&&(s?.(),s=void 0,vn(r))})})))}}var Ea=Bt|Gt|In;function Aa(e,n,r){new Ta(e,n,r)}class Ta{parent;#e=!1;#t;#r=null;#n;#l;#o;#s=null;#a=null;#i=null;#u=null;#f=null;#c=0;#v=0;#_=!1;#d=null;#b=ka(()=>(this.#d=Ot(this.#c),()=>{this.#d=null}));constructor(n,r,s){this.#t=n,this.#n=r,this.#l=s,this.parent=W.b,this.#e=!!this.#n.pending,this.#o=fr(()=>{W.b=this;{var o=this.#m();try{this.#s=ze(()=>s(o))}catch(i){this.error(i)}this.#v>0?this.#p():this.#e=!1}return()=>{this.#f?.remove()}},Ea)}#y(){try{this.#s=ze(()=>this.#l(this.#t))}catch(n){this.error(n)}this.#e=!1}#x(){const n=this.#n.pending;n&&(this.#a=ze(()=>n(this.#t)),et.enqueue(()=>{var r=this.#m();this.#s=this.#h(()=>(et.ensure(),ze(()=>this.#l(r)))),this.#v>0?this.#p():(At(this.#a,()=>{this.#a=null}),this.#e=!1)}))}#m(){var n=this.#t;return this.#e&&(this.#f=it(),this.#t.before(this.#f),n=this.#f),n}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#h(n){var r=W,s=B,o=ae;nt(this.#o),Oe(this.#o),zt(this.#o.ctx);try{return n()}catch(i){return xs(i),null}finally{nt(r),Oe(s),zt(o)}}#p(){const n=this.#n.pending;this.#s!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#f),Vs(this.#s,this.#u)),this.#a===null&&(this.#a=ze(()=>n(this.#t)))}#g(n){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(n);return}this.#v+=n,this.#v===0&&(this.#e=!1,this.#a&&At(this.#a,()=>{this.#a=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(n){this.#g(n),this.#c+=n,this.#d&&Wt(this.#d,this.#c)}get_effect_pending(){return this.#b(),t(this.#d)}error(n){var r=this.#n.onerror;let s=this.#n.failed;if(this.#_||!r&&!s)throw n;this.#s&&(Ne(this.#s),this.#s=null),this.#a&&(Ne(this.#a),this.#a=null),this.#i&&(Ne(this.#i),this.#i=null);var o=!1,i=!1;const u=()=>{if(o){ma();return}o=!0,i&&ua(),et.ensure(),this.#c=0,this.#i!==null&&At(this.#i,()=>{this.#i=null}),this.#e=this.has_pending_snippet(),this.#s=this.#h(()=>(this.#_=!1,ze(()=>this.#l(this.#t)))),this.#v>0?this.#p():this.#e=!1};var v=B;try{Oe(null),i=!0,r?.(n,u),i=!1}catch(l){Ht(l,this.#o&&this.#o.parent)}finally{Oe(v)}s&&Dt(()=>{this.#i=this.#h(()=>{et.ensure(),this.#_=!0;try{return ze(()=>{s(this.#t,()=>n,()=>u)})}catch(l){return Ht(l,this.#o.parent),null}finally{this.#_=!1}})})}}function Ca(e,n,r,s){const o=pn()?ir:Es;if(r.length===0&&e.length===0){s(n.map(o));return}var i=H,u=W,v=Sa();function l(){Promise.all(r.map(c=>Da(c))).then(c=>{v();try{s([...n.map(o),...c])}catch(m){(u.f&_t)===0&&Ht(m,u)}i?.deactivate(),kn()}).catch(c=>{Ht(c,u)})}e.length>0?Promise.all(e).then(()=>{v();try{return l()}finally{i?.deactivate(),kn()}}):l()}function Sa(){var e=W,n=B,r=ae,s=H;return function(i=!0){nt(e),Oe(n),zt(r),i&&s?.activate()}}function kn(){nt(null),Oe(null),zt(null)}function ir(e){var n=xe|Pe,r=B!==null&&(B.f&xe)!==0?B:null;return W!==null&&(W.f|=Gt),{ctx:ae,deps:null,effects:null,equals:ps,f:n,fn:e,reactions:null,rv:0,v:qe,wv:0,parent:r??W,ac:null}}function Da(e,n){let r=W;r===null&&ta();var s=r.b,o=void 0,i=Ot(qe),u=!B,v=new Map;return Va(()=>{var l=cs();o=l.promise;try{Promise.resolve(e()).then(l.resolve,l.reject).then(()=>{c===H&&c.committed&&c.deactivate(),kn()})}catch(w){l.reject(w),kn()}var c=H;if(u){var m=!s.is_pending();s.update_pending_count(1),c.increment(m),v.get(c)?.reject(Vt),v.delete(c),v.set(c,l)}const C=(w,y=void 0)=>{if(c.activate(),y)y!==Vt&&(i.f|=ht,Wt(i,y));else{(i.f&ht)!==0&&(i.f^=ht),Wt(i,w);for(const[a,Z]of v){if(v.delete(a),a===c)break;Z.reject(Vt)}}u&&(s.update_pending_count(-1),c.decrement(m))};l.promise.then(C,w=>C(null,w||"unknown"))}),ur(()=>{for(const l of v.values())l.reject(Vt)}),new Promise(l=>{function c(m){function C(){m===o?l(i):c(o)}m.then(C,C)}c(o)})}function Es(e){const n=ir(e);return n.equals=ms,n}function As(e){var n=e.effects;if(n!==null){e.effects=null;for(var r=0;r<n.length;r+=1)Ne(n[r])}}function Ia(e){for(var n=e.parent;n!==null;){if((n.f&xe)===0)return(n.f&_t)===0?n:null;n=n.parent}return null}function lr(e){var n,r=W;nt(Ia(e));try{e.f&=~St,As(e),n=Ws(e)}finally{nt(r)}return n}function Ts(e){var n=lr(e);if(e.equals(n)||(H?.is_fork||(e.v=n),e.wv=zs()),!Kt)if(He!==null)(dn()||H?.is_fork)&&He.set(e,n);else{var r=(e.f&Ye)===0?Ge:be;ye(e,r)}}let Xn=new Set;const pt=new Map;let Cs=!1;function Ot(e,n){var r={f:0,v:e,reactions:null,equals:ps,rv:0,wv:0};return r}function vt(e,n){const r=Ot(e);return Ha(r),r}function U(e,n=!1,r=!0){const s=Ot(e);return n||(s.equals=ms),hn&&r&&ae!==null&&ae.l!==null&&(ae.l.s??=[]).push(s),s}function Q(e,n){return d(e,p(()=>t(e))),n}function d(e,n,r=!1){B!==null&&(!tt||(B.f&Qr)!==0)&&pn()&&(B.f&(xe|ut|ar|Qr))!==0&&!lt?.includes(e)&&la();let s=r?an(n):n;return Wt(e,s)}function Wt(e,n){if(!e.equals(n)){var r=e.v;Kt?pt.set(e,n):pt.set(e,r),e.v=n;var s=et.ensure();s.capture(e,r),(e.f&xe)!==0&&((e.f&Pe)!==0&&lr(e),ye(e,(e.f&Ye)!==0?be:Ge)),e.wv=zs(),Ss(e,Pe),pn()&&W!==null&&(W.f&be)!==0&&(W.f&(ft|Nt))===0&&(Ve===null?Wa([e]):Ve.push(e)),!s.is_fork&&Xn.size>0&&!Cs&&Oa()}return n}function Oa(){Cs=!1;var e=Tt;An(!0);const n=Array.from(Xn);try{for(const r of n)(r.f&be)!==0&&ye(r,Ge),Qt(r)&&Yt(r)}finally{An(e)}Xn.clear()}function Na(e,n=1){var r=t(e),s=n===1?r++:r--;return d(e,r),s}function vn(e){d(e,e.v+1)}function Ss(e,n){var r=e.reactions;if(r!==null)for(var s=pn(),o=r.length,i=0;i<o;i++){var u=r[i],v=u.f;if(!(!s&&u===W)){var l=(v&Pe)===0;if(l&&ye(u,n),(v&xe)!==0){var c=u;He?.delete(c),(v&St)===0&&(v&Ye&&(u.f|=St),Ss(c,Ge))}else l&&((v&ut)!==0&&ot!==null&&ot.add(u),It(u))}}}function an(e){if(typeof e!="object"||e===null||Et in e)return e;const n=sr(e);if(n!==Ko&&n!==Qo)return e;var r=new Map,s=rr(e),o=vt(0),i=Ct,u=v=>{if(Ct===i)return v();var l=B,c=Ct;Oe(null),ns(i);var m=v();return Oe(l),ns(c),m};return s&&r.set("length",vt(e.length)),new Proxy(e,{defineProperty(v,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&aa();var m=r.get(l);return m===void 0?m=u(()=>{var C=vt(c.value);return r.set(l,C),C}):d(m,c.value,!0),!0},deleteProperty(v,l){var c=r.get(l);if(c===void 0){if(l in v){const m=u(()=>vt(qe));r.set(l,m),vn(o)}}else d(c,qe),vn(o);return!0},get(v,l,c){if(l===Et)return e;var m=r.get(l),C=l in v;if(m===void 0&&(!C||fn(v,l)?.writable)&&(m=u(()=>{var y=an(C?v[l]:qe),a=vt(y);return a}),r.set(l,m)),m!==void 0){var w=t(m);return w===qe?void 0:w}return Reflect.get(v,l,c)},getOwnPropertyDescriptor(v,l){var c=Reflect.getOwnPropertyDescriptor(v,l);if(c&&"value"in c){var m=r.get(l);m&&(c.value=t(m))}else if(c===void 0){var C=r.get(l),w=C?.v;if(C!==void 0&&w!==qe)return{enumerable:!0,configurable:!0,value:w,writable:!0}}return c},has(v,l){if(l===Et)return!0;var c=r.get(l),m=c!==void 0&&c.v!==qe||Reflect.has(v,l);if(c!==void 0||W!==null&&(!m||fn(v,l)?.writable)){c===void 0&&(c=u(()=>{var w=m?an(v[l]):qe,y=vt(w);return y}),r.set(l,c));var C=t(c);if(C===qe)return!1}return m},set(v,l,c,m){var C=r.get(l),w=l in v;if(s&&l==="length")for(var y=c;y<C.v;y+=1){var a=r.get(y+"");a!==void 0?d(a,qe):y in v&&(a=u(()=>vt(qe)),r.set(y+"",a))}if(C===void 0)(!w||fn(v,l)?.writable)&&(C=u(()=>vt(void 0)),d(C,an(c)),r.set(l,C));else{w=C.v!==qe;var Z=u(()=>an(c));d(C,Z)}var E=Reflect.getOwnPropertyDescriptor(v,l);if(E?.set&&E.set.call(m,c),!w){if(s&&typeof l=="string"){var R=r.get("length"),ue=Number(l);Number.isInteger(ue)&&ue>=R.v&&d(R,ue+1)}vn(o)}return!0},ownKeys(v){t(o);var l=Reflect.ownKeys(v).filter(C=>{var w=r.get(C);return w===void 0||w.v!==qe});for(var[c,m]of r)m.v!==qe&&!(c in v)&&l.push(c);return l},setPrototypeOf(){ia()}})}function Jr(e){try{if(e!==null&&typeof e=="object"&&Et in e)return e[Et]}catch{}return e}function Pa(e,n){return Object.is(Jr(e),Jr(n))}var Xr,Ds,Is,Os;function Fa(){if(Xr===void 0){Xr=window,Ds=/Firefox/.test(navigator.userAgent);var e=Element.prototype,n=Node.prototype,r=Text.prototype;Is=fn(n,"firstChild").get,Os=fn(n,"nextSibling").get,Kr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Kr(r)&&(r.__t=void 0)}}function it(e=""){return document.createTextNode(e)}function En(e){return Is.call(e)}function mn(e){return Os.call(e)}function _(e,n){return En(e)}function Xe(e,n=!1){{var r=En(e);return r instanceof Comment&&r.data===""?mn(r):r}}function x(e,n=1,r=!1){let s=e;for(;n--;)s=mn(s);return s}function Ra(e){e.textContent=""}function Ns(){return!1}let es=!1;function Ma(){es||(es=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const n of e.target.elements)n.__on_r?.()})},{capture:!0}))}function Nn(e){var n=B,r=W;Oe(null),nt(null);try{return e()}finally{Oe(n),nt(r)}}function Ps(e,n,r,s=r){e.addEventListener(n,()=>Nn(r));const o=e.__on_r;o?e.__on_r=()=>{o(),s(!0)}:e.__on_r=()=>s(!0),Ma()}function Fs(e){W===null&&(B===null&&sa(),ra()),Kt&&na()}function ja(e,n){var r=n.last;r===null?n.last=n.first=e:(r.next=e,e.prev=r,n.last=e)}function ct(e,n,r){var s=W;s!==null&&(s.f&Le)!==0&&(e|=Le);var o={ctx:ae,deps:null,nodes:null,f:e|Pe|Ye,first:null,fn:n,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{Yt(o),o.f|=or}catch(v){throw Ne(o),v}else n!==null&&It(o);var i=o;if(r&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&Gt)===0&&(i=i.first,(e&ut)!==0&&(e&Bt)!==0&&i!==null&&(i.f|=Bt)),i!==null&&(i.parent=s,s!==null&&ja(i,s),B!==null&&(B.f&xe)!==0&&(e&Nt)===0)){var u=B;(u.effects??=[]).push(i)}return o}function dn(){return B!==null&&!tt}function ur(e){const n=ct(Dn,null,!1);return ye(n,be),n.teardown=e,n}function er(e){Fs();var n=W.f,r=!B&&(n&ft)!==0&&(n&or)===0;if(r){var s=ae;(s.e??=[]).push(e)}else return Rs(e)}function Rs(e){return ct(vs|_s,e,!1)}function La(e){return Fs(),ct(Dn|_s,e,!0)}function $a(e){et.ensure();const n=ct(Nt|Gt,e,!0);return(r={})=>new Promise(s=>{r.outro?At(n,()=>{Ne(n),s(void 0)}):(Ne(n),s(void 0))})}function we(e,n){var r=ae,s={effect:null,ran:!1,deps:e};r.l.$.push(s),s.effect=gn(()=>{e(),!s.ran&&(s.ran=!0,p(n))})}function Ua(){var e=ae;gn(()=>{for(var n of e.l.$){n.deps();var r=n.effect;(r.f&be)!==0&&ye(r,Ge),Qt(r)&&Yt(r),n.ran=!1}})}function Va(e){return ct(ar|Gt,e,!0)}function gn(e,n=0){return ct(Dn|n,e,!0)}function P(e,n=[],r=[],s=[]){Ca(s,n,r,o=>{ct(Dn,()=>e(...o.map(t)),!0)})}function fr(e,n=0){var r=ct(ut|n,e,!0);return r}function ze(e){return ct(ft|Gt,e,!0)}function Ms(e){var n=e.teardown;if(n!==null){const r=Kt,s=B;ts(!0),Oe(null);try{n.call(null)}finally{ts(r),Oe(s)}}}function js(e,n=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const o=r.ac;o!==null&&Nn(()=>{o.abort(Vt)});var s=r.next;(r.f&Nt)!==0?r.parent=null:Ne(r,n),r=s}}function Ba(e){for(var n=e.first;n!==null;){var r=n.next;(n.f&ft)===0&&Ne(n),n=r}}function Ne(e,n=!0){var r=!1;(n||(e.f&ds)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(za(e.nodes.start,e.nodes.end),r=!0),js(e,n&&!r),Tn(e,0),ye(e,_t);var s=e.nodes&&e.nodes.t;if(s!==null)for(const i of s)i.stop();Ms(e);var o=e.parent;o!==null&&o.first!==null&&Ls(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function za(e,n){for(;e!==null;){var r=e===n?null:mn(e);e.remove(),e=r}}function Ls(e){var n=e.parent,r=e.prev,s=e.next;r!==null&&(r.next=s),s!==null&&(s.prev=r),n!==null&&(n.first===e&&(n.first=s),n.last===e&&(n.last=r))}function At(e,n,r=!0){var s=[];$s(e,s,!0);var o=()=>{r&&Ne(e),n&&n()},i=s.length;if(i>0){var u=()=>--i||o();for(var v of s)v.out(u)}else o()}function $s(e,n,r){if((e.f&Le)===0){e.f^=Le;var s=e.nodes&&e.nodes.t;if(s!==null)for(const v of s)(v.is_global||r)&&n.push(v);for(var o=e.first;o!==null;){var i=o.next,u=(o.f&Bt)!==0||(o.f&ft)!==0&&(e.f&ut)!==0;$s(o,n,u?r:!1),o=i}}}function cr(e){Us(e,!0)}function Us(e,n){if((e.f&Le)!==0){e.f^=Le,(e.f&be)===0&&(ye(e,Pe),It(e));for(var r=e.first;r!==null;){var s=r.next,o=(r.f&Bt)!==0||(r.f&ft)!==0;Us(r,o?n:!1),r=s}var i=e.nodes&&e.nodes.t;if(i!==null)for(const u of i)(u.is_global||n)&&u.in()}}function Vs(e,n){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end;r!==null;){var o=r===s?null:mn(r);n.append(r),r=o}}let Tt=!1;function An(e){Tt=e}let Kt=!1;function ts(e){Kt=e}let B=null,tt=!1;function Oe(e){B=e}let W=null;function nt(e){W=e}let lt=null;function Ha(e){B!==null&&(lt===null?lt=[e]:lt.push(e))}let Ce=null,je=0,Ve=null;function Wa(e){Ve=e}let Bs=1,_n=0,Ct=_n;function ns(e){Ct=e}function zs(){return++Bs}function Qt(e){var n=e.f;if((n&Pe)!==0)return!0;if(n&xe&&(e.f&=~St),(n&Ge)!==0){var r=e.deps;if(r!==null)for(var s=r.length,o=0;o<s;o++){var i=r[o];if(Qt(i)&&Ts(i),i.wv>e.wv)return!0}(n&Ye)!==0&&He===null&&ye(e,be)}return!1}function Hs(e,n,r=!0){var s=e.reactions;if(s!==null&&!lt?.includes(e))for(var o=0;o<s.length;o++){var i=s[o];(i.f&xe)!==0?Hs(i,n,!1):n===i&&(r?ye(i,Pe):(i.f&be)!==0&&ye(i,Ge),It(i))}}function Ws(e){var n=Ce,r=je,s=Ve,o=B,i=lt,u=ae,v=tt,l=Ct,c=e.f;Ce=null,je=0,Ve=null,B=(c&(ft|Nt))===0?e:null,lt=null,zt(e.ctx),tt=!1,Ct=++_n,e.ac!==null&&(Nn(()=>{e.ac.abort(Vt)}),e.ac=null);try{e.f|=Zn;var m=e.fn,C=m(),w=e.deps;if(Ce!==null){var y;if(Tn(e,je),w!==null&&je>0)for(w.length=je+Ce.length,y=0;y<Ce.length;y++)w[je+y]=Ce[y];else e.deps=w=Ce;if(dn()&&(e.f&Ye)!==0)for(y=je;y<w.length;y++)(w[y].reactions??=[]).push(e)}else w!==null&&je<w.length&&(Tn(e,je),w.length=je);if(pn()&&Ve!==null&&!tt&&w!==null&&(e.f&(xe|Ge|Pe))===0)for(y=0;y<Ve.length;y++)Hs(Ve[y],e);return o!==null&&o!==e&&(_n++,Ve!==null&&(s===null?s=Ve:s.push(...Ve))),(e.f&ht)!==0&&(e.f^=ht),C}catch(a){return xs(a)}finally{e.f^=Zn,Ce=n,je=r,Ve=s,B=o,lt=i,zt(u),tt=v,Ct=l}}function Ya(e,n){let r=n.reactions;if(r!==null){var s=Yo.call(r,e);if(s!==-1){var o=r.length-1;o===0?r=n.reactions=null:(r[s]=r[o],r.pop())}}r===null&&(n.f&xe)!==0&&(Ce===null||!Ce.includes(n))&&(ye(n,Ge),(n.f&Ye)!==0&&(n.f^=Ye,n.f&=~St),As(n),Tn(n,0))}function Tn(e,n){var r=e.deps;if(r!==null)for(var s=n;s<r.length;s++)Ya(e,r[s])}function Yt(e){var n=e.f;if((n&_t)===0){ye(e,be);var r=W,s=Tt;W=e,Tt=!0;try{(n&(ut|Jo))!==0?Ba(e):js(e),Ms(e);var o=Ws(e);e.teardown=typeof o=="function"?o:null,e.wv=Bs;var i;Kn&&ba&&(e.f&Pe)!==0&&e.deps}finally{Tt=s,W=r}}}async function Ga(){await Promise.resolve(),wa()}function t(e){var n=e.f,r=(n&xe)!==0;if(B!==null&&!tt){var s=W!==null&&(W.f&_t)!==0;if(!s&&!lt?.includes(e)){var o=B.deps;if((B.f&Zn)!==0)e.rv<_n&&(e.rv=_n,Ce===null&&o!==null&&o[je]===e?je++:Ce===null?Ce=[e]:Ce.includes(e)||Ce.push(e));else{(B.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[B]:i.includes(B)||i.push(B)}}}if(Kt){if(pt.has(e))return pt.get(e);if(r){var u=e,v=u.v;return((u.f&be)===0&&u.reactions!==null||Gs(u))&&(v=lr(u)),pt.set(u,v),v}}else r&&(!He?.has(e)||H?.is_fork&&!dn())&&(u=e,Qt(u)&&Ts(u),Tt&&dn()&&(u.f&Ye)===0&&Ys(u));if(He?.has(e))return He.get(e);if((e.f&ht)!==0)throw e.v;return e.v}function Ys(e){if(e.deps!==null){e.f^=Ye;for(const n of e.deps)(n.reactions??=[]).push(e),(n.f&xe)!==0&&(n.f&Ye)===0&&Ys(n)}}function Gs(e){if(e.v===qe)return!0;if(e.deps===null)return!1;for(const n of e.deps)if(pt.has(n)||(n.f&xe)!==0&&Gs(n))return!0;return!1}function p(e){var n=tt;try{return tt=!0,e()}finally{tt=n}}const Ka=-7169;function ye(e,n){e.f=e.f&Ka|n}function Qa(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Et in e)tr(e);else if(!Array.isArray(e))for(let n in e){const r=e[n];typeof r=="object"&&r&&Et in r&&tr(r)}}}function tr(e,n=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!n.has(e)){n.add(e),e instanceof Date&&e.getTime();for(let s in e)try{tr(e[s],n)}catch{}const r=sr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const s=fs(r);for(let o in s){const i=s[o].get;if(i)try{i.call(e)}catch{}}}}}const Za=["touchstart","touchmove"];function Ja(e){return Za.includes(e)}const Xa=new Set,rs=new Set;function ei(e,n,r,s={}){function o(i){if(s.capture||ln.call(n,i),!i.cancelBubble)return Nn(()=>r?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Dt(()=>{n.addEventListener(e,o,s)}):n.addEventListener(e,o,s),o}function $(e,n,r,s,o){var i={capture:s,passive:o},u=ei(e,n,r,i);(n===document.body||n===window||n===document||n instanceof HTMLMediaElement)&&ur(()=>{n.removeEventListener(e,u,i)})}let ss=null;function ln(e){var n=this,r=n.ownerDocument,s=e.type,o=e.composedPath?.()||[],i=o[0]||e.target;ss=e;var u=0,v=ss===e&&e.__root;if(v){var l=o.indexOf(v);if(l!==-1&&(n===document||n===window)){e.__root=n;return}var c=o.indexOf(n);if(c===-1)return;l<=c&&(u=l)}if(i=o[u]||e.target,i!==n){Go(e,"currentTarget",{configurable:!0,get(){return i||r}});var m=B,C=W;Oe(null),nt(null);try{for(var w,y=[];i!==null;){var a=i.assignedSlot||i.parentNode||i.host||null;try{var Z=i["__"+s];Z!=null&&(!i.disabled||e.target===i)&&Z.call(i,e)}catch(E){w?y.push(E):w=E}if(e.cancelBubble||a===n||a===null)break;i=a}if(w){for(let E of y)queueMicrotask(()=>{throw E});throw w}}finally{e.__root=n,delete e.currentTarget,Oe(m),nt(C)}}}function ti(e){var n=document.createElement("template");return n.innerHTML=e.replaceAll("<!>","<!---->"),n.content}function Cn(e,n){var r=W;r.nodes===null&&(r.nodes={start:e,end:n,a:null,t:null})}function S(e,n){var r=(n&_a)!==0,s=(n&ha)!==0,o,i=!e.startsWith("<!>");return()=>{o===void 0&&(o=ti(i?e:"<!>"+e),r||(o=En(o)));var u=s||Ds?document.importNode(o,!0):o.cloneNode(!0);if(r){var v=En(u),l=u.lastChild;Cn(v,l)}else Cn(u,u);return u}}function jt(e=""){{var n=it(e+"");return Cn(n,n),n}}function Lt(){var e=document.createDocumentFragment(),n=document.createComment(""),r=it();return e.append(n,r),Cn(n,r),e}function A(e,n){e!==null&&e.before(n)}function N(e,n){var r=n==null?"":typeof n=="object"?n+"":n;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function ni(e,n){return ri(e,n)}const $t=new Map;function ri(e,{target:n,anchor:r,props:s={},events:o,context:i,intro:u=!0}){Fa();var v=new Set,l=C=>{for(var w=0;w<C.length;w++){var y=C[w];if(!v.has(y)){v.add(y);var a=Ja(y);n.addEventListener(y,ln,{passive:a});var Z=$t.get(y);Z===void 0?(document.addEventListener(y,ln,{passive:a}),$t.set(y,1)):$t.set(y,Z+1)}}};l(Sn(Xa)),rs.add(l);var c=void 0,m=$a(()=>{var C=r??n.appendChild(it());return Aa(C,{pending:()=>{}},w=>{if(i){gs({});var y=ae;y.c=i}o&&(s.$$events=o),c=e(w,s)||{},i&&bs()}),()=>{for(var w of v){n.removeEventListener(w,ln);var y=$t.get(w);--y===0?(document.removeEventListener(w,ln),$t.delete(w)):$t.set(w,y)}rs.delete(l),C!==r&&C.parentNode?.removeChild(C)}});return si.set(c,m),c}let si=new WeakMap;class oi{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#l=!0;constructor(n,r=!0){this.anchor=n,this.#l=r}#o=()=>{var n=H;if(this.#e.has(n)){var r=this.#e.get(n),s=this.#t.get(r);if(s)cr(s),this.#n.delete(r);else{var o=this.#r.get(r);o&&(this.#t.set(r,o.effect),this.#r.delete(r),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),s=o.effect)}for(const[i,u]of this.#e){if(this.#e.delete(i),i===n)break;const v=this.#r.get(u);v&&(Ne(v.effect),this.#r.delete(u))}for(const[i,u]of this.#t){if(i===r||this.#n.has(i))continue;const v=()=>{if(Array.from(this.#e.values()).includes(i)){var c=document.createDocumentFragment();Vs(u,c),c.append(it()),this.#r.set(i,{effect:u,fragment:c})}else Ne(u);this.#n.delete(i),this.#t.delete(i)};this.#l||!s?(this.#n.add(i),At(u,v,!1)):v()}}};#s=n=>{this.#e.delete(n);const r=Array.from(this.#e.values());for(const[s,o]of this.#r)r.includes(s)||(Ne(o.effect),this.#r.delete(s))};ensure(n,r){var s=H,o=Ns();if(r&&!this.#t.has(n)&&!this.#r.has(n))if(o){var i=document.createDocumentFragment(),u=it();i.append(u),this.#r.set(n,{effect:ze(()=>r(u)),fragment:i})}else this.#t.set(n,ze(()=>r(this.anchor)));if(this.#e.set(s,n),o){for(const[v,l]of this.#t)v===n?s.skipped_effects.delete(l):s.skipped_effects.add(l);for(const[v,l]of this.#r)v===n?s.skipped_effects.delete(l.effect):s.skipped_effects.add(l.effect);s.oncommit(this.#o),s.ondiscard(this.#s)}else this.#o()}}function F(e,n,r=!1){var s=new oi(e),o=r?Bt:0;function i(u,v){s.ensure(u,v)}fr(()=>{var u=!1;n((v,l=!0)=>{u=!0,i(l,v)}),u||i(!1,null)},o)}function nn(e,n){return n}function ai(e,n,r){for(var s=[],o=n.length,i,u=n.length,v=0;v<o;v++){let C=n[v];At(C,()=>{if(i){if(i.pending.delete(C),i.done.add(C),i.pending.size===0){var w=e.outrogroups;nr(Sn(i.done)),w.delete(i),w.size===0&&(e.outrogroups=null)}}else u-=1},!1)}if(u===0){var l=s.length===0&&r!==null;if(l){var c=r,m=c.parentNode;Ra(m),m.append(c),e.items.clear()}nr(n,!l)}else i={pending:new Set(n),done:new Set},(e.outrogroups??=new Set).add(i)}function nr(e,n=!0){for(var r=0;r<e.length;r++)Ne(e[r],n)}var os;function rn(e,n,r,s,o,i=null){var u=e,v=new Map,l=(n&hs)!==0;if(l){var c=e;u=c.appendChild(it())}var m=null,C=Es(()=>{var R=r();return rr(R)?R:R==null?[]:Sn(R)}),w,y=!0;function a(){E.fallback=m,ii(E,w,u,n,s),m!==null&&(w.length===0?(m.f&at)===0?cr(m):(m.f^=at,un(m,null,u)):At(m,()=>{m=null}))}var Z=fr(()=>{w=t(C);for(var R=w.length,ue=new Set,ie=H,de=Ns(),V=0;V<R;V+=1){var Fe=w[V],_e=s(Fe,V),le=y?null:v.get(_e);le?(le.v&&Wt(le.v,Fe),le.i&&Wt(le.i,V),de&&ie.skipped_effects.delete(le.e)):(le=li(v,y?u:os??=it(),Fe,_e,V,o,n,r),y||(le.e.f|=at),v.set(_e,le)),ue.add(_e)}if(R===0&&i&&!m&&(y?m=ze(()=>i(u)):(m=ze(()=>i(os??=it())),m.f|=at)),!y)if(de){for(const[j,Se]of v)ue.has(j)||ie.skipped_effects.add(Se.e);ie.oncommit(a),ie.ondiscard(()=>{})}else a();t(C)}),E={effect:Z,items:v,outrogroups:null,fallback:m};y=!1}function ii(e,n,r,s,o){var i=(s&va)!==0,u=n.length,v=e.items,l=e.effect.first,c,m=null,C,w=[],y=[],a,Z,E,R;if(i)for(R=0;R<u;R+=1)a=n[R],Z=o(a,R),E=v.get(Z).e,(E.f&at)===0&&(E.nodes?.a?.measure(),(C??=new Set).add(E));for(R=0;R<u;R+=1){if(a=n[R],Z=o(a,R),E=v.get(Z).e,e.outrogroups!==null)for(const Se of e.outrogroups)Se.pending.delete(E),Se.done.delete(E);if((E.f&at)!==0)if(E.f^=at,E===l)un(E,null,r);else{var ue=m?m.next:l;E===e.effect.last&&(e.effect.last=E.prev),E.prev&&(E.prev.next=E.next),E.next&&(E.next.prev=E.prev),dt(e,m,E),dt(e,E,ue),un(E,ue,r),m=E,w=[],y=[],l=m.next;continue}if((E.f&Le)!==0&&(cr(E),i&&(E.nodes?.a?.unfix(),(C??=new Set).delete(E))),E!==l){if(c!==void 0&&c.has(E)){if(w.length<y.length){var ie=y[0],de;m=ie.prev;var V=w[0],Fe=w[w.length-1];for(de=0;de<w.length;de+=1)un(w[de],ie,r);for(de=0;de<y.length;de+=1)c.delete(y[de]);dt(e,V.prev,Fe.next),dt(e,m,V),dt(e,Fe,ie),l=ie,m=Fe,R-=1,w=[],y=[]}else c.delete(E),un(E,l,r),dt(e,E.prev,E.next),dt(e,E,m===null?e.effect.first:m.next),dt(e,m,E),m=E;continue}for(w=[],y=[];l!==null&&l!==E;)(c??=new Set).add(l),y.push(l),l=l.next;if(l===null)continue}(E.f&at)===0&&w.push(E),m=E,l=E.next}if(e.outrogroups!==null){for(const Se of e.outrogroups)Se.pending.size===0&&(nr(Sn(Se.done)),e.outrogroups?.delete(Se));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||c!==void 0){var _e=[];if(c!==void 0)for(E of c)(E.f&Le)===0&&_e.push(E);for(;l!==null;)(l.f&Le)===0&&l!==e.fallback&&_e.push(l),l=l.next;var le=_e.length;if(le>0){var j=(s&hs)!==0&&u===0?r:null;if(i){for(R=0;R<le;R+=1)_e[R].nodes?.a?.measure();for(R=0;R<le;R+=1)_e[R].nodes?.a?.fix()}ai(e,_e,j)}}i&&Dt(()=>{if(C!==void 0)for(E of C)E.nodes?.a?.apply()})}function li(e,n,r,s,o,i,u,v){var l=(u&fa)!==0?(u&da)===0?U(r,!1,!1):Ot(r):null,c=(u&ca)!==0?Ot(o):null;return{v:l,i:c,e:ze(()=>(i(n,l??r,c??o,v),()=>{e.delete(s)}))}}function un(e,n,r){if(e.nodes)for(var s=e.nodes.start,o=e.nodes.end,i=n&&(n.f&at)===0?n.nodes.start:r;s!==null;){var u=mn(s);if(i.before(s),s===o)return;s=u}}function dt(e,n,r){n===null?e.effect.first=r:n.next=r,r===null?e.effect.last=n:r.prev=n}const as=[...` 	
\r\f¬†\v\uFEFF`];function ui(e,n,r){var s=e==null?"":""+e;if(n&&(s=s?s+" "+n:n),r){for(var o in r)if(r[o])s=s?s+" "+o:o;else if(s.length)for(var i=o.length,u=0;(u=s.indexOf(o,u))>=0;){var v=u+i;(u===0||as.includes(s[u-1]))&&(v===s.length||as.includes(s[v]))?s=(u===0?"":s.substring(0,u))+s.substring(v+1):u=v}}return s===""?null:s}function Ut(e,n,r,s,o,i){var u=e.__className;if(u!==r||u===void 0){var v=ui(r,s,i);v==null?e.removeAttribute("class"):e.className=v,e.__className=r}else if(i&&o!==i)for(var l in i){var c=!!i[l];(o==null||c!==!!o[l])&&e.classList.toggle(l,c)}return i}const fi=Symbol("is custom element"),ci=Symbol("is html");function he(e,n,r,s){var o=vi(e);o[n]!==(o[n]=r)&&(n==="loading"&&(e[Xo]=r),r==null?e.removeAttribute(n):typeof r!="string"&&di(e).includes(n)?e[n]=r:e.setAttribute(n,r))}function vi(e){return e.__attributes??={[fi]:e.nodeName.includes("-"),[ci]:e.namespaceURI===pa}}var is=new Map;function di(e){var n=e.getAttribute("is")||e.nodeName,r=is.get(n);if(r)return r;is.set(n,r=[]);for(var s,o=e,i=Element.prototype;i!==o;){s=fs(o);for(var u in s)s[u].set&&r.push(u);o=sr(o)}return r}function Hn(e,n,r=n){var s=new WeakSet;Ps(e,"input",async o=>{var i=o?e.defaultValue:e.value;if(i=Yn(e)?Gn(i):i,r(i),H!==null&&s.add(H),await Ga(),i!==(i=n())){var u=e.selectionStart,v=e.selectionEnd,l=e.value.length;if(e.value=i??"",v!==null){var c=e.value.length;u===v&&v===l&&c>l?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=u,e.selectionEnd=Math.min(v,c))}}}),p(n)==null&&e.value&&(r(Yn(e)?Gn(e.value):e.value),H!==null&&s.add(H)),gn(()=>{var o=n();if(e===document.activeElement){var i=qn??H;if(s.has(i))return}Yn(e)&&o===Gn(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}const Wn=new Set;function ls(e,n,r,s,o=s){var i=r.getAttribute("type")==="checkbox",u=e;if(n!==null)for(var v of n)u=u[v]??=[];u.push(r),Ps(r,"change",()=>{var l=r.__value;i&&(l=_i(u,l,r.checked)),o(l)},()=>o(i?[]:null)),gn(()=>{var l=s();i?(l=l||[],r.checked=l.includes(r.__value)):r.checked=Pa(r.__value,l)}),ur(()=>{var l=u.indexOf(r);l!==-1&&u.splice(l,1)}),Wn.has(u)||(Wn.add(u),Dt(()=>{u.sort((l,c)=>l.compareDocumentPosition(c)===4?-1:1),Wn.delete(u)})),Dt(()=>{})}function _i(e,n,r){for(var s=new Set,o=0;o<e.length;o+=1)e[o].checked&&s.add(e[o].__value);return r||s.delete(n),Array.from(s)}function Yn(e){var n=e.type;return n==="number"||n==="range"}function Gn(e){return e===""?null:+e}function sn(e){return function(...n){var r=n[0];return r.stopPropagation(),e?.apply(this,n)}}function hi(e=!1){const n=ae,r=n.l.u;if(!r)return;let s=()=>Qa(n.s);if(e){let o=0,i={};const u=ir(()=>{let v=!1;const l=n.s;for(const c in l)l[c]!==i[c]&&(i[c]=l[c],v=!0);return v&&o++,o});s=()=>t(u)}r.b.length&&La(()=>{us(n,s),Qn(r.b)}),er(()=>{const o=p(()=>r.m.map(Zo));return()=>{for(const i of o)typeof i=="function"&&i()}}),r.a.length&&er(()=>{us(n,s),Qn(r.a)})}function us(e,n){if(e.l.s)for(const r of e.l.s)t(r);n()}function on(e,n){var r=e.$$events?.[n.type],s=rr(r)?r.slice():r==null?[]:[r];for(var o of s)o.call(this,n)}function pi(e){ae===null&&ea(),hn&&ae.l!==null?mi(ae).m.push(e):er(()=>{const n=p(e);if(typeof n=="function")return n})}function mi(e){var n=e.l;return n.u??={a:[],b:[],m:[]}}const gi="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(gi);ya();var bi=S('<div class="demo-intro svelte-1n46o8q"><p class="svelte-1n46o8q">This demo compares how iNaturalist currently handles opting out of the Community Taxon versus a proposed alternative approach. Click an example below or enter an observation ID to explore the differences. Click "Tutorial" in the header for detailed instructions. <a href="https://www.inaturalist.org/blog/122781" target="_blank" rel="noopener noreferrer">Read more on our blog</a>.</p> <div class="demo-links svelte-1n46o8q"><a href="/subspecies_identifications_demo/?obs=-1&amp;observer=PersonA&amp;ids=155108%3AA%3A%25F0%259F%2598%2580%3A0%7C308801%3AB%3A%25F0%259F%25A4%2597%3A0%7C308801%3AC%3A%25F0%259F%2599%2582%3A0&amp;votes=0%3AB%3A%25F0%259F%25A4%2593" class="demo-link svelte-1n46o8q"><img src="/subspecies_identifications_demo/current.jpg" alt="Current" class="svelte-1n46o8q"/></a> <a href="/subspecies_identifications_demo/?obs=-1&amp;mode=alternative&amp;observer=PersonA&amp;ids=155108%3AA%3A%25F0%259F%2598%2580%3A0%7C308801%3AB%3A%25F0%259F%25A4%2597%3A0%7C308801%3AC%3A%25F0%259F%2599%2582%3A0&amp;votes=0%3AB%3A%25F0%259F%25A4%2593" class="demo-link svelte-1n46o8q"><img src="/subspecies_identifications_demo/alternative.jpg" alt="Alternative" class="svelte-1n46o8q"/></a></div></div>'),yi=S('<div class="error svelte-1n46o8q"> </div>'),xi=S('<form><div class="input-group svelte-1n46o8q"><input id="obs-id" type="text" placeholder="Load an iNat observation by entering the ID, e.g. 47963, or click the Tutorial for more details" class="svelte-1n46o8q"/> <button type="submit" class="svelte-1n46o8q"> </button></div></form> <!>',1),wi=S('<div class="alternative-explanation svelte-1n46o8q">This mode simulates changing the label and behavior of voting an observation out of Needs ID when the observer has opted out of the Community Taxon.</div>'),qi=S('<a target="_blank" rel="noopener noreferrer" class="obs-link svelte-1n46o8q" title="View on iNaturalist">üîó</a>'),ki=S('<img alt="Observation" class="observation-photo svelte-1n46o8q"/>'),Ei=S('<img class="user-icon svelte-1n46o8q"/>'),Ai=S('<div class="user-icon-placeholder smiley svelte-1n46o8q"> </div>'),Ti=S('<div class="user-icon-placeholder svelte-1n46o8q"> </div>'),Ci=S('<img class="user-icon svelte-1n46o8q"/>'),Si=S('<div class="user-icon-placeholder smiley svelte-1n46o8q"> </div>'),Di=S('<div class="user-icon-placeholder svelte-1n46o8q"> </div>'),Ii=S('<button><!> <span class="user-login svelte-1n46o8q"> </span></button>'),Oi=S('<div class="observer-dropdown svelte-1n46o8q"></div>'),Ni=S('<div class="observer-chooser svelte-1n46o8q"><button class="observer-selector svelte-1n46o8q"><div class="user-info svelte-1n46o8q"><!> <span class="user-login svelte-1n46o8q"> </span> <span class="dropdown-arrow svelte-1n46o8q">‚ñº</span></div></button> <!></div>'),Pi=S('<img class="user-icon svelte-1n46o8q"/>'),Fi=S('<div class="user-icon-placeholder smiley svelte-1n46o8q"> </div>'),Ri=S('<div class="user-icon-placeholder svelte-1n46o8q"> </div>'),Mi=S('<div class="user-info svelte-1n46o8q"><!> <span class="user-login svelte-1n46o8q"> </span></div>'),ji=S('<div class="user-opted-out-message svelte-1n46o8q">User has opted-out of Community Taxon</div>'),Li=S('<img class="community-taxon-icon svelte-1n46o8q"/>'),$i=S('<div class="community-taxon-info svelte-1n46o8q"><!> <span class="community-taxon-name svelte-1n46o8q"> </span></div> <div class="cumulative-ids svelte-1n46o8q"><!></div>',1),Ui=S('<div class="community-taxon-message svelte-1n46o8q">The Community ID requires at least two identifications.</div>'),Vi=S('<img class="user-icon svelte-1n46o8q"/>'),Bi=S('<div class="user-icon-placeholder smiley svelte-1n46o8q"> </div>'),zi=S('<div class="user-icon-placeholder svelte-1n46o8q"> </div>'),Hi=S('<img class="taxon-photo svelte-1n46o8q"/>'),Wi=S('<div class="disagreement svelte-1n46o8q"> </div>'),Yi=S('<button class="remove-id-btn svelte-1n46o8q">√ó</button>'),Gi=S('<div><div class="id-user svelte-1n46o8q"><!> <span class="user-login svelte-1n46o8q"> </span></div> <div class="id-taxon svelte-1n46o8q"><!> <div class="taxon-info svelte-1n46o8q"><span class="taxon-name svelte-1n46o8q"> </span> <!></div></div> <!></div>'),Ki=S('<img class="taxon-result-photo svelte-1n46o8q"/>'),Qi=S('<div class="taxon-result svelte-1n46o8q"><!> <div class="taxon-result-info svelte-1n46o8q"><div class="taxon-result-name svelte-1n46o8q"> </div></div></div>'),Zi=S('<div class="taxon-dropdown svelte-1n46o8q"></div>'),Ji=S("Based on the evidence, can the Community Taxon be improved?<br/> <!>",1),Xi=S('<button class="vote-count svelte-1n46o8q"> </button>'),el=S('<span class="vote-count-zero svelte-1n46o8q">(0)</span>'),tl=S('<button class="vote-count svelte-1n46o8q"> </button>'),nl=S('<span class="vote-count-zero svelte-1n46o8q">(0)</span>'),rl=S('<div class="error svelte-1n46o8q"> </div>'),sl=S(`<!> <div class="results svelte-1n46o8q"><div class="taxon-quality-row svelte-1n46o8q"><span class="taxon-name-display svelte-1n46o8q"> </span> <div class="quality-grade-container svelte-1n46o8q"><span> </span> <!></div></div> <div class="obs-content svelte-1n46o8q"><div class="photo-column svelte-1n46o8q"><!></div> <div class="info-column svelte-1n46o8q"><div class="detail svelte-1n46o8q"><strong class="svelte-1n46o8q">Observed:</strong> </div> <div class="detail user-detail svelte-1n46o8q"><strong class="svelte-1n46o8q">Observer:</strong> <div class="user-info-container svelte-1n46o8q"><!></div></div> <div class="community-taxon-section svelte-1n46o8q"><div class="community-taxon-label svelte-1n46o8q"><strong class="svelte-1n46o8q">Community Taxon:</strong> <button>what's this?</button></div> <!> <div class="community-taxon-box svelte-1n46o8q"><!></div></div></div></div> <div class="identifications-section svelte-1n46o8q"><h3 class="svelte-1n46o8q">Identification activity</h3> <!> <div class="add-id-form svelte-1n46o8q"><h4 class="svelte-1n46o8q">Add your identification</h4> <div class="taxon-search svelte-1n46o8q"><input type="text" placeholder="Search for a taxon..." class="taxon-input svelte-1n46o8q"/> <!></div> <button type="button" class="submit-id-btn svelte-1n46o8q">Add Identification</button></div> <div><div class="needs-id-votes-label svelte-1n46o8q"><!></div> <div class="needs-id-votes-row svelte-1n46o8q"><div class="vote-option svelte-1n46o8q"><button class="vote-checkmark svelte-1n46o8q" title="Vote Yes">‚úì</button> <span class="vote-label svelte-1n46o8q">Yes</span> <!></div> <div class="vote-option svelte-1n46o8q"><button class="vote-checkmark svelte-1n46o8q" title="Vote No">‚úì</button> <span class="vote-label svelte-1n46o8q"> </span> <!></div></div></div></div></div> <form class="bottom-form svelte-1n46o8q"><div class="input-group svelte-1n46o8q"><input id="obs-id-bottom" type="text" placeholder="Load an iNat observation by entering the ID, e.g. 47963, or click the Tutorial for more details" class="svelte-1n46o8q"/> <button type="submit" class="svelte-1n46o8q"> </button></div></form> <!>`,1),ol=S('<tr><td class="svelte-1n46o8q"><!></td><td class="svelte-1n46o8q"> </td><td class="svelte-1n46o8q"> </td><td class="svelte-1n46o8q"> </td><td class="svelte-1n46o8q"> </td><td class="svelte-1n46o8q"> </td></tr>'),al=S('<div class="modal-overlay svelte-1n46o8q"><div class="modal-content svelte-1n46o8q"><div class="modal-header svelte-1n46o8q"><h2 class="svelte-1n46o8q">Algorithm Summary</h2> <button class="modal-close svelte-1n46o8q">√ó</button></div> <div class="modal-body svelte-1n46o8q"><table class="algorithm-table svelte-1n46o8q"><thead><tr><th class="svelte-1n46o8q">Taxon</th><th class="svelte-1n46o8q">Identification Count</th><th class="svelte-1n46o8q">Cumulative Count</th><th class="svelte-1n46o8q">Disagreement Count</th><th class="svelte-1n46o8q">Ancestor Disagreements</th><th class="svelte-1n46o8q">Score</th></tr></thead><tbody class="svelte-1n46o8q"></tbody></table></div></div></div>'),il=S('<div class="modal-overlay svelte-1n46o8q"><div class="modal-content disagreement-modal svelte-1n46o8q"><div class="modal-header svelte-1n46o8q"><h2 class="svelte-1n46o8q">Potential Disagreement</h2> <button class="modal-close svelte-1n46o8q">√ó</button></div> <div class="modal-body svelte-1n46o8q"><p class="disagreement-question svelte-1n46o8q"> </p> <div class="disagreement-options svelte-1n46o8q"><button class="disagreement-btn btn-yes svelte-1n46o8q"> </button> <button class="disagreement-btn btn-no svelte-1n46o8q"> </button></div></div></div></div>'),ll=S('<img class="voter-icon svelte-1n46o8q"/>'),ul=S('<div class="voter-icon-placeholder smiley svelte-1n46o8q"> </div>'),fl=S('<div class="voter-icon-placeholder svelte-1n46o8q"> </div>'),cl=S('<button class="remove-vote-btn svelte-1n46o8q">√ó</button>'),vl=S('<li class="voter-item svelte-1n46o8q"><!> <span class="voter-login svelte-1n46o8q"> </span> <!></li>'),dl=S('<div class="modal-overlay svelte-1n46o8q"><div class="modal-content votes-modal svelte-1n46o8q"><div class="modal-header svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <button class="modal-close svelte-1n46o8q">√ó</button></div> <div class="modal-body svelte-1n46o8q"><ul class="voters-list svelte-1n46o8q"></ul></div></div></div>'),_l=S('<div class="modal-overlay svelte-1n46o8q"><div class="modal-content survey-modal svelte-1n46o8q"><div class="modal-header svelte-1n46o8q"><h2 class="svelte-1n46o8q">Vote on your preference</h2> <button class="modal-close svelte-1n46o8q">√ó</button></div> <div class="modal-body survey-body svelte-1n46o8q"><div data-tf-live="we8cmOvB" class="svelte-1n46o8q"></div></div></div></div>'),hl=S(`<div class="modal-overlay svelte-1n46o8q"><div class="modal-content tutorial-modal svelte-1n46o8q"><div class="modal-header svelte-1n46o8q"><h2 class="svelte-1n46o8q">How to Use This Demo</h2> <button class="modal-close svelte-1n46o8q">√ó</button></div> <div class="modal-body tutorial-body svelte-1n46o8q"><h3 class="svelte-1n46o8q">Getting Started</h3> <ol class="svelte-1n46o8q"><li class="svelte-1n46o8q"><strong>Load an observation</strong> by entering an iNaturalist observation ID (e.g., 47963 which you find in an observation URL, e.g. <a href="https://www.inaturalist.org/observations/47963" target="_blank" rel="noopener noreferrer" class="svelte-1n46o8q">https://www.inaturalist.org/observations/47963</a>) in the input field and clicking "Fetch Observation" <ul class="svelte-1n46o8q"><li class="svelte-1n46o8q">Or use <code class="svelte-1n46o8q">0</code> for a blank unknown observation</li> <li class="svelte-1n46o8q">Or use <code class="svelte-1n46o8q">-1</code> for a blank observation with an observer who has opted-out of the community taxon</li> <li class="svelte-1n46o8q">Or click on one of the example images to see a pre-configured scenario</li></ul></li></ol> <h3 class="svelte-1n46o8q">Exploring the Demo</h3> <ol start="2" class="svelte-1n46o8q"><li class="svelte-1n46o8q"><strong>Toggle between modes</strong> using the "Current" and "Alternative" radio buttons in the upper right to see how each approach handles subspecies identifications</li> <li class="svelte-1n46o8q"><strong>Add identifications</strong> by: <ul class="svelte-1n46o8q"><li class="svelte-1n46o8q">Scrolling to the "Add your identification" section</li> <li class="svelte-1n46o8q">Searching for a taxon by typing in the search box</li> <li class="svelte-1n46o8q">Selecting a taxon from the dropdown</li> <li class="svelte-1n46o8q">Clicking "Add Identification"</li></ul></li> <li class="svelte-1n46o8q"><strong>View the algorithm</strong> by clicking "what's this?" next to "Community Taxon" to see how the community taxon is calculated</li> <li class="svelte-1n46o8q"><strong>Add votes</strong> on whether the Community Taxon can be improved by clicking the checkmarks next to "Yes" or "No, remove from Needs ID" (in Alternative mode) / "No, it's as good as it can be" (in Current mode)</li> <li class="svelte-1n46o8q"><strong>Vote on your preference</strong> between Current and Alternative modes by clicking the "Vote on your preference" button in the upper right</li> <li class="svelte-1n46o8q"><strong>Reset the demo</strong> at any time by clicking on the title "iNaturalist Community Taxon Opt-out Demo"</li></ol> <h3 class="svelte-1n46o8q">Understanding the Display</h3> <ul class="svelte-1n46o8q"><li class="svelte-1n46o8q">Watch how the <strong>observation label</strong> (shown at the top) changes as you add identifications</li> <li class="svelte-1n46o8q">The <strong>quality grade</strong> badge shows whether the observation is Research Grade, Needs ID, or Casual</li> <li class="svelte-1n46o8q">The <strong>Community Taxon</strong> box shows the calculated consensus identification</li> <li class="svelte-1n46o8q">Demo identifications and votes have an "√ó" button to remove them</li></ul></div></div></div>`),pl=S('<main class="svelte-1n46o8q"><div class="header-container svelte-1n46o8q"><h1 class="clickable-title svelte-1n46o8q"><img src="https://static.inaturalist.org/wiki_page_attachments/3154-original.png" alt="iNaturalist logo" class="title-logo svelte-1n46o8q"/> iNaturalist Community Taxon Opt-out Demo</h1> <div class="header-disclaimer svelte-1n46o8q"><div class="disclaimer-line svelte-1n46o8q">This demo does not write anything back to iNat.</div> <div class="disclaimer-line svelte-1n46o8q"><strong>No data will change on iNat via its use.</strong></div></div> <div class="header-controls svelte-1n46o8q"><button class="tutorial-btn svelte-1n46o8q">Tutorial</button> <div class="mode-toggle svelte-1n46o8q"><span class="mode-label svelte-1n46o8q">Mode:</span> <label class="mode-option svelte-1n46o8q"><input type="radio" name="mode" class="svelte-1n46o8q"/> <span class="svelte-1n46o8q">Current</span></label> <label class="mode-option svelte-1n46o8q"><input type="radio" name="mode" class="svelte-1n46o8q"/> <span class="svelte-1n46o8q">Alternative</span></label></div> <button class="survey-btn svelte-1n46o8q">Vote on your preference</button></div></div> <!> <!> <!> <!> <!> <!> <!> <!> <footer class="demo-footer svelte-1n46o8q"><p class="svelte-1n46o8q">This is a temporary demo built quickly using <a href="https://code.claude.com/docs/en/overview" target="_blank" rel="noopener noreferrer" class="svelte-1n46o8q">Claude Code</a>, it does not adhere to the engineering standards of the iNaturalist <a href="https://www.inaturalist.org/" target="_blank" rel="noopener noreferrer" class="svelte-1n46o8q">platform</a> or <a href="https://github.com/inaturalist" target="_blank" rel="noopener noreferrer" class="svelte-1n46o8q">codebase</a>. The demo will be live only for as long as it takes to come to a path forward. Once we deploy and QA an update to the main site, we will retire this demo.</p> <p class="footer-links svelte-1n46o8q"><a href="https://github.com/inaturalist/inaturalist.github.io/tree/main/subspecies_identifications_demo" target="_blank" rel="noopener noreferrer" class="svelte-1n46o8q">Source</a> <span class="separator svelte-1n46o8q">‚Ä¢</span> <span>Last updated: January 8, 2026</span></p></footer></main>');function ml(e,n){gs(n,!1);const r=U(),s=U(),o=U(),i=U(),u=U(),v=U(),l=U(),c=U(),m=U(),C=U(),w=[];let y=U(""),a=U(null),Z=U(!1),E=U(""),R=U(""),ue=U([]),ie=U(null),de=U(!1),V=U([]),Fe=U(!1),_e=0,le=U(!1),j=U(null),Se=U(!1),mt=U(null),Zt=0,pe=U([]),me=U("current"),Pt=U(!1),gt=U(!1),Jt=U(!1),bn=U(!1),Ft=U(null),yn=U(0),xn=U(null);const vr=["üòä","üôÇ","üòé","ü§ì","üòÄ","ü§ó","üòÉ","üòÑ","üôÉ","üòÅ","üò∫","üê±","ü¶ä","üê∂","üêº","üê®","ü¶Å","üêØ","üê∏","üêù"];function Rt(){return vr[Math.floor(Math.random()*vr.length)]}function dr(){if(!t(a)||t(a).id!==0&&t(a).id!==-1||t(V).length===0&&t(pe).length===0&&t(me)==="current"&&(t(a).id!==-1||t(a).user.login==="Person0"))return;const f=new URLSearchParams;if(f.set("obs",t(a).id.toString()),t(me)!=="current"&&f.set("mode",t(me)),t(a).id===-1&&t(a).user.login!=="Person0"&&f.set("observer",t(a).user.login),t(V).length>0){const g=t(V).map(T=>{const O=T.user.login.replace("Person",""),L=T.user.emoji||"",z=T.disagreement?"1":"0";return`${T.taxon.id}:${O}:${encodeURIComponent(L)}:${z}`}).join("|");f.set("ids",g)}if(t(pe).length>0){const g=t(pe).map(T=>{const O=T.user.login.replace("User",""),L=T.user.emoji||"";return`${T.vote_flag?"1":"0"}:${O}:${encodeURIComponent(L)}`}).join("|");f.set("votes",g)}const h=`${window.location.pathname}?${f.toString()}`;window.history.replaceState({},"",h)}async function Ks(){const f=new URLSearchParams(window.location.search),h=f.get("obs");if(!h)return;d(y,h),f.get("mode")==="alternative"&&d(me,"alternative"),await _r(),d(y,"");const T=f.get("ids");if(T&&t(a)){const z=T.split("|");for(const ne of z){const[Y,q,b,M]=ne.split(":");try{const ee=await(await fetch(`https://api.inaturalist.org/v1/taxa/${Y}`)).json();if(ee.results&&ee.results.length>0){const fe=ee.results[0],Re=decodeURIComponent(b),J={id:`demo-${Date.now()}-${Math.random()}`,user:{id:q==="0"?-1:-q.charCodeAt(0),login:`Person${q}`,icon:null,emoji:Re},taxon:fe,current:!0,created_at:new Date().toISOString(),disagreement:M==="1",previous_observation_taxon:M==="1"?t(a).taxon:null};d(V,[...t(V),J]),_e++,await new Promise(bt=>setTimeout(bt,10))}}catch(G){console.error(`Failed to load taxon ${Y}:`,G)}}}const O=f.get("votes");if(O&&t(a)){const z=O.split("|");for(const ne of z){const[Y,q,b]=ne.split(":"),M=decodeURIComponent(b),G={id:`demo-vote-${Date.now()}-${Math.random()}`,user:{login:`User${q}`,icon:null,emoji:M},vote_scope:"needs_id",vote_flag:Y==="1",created_at:new Date().toISOString()};d(pe,[...t(pe),G]),Zt++,await new Promise(ee=>setTimeout(ee,10))}}const L=f.get("observer");if(L&&t(a)&&t(a).id===-1){const ne=[{id:-1,login:"Person0",icon:null,emoji:t(a).user.emoji||Rt(),preferences:{prefers_community_taxa:!1,prefers_community_taxon:!1}}];t(V).forEach(q=>{q.user.login.startsWith("Person")&&q.user.login!=="Person0"&&!ne.find(b=>b.login===q.user.login)&&ne.push(q.user)});const Y=ne.find(q=>q.login===L);Y&&Q(a,t(a).user={...Y,preferences:{prefers_community_taxa:!1,prefers_community_taxon:!1}})}}pi(()=>{Ks();const f=document.createElement("script");f.src="https://embed.typeform.com/next/embed.js",f.async=!0,document.head.appendChild(f)});function Qs(){d(y,""),d(a,null),d(Z,!1),d(E,""),d(R,""),d(ue,[]),d(ie,null),d(de,!1),d(V,[]),d(Fe,!1),_e=0,d(le,!1),d(j,null),d(Se,!1),d(mt,null),Zt=0,d(pe,[]),d(me,"current"),d(Pt,!1),d(gt,!1),d(Jt,!1),window.history.replaceState({},"",window.location.pathname)}async function _r(){if(!t(y).trim()){d(E,"Please enter an observation ID");return}d(Z,!0),d(E,""),d(a,null),d(V,[]),_e=0,d(pe,[]),Zt=0;try{if(t(y)==="0"){d(a,{id:0,uuid:"00000000-0000-0000-0000-000000000000",species_guess:null,taxon:null,quality_grade:"needs_id",identifications:[],votes:[],observed_on:"2026-01-01",observed_on_details:{year:2026,month:1,day:1},time_observed_at:null,observed_time_zone:null,created_at:new Date().toISOString(),created_at_details:{year:new Date().getFullYear(),month:new Date().getMonth()+1,day:new Date().getDate()},created_time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone,user:{id:0,login:"Person0",icon:null,emoji:Rt(),preferences:{prefers_community_taxa:!0}},observation_photos:[{photo:{url:"https://inaturalist-open-data.s3.amazonaws.com/photos/606633309/medium.jpg"}}],sounds:[],obscured:!1,private_geojson:null}),d(Z,!1);return}if(t(y)==="-1"){d(a,{id:-1,uuid:"00000000-0000-0000-0000-000000000001",species_guess:null,taxon:null,quality_grade:"needs_id",identifications:[],votes:[],observed_on:"2026-01-01",observed_on_details:{year:2026,month:1,day:1},time_observed_at:null,observed_time_zone:null,created_at:new Date().toISOString(),created_at_details:{year:new Date().getFullYear(),month:new Date().getMonth()+1,day:new Date().getDate()},created_time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone,user:{id:-1,login:"Person0",icon:null,emoji:Rt(),preferences:{prefers_community_taxa:!1,prefers_community_taxon:!1}},observation_photos:[{photo:{url:"https://inaturalist-open-data.s3.amazonaws.com/photos/606633309/medium.jpg"}}],sounds:[],obscured:!1,private_geojson:null}),d(Z,!1);return}const f=await fetch(`https://api.inaturalist.org/v1/observations/${t(y)}`);if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const h=await f.json();h.results&&h.results.length>0?d(a,h.results[0]):d(E,"Observation not found")}catch(f){d(E,`Error fetching observation: ${f.message}`)}finally{d(Z,!1)}}function hr(f){f.preventDefault(),t(y),_r(),d(y,"")}function Zs(f){if(!f.taxon)return"No taxon identified";const h=f.taxon.preferred_common_name,g=f.taxon.name;return h&&g?`${h} (${g})`:g||h||"No taxon identified"}function pr(f){return f.observation_photos&&f.observation_photos.length>0?f.observation_photos[0].photo.url:null}function Js(f){return f==="research"?"Research Grade":f==="needs_id"?"Needs ID":f==="casual"?"Casual":f}function Xs(f){if(!f)return"Unknown";const h=f.preferred_common_name,g=f.name;return h&&g?`${h} (${g})`:g||h||"Unknown"}function mr(f){return!f.identifications||f.identifications.length===0?[]:[...f.identifications].sort((h,g)=>new Date(h.created_at).getTime()-new Date(g.created_at).getTime())}function gr(f){return f.taxon&&f.taxon.default_photo&&f.taxon.default_photo.url?f.taxon.default_photo.url:null}async function eo(){if(t(R).length<2){d(ue,[]),d(de,!1);return}try{const h=await(await fetch(`https://api.inaturalist.org/v1/taxa/autocomplete?q=${encodeURIComponent(t(R))}`)).json();d(ue,h.results||[]),d(de,!0)}catch(f){console.error("Error searching taxa:",f),d(ue,[])}}async function to(f){try{const g=await(await fetch(`https://api.inaturalist.org/v1/taxa/${f.id}`)).json();g.results&&g.results.length>0?d(ie,g.results[0]):d(ie,f)}catch(h){console.error("Error fetching full taxon:",h),d(ie,f)}d(R,f.name),d(de,!1)}function no(){if(!t(ie)||!t(a))return;const f=String.fromCharCode(65+_e),h=Rt();let g=!1,T=null,O=!1;if(t(a).taxon)if(t(ie).id===t(a).taxon.id)O=!1,g=!1;else{const z=t(ie).ancestor_ids||[],Y=(t(a).taxon.ancestor_ids||[]).includes(t(ie).id),q=z.includes(t(a).taxon.id);Y?O=!0:q||(g=!0,T=t(a).taxon)}const L={id:`demo-${Date.now()}`,user:{id:-f.charCodeAt(0),login:`Person${f}`,icon:null,emoji:h},taxon:t(ie),current:!0,created_at:new Date().toISOString(),disagreement:g,previous_observation_taxon:T};O?(d(j,L),d(le,!0)):(d(V,[...t(V),L]),_e++,d(R,""),d(ie,null),d(ue,[]))}function br(f){t(j)&&(f&&t(a).taxon?(Q(j,t(j).disagreement=!0),Q(j,t(j).previous_observation_taxon=t(a).taxon)):(Q(j,t(j).disagreement=!1),Q(j,t(j).previous_observation_taxon=null)),d(V,[...t(V),t(j)]),_e++,d(le,!1),d(j,null),d(R,""),d(ie,null),d(ue,[]))}function ro(f){d(V,t(V).filter(h=>h.id!==f))}function yr(f){return[...mr(f),...t(V)]}function xr(f){d(mt,f),d(Se,!0)}function wr(f){if(!t(a))return;const h=String.fromCharCode(65+Zt),g=Rt(),T={id:`demo-vote-${Date.now()}`,user:{login:`User${h}`,icon:null,emoji:g},vote_scope:"needs_id",vote_flag:f,created_at:new Date().toISOString()};d(pe,[...t(pe),T]),Zt++}function so(f){d(pe,t(pe).filter(h=>h.id!==f))}function oo(f){if(!t(a))return;const h={...f,preferences:{prefers_community_taxa:!1,prefers_community_taxon:!1}};Q(a,t(a).user=h),d(Pt,!1),d(a,t(a)),dr()}function ao(){if(!t(a))return;const f=yr(t(a)).filter(h=>h.current!==!1);if(t(u)){const h=f.find(g=>g.user.login===t(a).user.login||g.user.id===t(a).user.id);h?Q(a,t(a).taxon=h.taxon):Q(a,t(a).taxon=null);return}if(f.length===0){Q(a,t(a).taxon=null);return}if(f.length===1){const h=f[0].taxon;if(h&&h.rank_level&&h.rank_level<10){const g=h.ancestors?.find(T=>T.rank_level===10);Q(a,t(a).taxon=g||h)}else Q(a,t(a).taxon=h);return}if(f.length>=2)if(t(o))if(f.some(g=>g.disagreement===!0)){Q(a,t(a).taxon=t(o));return}else{const g=f.filter(T=>T.taxon?T.taxon.id===t(o).id||T.taxon.ancestor_ids&&T.taxon.ancestor_ids.includes(t(o).id):!1);if(g.length>0){const O=g.reduce((L,z)=>{const ne=L.taxon?.rank_level||1/0;return(z.taxon?.rank_level||1/0)<ne?z:L}).taxon;if(O&&O.rank_level&&O.rank_level<10&&t(o).rank_level&&t(o).rank_level>=10){const L=O.ancestors?.find(z=>z.rank_level===10);Q(a,t(a).taxon=L||t(o))}else Q(a,t(a).taxon=O);return}Q(a,t(a).taxon=t(o))}else{const h=f.filter(g=>!g.disagreement);if(h.length>0){const g=h.reduce((T,O)=>{const L=T.taxon?.rank_level||1/0;return(O.taxon?.rank_level||1/0)<L?O:T});Q(a,t(a).taxon=g.taxon)}}}function io(){if(t(a)){if(t(u)&&t(a).taxon){if(t(a).taxon.rank_level&&t(a).taxon.rank_level>10)Q(a,t(a).quality_grade="needs_id");else if(t(o)){const f=t(a).taxon.id===t(o).id,h=t(o).ancestor_ids&&t(o).ancestor_ids.includes(t(a).taxon.id),g=t(a).taxon.ancestor_ids&&t(a).taxon.ancestor_ids.includes(t(o).id);!f&&!h&&!g&&Q(a,t(a).quality_grade="casual")}}else if(t(o)){const f=t(o).rank_level&&t(o).rank_level<=10,h=t(a).taxon&&t(a).taxon.rank_level&&t(o).rank_level&&t(a).taxon.rank_level<t(o).rank_level;f&&!h?Q(a,t(a).quality_grade="research"):Q(a,t(a).quality_grade="needs_id")}else Q(a,t(a).quality_grade="needs_id");t(m).length>t(c).length&&t(a).quality_grade==="needs_id"&&(t(a).taxon&&t(o)&&t(a).taxon.id===t(o).id?t(a).taxon.rank_level&&t(a).taxon.rank_level<30?Q(a,t(a).quality_grade="research"):Q(a,t(a).quality_grade="casual"):t(me)==="alternative"&&t(u)&&t(a).taxon&&t(o)&&t(o).ancestor_ids&&t(o).ancestor_ids.includes(t(a).taxon.id)&&t(a).taxon.rank_level&&t(a).taxon.rank_level<30?Q(a,t(a).quality_grade="research"):Q(a,t(a).quality_grade="casual")),t(c).length>t(m).length&&t(a).quality_grade==="research"&&Q(a,t(a).quality_grade="needs_id")}}function lo(f){const h=yr(f).filter(b=>b.current!==!1),g=new Map;h.forEach(b=>{b.taxon&&(g.has(b.taxon.id)||g.set(b.taxon.id,b.taxon),b.taxon.ancestors&&b.taxon.ancestors.forEach(M=>{g.has(M.id)||g.set(M.id,M)}))});const T={id:48460,name:"Life",rank:"stateofmatter",rank_level:100,preferred_common_name:null,ancestor_ids:[]};g.has(T.id)||g.set(T.id,T);const O=new Map;g.forEach(b=>{O.set(b.id,[])}),g.forEach(b=>{if(b.ancestor_ids&&b.ancestor_ids.length>0){let M=null,G=1/0;b.ancestor_ids.forEach(ee=>{const fe=g.get(ee);fe&&(fe.rank_level||0)>(b.rank_level||0)&&(fe.rank_level||0)<G&&(G=fe.rank_level||0,M=ee)}),M&&O.has(M)?O.get(M).push(b):O.get(T.id).push(b)}else b.id!==T.id&&O.get(T.id).push(b)});function L(b){return h.filter(M=>M.taxon?M.taxon.id===b.id||M.taxon.ancestor_ids&&M.taxon.ancestor_ids.includes(b.id):!1).length}const z=[];function ne(b){z.push(b);const M=O.get(b.id)||[];M.sort((G,ee)=>{const fe=(ee.rank_level||0)-(G.rank_level||0);if(fe!==0)return fe;const Re=L(ee)-L(G);return Re!==0?Re:(G.name||"").localeCompare(ee.name||"")}),M.forEach(G=>ne(G))}ne(T);const Y=z.map(b=>{const M=h.filter(J=>J.taxon?.id===b.id),G=h.filter(J=>J.taxon?J.taxon.id===b.id||J.taxon.ancestor_ids&&J.taxon.ancestor_ids.includes(b.id):!1),ee=h.filter(J=>!(!J.taxon||J.taxon.id===b.id||J.taxon.ancestor_ids&&J.taxon.ancestor_ids.includes(b.id)||b.ancestor_ids&&b.ancestor_ids.includes(J.taxon.id))),fe=h.filter(J=>!J.taxon||!J.disagreement?!1:J.taxon.id!==b.id&&b.ancestor_ids&&b.ancestor_ids.includes(J.taxon.id)),Re=G.length/(G.length+ee.length+fe.length);return{taxon:b,identificationCount:M.length,cumulativeCount:G.length,disagreementCount:ee.length,ancestorDisagreements:fe.length,score:Re,totalIds:h.length}});let q=-1;if(h.length>=2){for(let b=Y.length-1;b>=0;b--)if(Y[b].score>2/3&&Y[b].cumulativeCount>=2){q=b;break}}return Y.map((b,M)=>({...b,isCommunityTaxon:M===q}))}we(()=>t(gt),()=>{if(t(gt)&&typeof window<"u"){const f=()=>{const h=window.tf;if(h&&h.createWidget){const g=document.querySelector('[data-tf-live="we8cmOvB"]');if(g){if(g.querySelector("iframe"))return;g.innerHTML="";try{h.createWidget("we8cmOvB",{container:g,height:700,width:"100%",opacity:100,hidden:{},onReady:()=>console.log("Typeform ready"),onSubmit:()=>console.log("Typeform submitted")})}catch(T){console.error("Error creating Typeform widget:",T)}}}else setTimeout(f,200)};setTimeout(f,100)}}),we(()=>(t(a),t(V)),()=>{d(r,t(a)?[...mr(t(a)),...t(V)]:[])}),we(()=>(t(a),t(V)),()=>{d(s,t(a)&&t(V)!==void 0?lo(t(a)):[])}),we(()=>t(s),()=>{d(o,t(s).find(f=>f.isCommunityTaxon)?.taxon||null)}),we(()=>t(s),()=>{d(i,t(s).find(f=>f.isCommunityTaxon)||null)}),we(()=>t(a),()=>{d(u,t(a)?t(a).user?.preferences?.prefers_community_taxa===!1&&t(a).user?.preferences?.prefers_community_taxon!==!0||t(a).user?.preferences?.prefers_community_taxon===!1:!1)}),we(()=>(t(o),t(xn)),()=>{const f=t(o)?.id||null;t(xn)!==null&&f!==t(xn)&&d(pe,[]),d(xn,f)}),we(()=>(t(a),t(pe)),()=>{d(v,t(a)?.votes?[...t(a).votes,...t(pe)]:[...t(pe)])}),we(()=>t(v),()=>{d(l,t(v).filter(f=>f.vote_scope==="needs_id"))}),we(()=>t(l),()=>{d(c,t(l).filter(f=>f.vote_flag===!0))}),we(()=>t(l),()=>{d(m,t(l).filter(f=>f.vote_flag===!1))}),we(()=>(t(a),t(r),t(o),t(u),t(c),t(m),t(me),t(yn)),()=>{t(a)&&t(a).user&&t(r)!==void 0&&t(o)!==void 0&&t(u)!==void 0&&t(c)!==void 0&&t(m)!==void 0&&t(me)!==void 0&&(ao(),io(),Na(yn))}),we(()=>(t(yn),t(a),t(r),t(o)),()=>{t(yn),t(a)?t(r).some(h=>h.disagreement===!0)&&t(o)?d(Ft,t(o)):d(Ft,t(a).taxon):d(Ft,null)}),we(()=>(t(c),t(m),t(a),t(o),t(Ft),t(u)),()=>{d(bn,t(c).length>0||t(m).length>0?!1:t(a)&&t(a).taxon&&t(o)&&t(Ft)?t(o).id!==t(Ft).id&&!t(u):!t(o))}),we(()=>(t(a),t(V)),()=>{d(C,t(a)&&t(a).id===-1?(()=>{const h=[{id:-1,login:"Person0",icon:null,emoji:t(a).user.emoji||Rt(),preferences:{prefers_community_taxa:!1,prefers_community_taxon:!1}}];return t(V).forEach(g=>{g.user.login.startsWith("Person")&&g.user.login!=="Person0"&&!h.find(T=>T.login===g.user.login)&&h.push(g.user)}),h})():[])}),we(()=>(t(a),t(V),t(pe),t(me)),()=>{t(a)&&(t(V).length>0||t(pe).length>0||t(me)!=="current")&&dr()}),Ua(),hi();var qr=pl(),kr=_(qr),Er=_(kr),uo=x(Er,4),Ar=_(uo),Tr=x(Ar,2),Cr=x(_(Tr),2),Pn=_(Cr);Pn.value=Pn.__value="current";var fo=x(Cr,2),Fn=_(fo);Fn.value=Fn.__value="alternative";var co=x(Tr,2),Sr=x(kr,2);{var vo=f=>{var h=bi();A(f,h)};F(Sr,f=>{t(a)||f(vo)})}var Dr=x(Sr,2);{var _o=f=>{var h=xi(),g=Xe(h),T=_(g),O=_(T),L=x(O,2),z=_(L),ne=x(g,2);{var Y=q=>{var b=yi(),M=_(b);P(()=>N(M,t(E))),A(q,b)};F(ne,q=>{t(E)&&q(Y)})}P(()=>{L.disabled=t(Z),N(z,t(Z)?"Loading...":"Fetch Observation")}),Hn(O,()=>t(y),q=>d(y,q)),$("submit",g,hr),A(f,h)};F(Dr,f=>{t(a)||f(_o)})}var Ir=x(Dr,2);{var ho=f=>{var h=sl(),g=Xe(h);{var T=k=>{var D=wi();A(k,D)};F(g,k=>{t(me)==="alternative"&&k(T)})}var O=x(g,2),L=_(O),z=_(L),ne=_(z),Y=x(z,2),q=_(Y),b=_(q),M=x(q,2);{var G=k=>{var D=qi();P(()=>he(D,"href",`https://www.inaturalist.org/observations/${t(a),p(()=>t(a).id)??""}`)),A(k,D)};F(M,k=>{t(a),p(()=>t(a).id&&t(a).id>0)&&k(G)})}var ee=x(L,2),fe=_(ee),Re=_(fe);{var J=k=>{var D=ki();P(re=>he(D,"src",re),[()=>(t(a),p(()=>pr(t(a)).replace("square","medium")))]),A(k,D)};F(Re,k=>{t(a),p(()=>pr(t(a)))&&k(J)})}var bt=x(fe,2),yt=_(bt),De=x(_(yt)),ke=x(yt,2),Xt=x(_(ke),2),Mt=_(Xt);{var en=k=>{var D=Ni(),re=_(D),se=_(re),I=_(se);{var ce=X=>{var ve=Ei();P(()=>{he(ve,"src",(t(a),p(()=>t(a).user.icon))),he(ve,"alt",(t(a),p(()=>t(a).user.login)))}),A(X,ve)},Ae=X=>{var ve=Lt(),$e=Xe(ve);{var te=Ue=>{var Je=Ai(),xt=_(Je);P(()=>N(xt,(t(a),p(()=>t(a).user.emoji)))),A(Ue,Je)},Ze=Ue=>{var Je=Ti(),xt=_(Je);P(tn=>N(xt,tn),[()=>(t(a),p(()=>t(a).user.login.charAt(0).toUpperCase()))]),A(Ue,Je)};F($e,Ue=>{t(a),p(()=>t(a).user.emoji)?Ue(te):Ue(Ze,!1)})}A(X,ve)};F(I,X=>{t(a),p(()=>t(a).user.icon)?X(ce):X(Ae,!1)})}var Te=x(I,2),Ie=_(Te),st=x(re,2);{var ge=X=>{var ve=Oi();rn(ve,5,()=>t(C),nn,($e,te)=>{var Ze=Ii();let Ue;var Je=_(Ze);{var xt=K=>{var oe=Ci();P(()=>{he(oe,"src",(t(te),p(()=>t(te).icon))),he(oe,"alt",(t(te),p(()=>t(te).login)))}),A(K,oe)},tn=K=>{var oe=Lt(),wt=Xe(oe);{var Vn=Me=>{var We=Si(),qt=_(We);P(()=>N(qt,(t(te),p(()=>t(te).emoji)))),A(Me,We)},Bn=Me=>{var We=Di(),qt=_(We);P(zn=>N(qt,zn),[()=>(t(te),p(()=>t(te).login.charAt(0).toUpperCase()))]),A(Me,We)};F(wt,Me=>{t(te),p(()=>t(te).emoji)?Me(Vn):Me(Bn,!1)})}A(K,oe)};F(Je,K=>{t(te),p(()=>t(te).icon)?K(xt):K(tn,!1)})}var $n=x(Je,2),Un=_($n);P(()=>{Ue=Ut(Ze,1,"observer-option svelte-1n46o8q",null,Ue,{selected:t(te).login===t(a).user.login}),N(Un,(t(te),p(()=>t(te).login)))}),$("click",Ze,()=>oo(t(te))),A($e,Ze)}),A(X,ve)};F(st,X=>{t(Pt),t(C),p(()=>t(Pt)&&t(C).length>0)&&X(ge)})}P(()=>N(Ie,(t(a),p(()=>t(a).user.login)))),$("click",re,()=>d(Pt,!t(Pt))),A(k,D)},Ke=k=>{var D=Mi(),re=_(D);{var se=Te=>{var Ie=Pi();P(()=>{he(Ie,"src",(t(a),p(()=>t(a).user.icon))),he(Ie,"alt",(t(a),p(()=>t(a).user.login)))}),A(Te,Ie)},I=Te=>{var Ie=Lt(),st=Xe(Ie);{var ge=ve=>{var $e=Fi(),te=_($e);P(()=>N(te,(t(a),p(()=>t(a).user.emoji)))),A(ve,$e)},X=ve=>{var $e=Ri(),te=_($e);P(Ze=>N(te,Ze),[()=>(t(a),p(()=>t(a).user.login.charAt(0).toUpperCase()))]),A(ve,$e)};F(st,ve=>{t(a),p(()=>t(a).user.emoji)?ve(ge):ve(X,!1)})}A(Te,Ie)};F(re,Te=>{t(a),p(()=>t(a).user.icon)?Te(se):Te(I,!1)})}var ce=x(re,2),Ae=_(ce);P(()=>N(Ae,(t(a),p(()=>t(a).user.login)))),A(k,D)};F(Mt,k=>{t(a),p(()=>t(a).id===-1)?k(en):k(Ke,!1)})}var rt=x(ke,2),Ee=_(rt),Qe=x(_(Ee),2);let Rr;var Mr=x(Ee,2);{var wo=k=>{var D=ji();A(k,D)};F(Mr,k=>{t(u)&&k(wo)})}var qo=x(Mr,2),ko=_(qo);{var Eo=k=>{var D=$i(),re=Xe(D),se=_(re);{var I=ge=>{var X=Li();P(()=>{he(X,"src",(t(o),p(()=>t(o).default_photo.medium_url))),he(X,"alt",(t(o),p(()=>t(o).name)))}),A(ge,X)};F(se,ge=>{t(o),p(()=>t(o).default_photo?.medium_url)&&ge(I)})}var ce=x(se,2),Ae=_(ce),Te=x(re,2),Ie=_(Te);{var st=ge=>{var X=jt();P(()=>N(X,`Cumulative IDs: ${t(i),p(()=>t(i).cumulativeCount)??""} of ${t(i),p(()=>t(i).cumulativeCount+t(i).disagreementCount+t(i).ancestorDisagreements)??""}`)),A(ge,X)};F(Ie,ge=>{t(i)&&ge(st)})}P(()=>N(Ae,(t(o),p(()=>t(o).preferred_common_name?`${t(o).preferred_common_name} (${t(o).name})`:t(o).name)))),A(k,D)},Ao=k=>{var D=Ui();A(k,D)};F(ko,k=>{t(o)?k(Eo):k(Ao,!1)})}var To=x(ee,2),jr=x(_(To),2);{var Co=k=>{var D=Lt(),re=Xe(D);rn(re,1,()=>t(r),nn,(se,I)=>{var ce=Gi(),Ae=_(ce),Te=_(Ae);{var Ie=K=>{var oe=Vi();P(()=>{he(oe,"src",(t(I),p(()=>t(I).user.icon))),he(oe,"alt",(t(I),p(()=>t(I).user.login)))}),A(K,oe)},st=K=>{var oe=Lt(),wt=Xe(oe);{var Vn=Me=>{var We=Bi(),qt=_(We);P(()=>N(qt,(t(I),p(()=>t(I).user.emoji)))),A(Me,We)},Bn=Me=>{var We=zi(),qt=_(We);P(zn=>N(qt,zn),[()=>(t(I),p(()=>t(I).user.login.charAt(0).toUpperCase()))]),A(Me,We)};F(wt,Me=>{t(I),p(()=>t(I).user.emoji)?Me(Vn):Me(Bn,!1)})}A(K,oe)};F(Te,K=>{t(I),p(()=>t(I).user.icon)?K(Ie):K(st,!1)})}var ge=x(Te,2),X=_(ge),ve=x(Ae,2),$e=_(ve);{var te=K=>{var oe=Hi();P(wt=>{he(oe,"src",wt),he(oe,"alt",(t(I),p(()=>t(I).taxon?.name||"Taxon")))},[()=>(t(I),p(()=>gr(t(I))))]),A(K,oe)};F($e,K=>{t(I),p(()=>gr(t(I)))&&K(te)})}var Ze=x($e,2),Ue=_(Ze),Je=_(Ue),xt=x(Ue,2);{var tn=K=>{var oe=Wi(),wt=_(oe);P(()=>N(wt,`Disagrees with ${t(I),p(()=>t(I).previous_observation_taxon.name)??""}`)),A(K,oe)};F(xt,K=>{t(I),p(()=>t(I).disagreement&&t(I).previous_observation_taxon)&&K(tn)})}var $n=x(ve,2);{var Un=K=>{var oe=Yi();$("click",oe,()=>ro(t(I).id)),A(K,oe)};F($n,K=>{t(I),p(()=>t(I).id&&typeof t(I).id=="string"&&t(I).id.startsWith("demo-"))&&K(Un)})}P(K=>{Ut(ce,1,`identification-item ${t(I),p(()=>t(I).current===!1?"withdrawn":"")??""}`,"svelte-1n46o8q"),N(X,(t(I),p(()=>t(I).user.login))),N(Je,K)},[()=>(t(I),p(()=>Xs(t(I).taxon)))]),A(se,ce)}),A(k,D)};F(jr,k=>{t(r),p(()=>t(r).length>0)&&k(Co)})}var Lr=x(jr,2),$r=x(_(Lr),2),Rn=_($r),So=x(Rn,2);{var Do=k=>{var D=Zi();rn(D,5,()=>t(ue),nn,(re,se)=>{var I=Qi(),ce=_(I);{var Ae=ge=>{var X=Ki();P(()=>{he(X,"src",(t(se),p(()=>t(se).default_photo.square_url))),he(X,"alt",(t(se),p(()=>t(se).name)))}),A(ge,X)};F(ce,ge=>{t(se),p(()=>t(se).default_photo?.square_url)&&ge(Ae)})}var Te=x(ce,2),Ie=_(Te),st=_(Ie);P(()=>N(st,(t(se),p(()=>t(se).preferred_common_name?`${t(se).preferred_common_name} (${t(se).name})`:t(se).name)))),$("click",I,()=>to(t(se))),A(re,I)}),A(k,D)};F(So,k=>{t(de),t(ue),p(()=>t(de)&&t(ue).length>0)&&k(Do)})}var Ur=x($r,2),Vr=x(Lr,2);let Br;var zr=_(Vr),Io=_(zr);{var Oo=k=>{var D=jt("Is the observer opting-out of the Community Taxon responsive?");A(k,D)},No=k=>{var D=Ji(),re=x(Xe(D),3);{var se=ce=>{var Ae=jt();P(()=>N(Ae,`Current Community Taxon: ${t(o),p(()=>t(o).preferred_common_name?`${t(o).preferred_common_name} (${t(o).name})`:t(o).name)??""}`)),A(ce,Ae)},I=ce=>{var Ae=jt("Current Community Taxon: None");A(ce,Ae)};F(re,ce=>{t(o)?ce(se):ce(I,!1)})}A(k,D)};F(Io,k=>{t(me)==="alternative"&&t(u)?k(Oo):k(No,!1)})}var Po=x(zr,2),Hr=_(Po),Mn=_(Hr),Fo=x(Mn,4);{var Ro=k=>{var D=Xi(),re=_(D);P(()=>N(re,`(${t(c),p(()=>t(c).length)??""})`)),$("click",D,()=>xr("yes")),A(k,D)},Mo=k=>{var D=el();A(k,D)};F(Fo,k=>{t(c),p(()=>t(c).length>0)?k(Ro):k(Mo,!1)})}var jo=x(Hr,2),jn=_(jo),Wr=x(jn,2),Lo=_(Wr),$o=x(Wr,2);{var Uo=k=>{var D=tl(),re=_(D);P(()=>N(re,`(${t(m),p(()=>t(m).length)??""})`)),$("click",D,()=>xr("no")),A(k,D)},Vo=k=>{var D=nl();A(k,D)};F($o,k=>{t(m),p(()=>t(m).length>0)?k(Uo):k(Vo,!1)})}var Ln=x(O,2),Bo=_(Ln),Yr=_(Bo),Gr=x(Yr,2),zo=_(Gr),Ho=x(Ln,2);{var Wo=k=>{var D=rl(),re=_(D);P(()=>N(re,t(E))),A(k,D)};F(Ho,k=>{t(E)&&k(Wo)})}P((k,D)=>{N(ne,k),Ut(q,1,`quality-grade ${t(a),p(()=>t(a).quality_grade)??""}`,"svelte-1n46o8q"),N(b,D),N(De,` ${t(a),p(()=>t(a).observed_on||"No date recorded")??""}`),Rr=Ut(Qe,1,"whats-this-link svelte-1n46o8q",null,Rr,{disabled:t(r).length<2}),Ur.disabled=!t(ie),Br=Ut(Vr,1,"needs-id-votes-section svelte-1n46o8q",null,Br,{disabled:t(bn)}),Mn.disabled=t(bn),jn.disabled=t(bn),N(Lo,t(me)==="alternative"?"No, remove from Needs ID":"No, it's as good as it can be"),Gr.disabled=t(Z),N(zo,t(Z)?"Loading...":"Fetch Observation")},[()=>(t(a),p(()=>Zs(t(a)))),()=>(t(a),p(()=>Js(t(a).quality_grade)))]),$("click",Qe,()=>{t(r).length>=2&&d(Fe,!0)}),Hn(Rn,()=>t(R),k=>d(R,k)),$("input",Rn,eo),$("click",Ur,no),$("click",Mn,()=>wr(!0)),$("click",jn,()=>wr(!1)),Hn(Yr,()=>t(y),k=>d(y,k)),$("submit",Ln,hr),A(f,h)};F(Ir,f=>{t(a)&&f(ho)})}var Or=x(Ir,2);{var po=f=>{var h=al(),g=_(h),T=_(g),O=x(_(T),2),L=x(T,2),z=_(L),ne=x(_(z));rn(ne,5,()=>t(s),nn,(Y,q)=>{var b=ol();let M;var G=_(b),ee=_(G);{var fe=Ee=>{var Qe=jt();P(()=>N(Qe,`${t(q),p(()=>t(q).taxon.preferred_common_name)??""} ${t(q),p(()=>t(q).taxon.rank)??""} ${t(q),p(()=>t(q).taxon.name)??""}`)),A(Ee,Qe)},Re=Ee=>{var Qe=jt();P(()=>N(Qe,`${t(q),p(()=>t(q).taxon.rank)??""} ${t(q),p(()=>t(q).taxon.name)??""}`)),A(Ee,Qe)};F(ee,Ee=>{t(q),p(()=>t(q).taxon.preferred_common_name)?Ee(fe):Ee(Re,!1)})}var J=x(G),bt=_(J),yt=x(J),De=_(yt),ke=x(yt),Xt=_(ke),Mt=x(ke),en=_(Mt),Ke=x(Mt),rt=_(Ke);P(Ee=>{M=Ut(b,1,"svelte-1n46o8q",null,M,{"community-taxon-row":t(q).isCommunityTaxon}),N(bt,(t(q),p(()=>t(q).identificationCount))),N(De,(t(q),p(()=>t(q).cumulativeCount))),N(Xt,(t(q),p(()=>t(q).disagreementCount))),N(en,(t(q),p(()=>t(q).ancestorDisagreements))),N(rt,`${t(q),p(()=>t(q).cumulativeCount)??""} / (${t(q),p(()=>t(q).cumulativeCount)??""}+${t(q),p(()=>t(q).disagreementCount)??""}+${t(q),p(()=>t(q).ancestorDisagreements)??""}=${t(q),p(()=>t(q).cumulativeCount+t(q).disagreementCount+t(q).ancestorDisagreements)??""}) = ${Ee??""}`)},[()=>(t(q),p(()=>t(q).score.toFixed(2)))]),A(Y,b)}),$("click",O,()=>d(Fe,!1)),$("click",g,sn(function(Y){on.call(this,n,Y)})),$("click",h,()=>d(Fe,!1)),A(f,h)};F(Or,f=>{t(Fe)&&t(a)&&f(po)})}var Nr=x(Or,2);{var mo=f=>{var h=il(),g=_(h),T=_(g),O=x(_(T),2),L=x(T,2),z=_(L),ne=_(z),Y=x(z,2),q=_(Y),b=_(q),M=x(q,2),G=_(M);P(()=>{N(ne,`Is the evidence provided enough to confirm this is
            ${t(a),p(()=>t(a).taxon.preferred_common_name?`${t(a).taxon.preferred_common_name} (${t(a).taxon.rank} ${t(a).taxon.name})`:`${t(a).taxon.rank} ${t(a).taxon.name}`)??""}?`),N(b,`I don't know but I am sure this is
              ${t(j),p(()=>t(j).taxon.preferred_common_name?`${t(j).taxon.preferred_common_name} (${t(j).taxon.rank} ${t(j).taxon.name})`:`${t(j).taxon.rank} ${t(j).taxon.name}`)??""}`),N(G,`No but it is a member of
              ${t(j),p(()=>t(j).taxon.preferred_common_name?`${t(j).taxon.preferred_common_name} (${t(j).taxon.rank} ${t(j).taxon.name})`:`${t(j).taxon.rank} ${t(j).taxon.name}`)??""}`)}),$("click",O,()=>{d(le,!1),d(j,null)}),$("click",q,()=>br(!1)),$("click",M,()=>br(!0)),$("click",g,sn(function(ee){on.call(this,n,ee)})),$("click",h,()=>{d(le,!1),d(j,null)}),A(f,h)};F(Nr,f=>{t(le),t(j),t(a),p(()=>t(le)&&t(j)&&t(a)&&t(a).taxon)&&f(mo)})}var Pr=x(Nr,2);{var go=f=>{var h=dl(),g=_(h),T=_(g),O=_(T),L=_(O),z=x(O,2),ne=x(T,2),Y=_(ne);rn(Y,5,()=>t(mt)==="yes"?t(c):t(m),nn,(q,b)=>{var M=vl(),G=_(M);{var ee=De=>{var ke=ll();P(()=>{he(ke,"src",(t(b),p(()=>t(b).user.icon))),he(ke,"alt",(t(b),p(()=>t(b).user.login)))}),A(De,ke)},fe=De=>{var ke=Lt(),Xt=Xe(ke);{var Mt=Ke=>{var rt=ul(),Ee=_(rt);P(()=>N(Ee,(t(b),p(()=>t(b).user.emoji)))),A(Ke,rt)},en=Ke=>{var rt=fl(),Ee=_(rt);P(Qe=>N(Ee,Qe),[()=>(t(b),p(()=>t(b).user?.login?.charAt(0)?.toUpperCase()||"?"))]),A(Ke,rt)};F(Xt,Ke=>{t(b),p(()=>t(b).user?.emoji)?Ke(Mt):Ke(en,!1)})}A(De,ke)};F(G,De=>{t(b),p(()=>t(b).user?.icon)?De(ee):De(fe,!1)})}var Re=x(G,2),J=_(Re),bt=x(Re,2);{var yt=De=>{var ke=cl();$("click",ke,()=>so(t(b).id)),A(De,ke)};F(bt,De=>{t(b),p(()=>t(b).id&&typeof t(b).id=="string"&&t(b).id.startsWith("demo-vote-"))&&De(yt)})}P(()=>N(J,(t(b),p(()=>t(b).user?.login||"Unknown")))),A(q,M)}),P(()=>N(L,`${t(mt)==="yes"?"Yes":"No, it's as good as it can be"} Votes`)),$("click",z,()=>{d(Se,!1),d(mt,null)}),$("click",g,sn(function(q){on.call(this,n,q)})),$("click",h,()=>{d(Se,!1),d(mt,null)}),A(f,h)};F(Pr,f=>{t(Se)&&t(mt)&&f(go)})}var Fr=x(Pr,2);{var bo=f=>{var h=_l(),g=_(h),T=_(g),O=x(_(T),2);$("click",O,()=>d(gt,!1)),$("click",g,sn(function(L){on.call(this,n,L)})),$("click",h,()=>d(gt,!1)),A(f,h)};F(Fr,f=>{t(gt)&&f(bo)})}var yo=x(Fr,2);{var xo=f=>{var h=hl(),g=_(h),T=_(g),O=x(_(T),2);$("click",O,()=>d(Jt,!1)),$("click",g,sn(function(L){on.call(this,n,L)})),$("click",h,()=>d(Jt,!1)),A(f,h)};F(yo,f=>{t(Jt)&&f(xo)})}$("click",Er,Qs),$("click",Ar,()=>d(Jt,!0)),ls(w,[],Pn,()=>t(me),f=>d(me,f)),ls(w,[],Fn,()=>t(me),f=>d(me,f)),$("click",co,()=>d(gt,!0)),A(e,qr),bs()}ni(ml,{target:document.getElementById("app")});
