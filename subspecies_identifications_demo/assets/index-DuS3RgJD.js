(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();const Kn=!1;var rr=Array.isArray,Ho=Array.prototype.indexOf,Dn=Array.from,Wo=Object.defineProperty,fn=Object.getOwnPropertyDescriptor,ls=Object.getOwnPropertyDescriptors,Yo=Object.prototype,Go=Array.prototype,sr=Object.getPrototypeOf,Yr=Object.isExtensible;function Ko(e){return e()}function Qn(e){for(var n=0;n<e.length;n++)e[n]()}function us(){var e,n,r=new Promise((s,o)=>{e=s,n=o});return{promise:r,resolve:e,reject:n}}const ye=2,fs=4,Sn=8,Qo=1<<24,ct=16,vt=32,Nt=64,In=128,We=512,ge=1024,Oe=2048,Ye=4096,Fe=8192,pt=16384,or=32768,Ut=65536,Gr=1<<17,cs=1<<18,Wt=1<<19,vs=1<<20,lt=1<<25,Dt=32768,Zn=1<<21,ar=1<<22,mt=1<<23,Et=Symbol("$state"),Zo=Symbol(""),$t=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Jo(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Xo(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ea(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ta(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function na(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ra(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function sa(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function oa(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function aa(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function ia(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const la=1,ua=2,ds=4,fa=8,ca=16,va=1,da=2,qe=Symbol(),_a="http://www.w3.org/1999/xhtml";function ha(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function _s(e){return e===this.v}function pa(e,n){return e!=e?n==n:e!==n||e!==null&&typeof e=="object"||typeof e=="function"}function hs(e){return!pa(e,this.v)}let hn=!1,ma=!1;function ga(){hn=!0}let ne=null;function Vt(e){ne=e}function ps(e,n=!1,r){ne={p:ne,i:!1,c:null,e:null,s:e,x:null,l:hn&&!n?{s:null,u:null,$:[]}:null}}function ms(e){var n=ne,r=n.e;if(r!==null){n.e=null;for(var s of r)Rs(s)}return n.i=!0,ne=n.p,{}}function pn(){return!hn||ne!==null&&ne.l===null}let kt=[];function gs(){var e=kt;kt=[],Qn(e)}function St(e){if(kt.length===0&&!cn){var n=kt;queueMicrotask(()=>{n===kt&&gs()})}kt.push(e)}function ba(){for(;kt.length>0;)gs()}function bs(e){var n=K;if(n===null)return B.f|=mt,e;if((n.f&or)===0){if((n.f&In)===0)throw e;n.b.error(e)}else Bt(e,n)}function Bt(e,n){for(;n!==null;){if((n.f&In)!==0)try{n.b.error(e);return}catch(r){e=r}n=n.parent}throw e}const wn=new Set;let G=null,qn=null,ze=null,Ve=[],On=null,Jn=!1,cn=!1;class Xe{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#l=null;#o=new Set;#s=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(n){Ve=[],qn=null,this.apply();var r={parent:null,effect:null,effects:[],render_effects:[]};for(const s of n)this.#a(s,r);this.is_fork||this.#f(),this.is_deferred()?(this.#i(r.effects),this.#i(r.render_effects)):(qn=this,G=null,Kr(r.render_effects),Kr(r.effects),qn=null,this.#l?.resolve()),ze=null}#a(n,r){n.f^=ge;for(var s=n.first;s!==null;){var o=s.f,i=(o&(vt|Nt))!==0,u=i&&(o&ge)!==0,v=u||(o&Fe)!==0||this.skipped_effects.has(s);if((s.f&In)!==0&&s.b?.is_pending()&&(r={parent:r,effect:s,effects:[],render_effects:[]}),!v&&s.fn!==null){i?s.f^=ge:(o&fs)!==0?r.effects.push(s):Gt(s)&&((s.f&ct)!==0&&this.#o.add(s),Ht(s));var l=s.first;if(l!==null){s=l;continue}}var c=s.parent;for(s=s.next;s===null&&c!==null;)c===r.effect&&(this.#i(r.effects),this.#i(r.render_effects),r=r.parent),s=c.next,c=c.parent}}#i(n){for(const r of n)(r.f&Oe)!==0?this.#o.add(r):(r.f&Ye)!==0&&this.#s.add(r),this.#u(r.deps),be(r,ge)}#u(n){if(n!==null)for(const r of n)(r.f&ye)===0||(r.f&Dt)===0||(r.f^=Dt,this.#u(r.deps))}capture(n,r){this.previous.has(n)||this.previous.set(n,r),(n.f&mt)===0&&(this.current.set(n,n.v),ze?.set(n,n.v))}activate(){G=this,this.apply()}deactivate(){G===this&&(G=null,ze=null)}flush(){if(this.activate(),Ve.length>0){if(ys(),G!==null&&G!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const n of this.#t)n(this);this.#t.clear()}#f(){if(this.#n===0){for(const n of this.#e)n();this.#e.clear()}this.#r===0&&this.#c()}#c(){if(wn.size>1){this.previous.clear();var n=ze,r=!0,s={parent:null,effect:null,effects:[],render_effects:[]};for(const i of wn){if(i===this){r=!1;continue}const u=[];for(const[l,c]of this.current){if(i.current.has(l))if(r&&c!==i.current.get(l))i.current.set(l,c);else continue;u.push(l)}if(u.length===0)continue;const v=[...i.current.keys()].filter(l=>!this.current.has(l));if(v.length>0){var o=Ve;Ve=[];const l=new Set,c=new Map;for(const g of u)xs(g,v,l,c);if(Ve.length>0){G=i,i.apply();for(const g of Ve)i.#a(g,s);i.deactivate()}Ve=o}}G=null,ze=n}this.committed=!0,wn.delete(this)}increment(n){this.#r+=1,n&&(this.#n+=1)}decrement(n){this.#r-=1,n&&(this.#n-=1),this.revive()}revive(){for(const n of this.#o)this.#s.delete(n),be(n,Oe),It(n);for(const n of this.#s)be(n,Ye),It(n);this.flush()}oncommit(n){this.#e.add(n)}ondiscard(n){this.#t.add(n)}settled(){return(this.#l??=us()).promise}static ensure(){if(G===null){const n=G=new Xe;wn.add(G),cn||Xe.enqueue(()=>{G===n&&n.flush()})}return G}static enqueue(n){St(n)}apply(){}}function ya(e){var n=cn;cn=!0;try{for(var r;;){if(ba(),Ve.length===0&&(G?.flush(),Ve.length===0))return On=null,r;ys()}}finally{cn=n}}function ys(){var e=At;Jn=!0;var n=null;try{var r=0;for(Tn(!0);Ve.length>0;){var s=Xe.ensure();if(r++>1e3){var o,i;xa()}s.process(Ve),gt.clear()}}finally{Jn=!1,Tn(e),On=null}}function xa(){try{ra()}catch(e){Bt(e,On)}}let it=null;function Kr(e){var n=e.length;if(n!==0){for(var r=0;r<n;){var s=e[r++];if((s.f&(pt|Fe))===0&&Gt(s)&&(it=new Set,Ht(s),s.deps===null&&s.first===null&&s.nodes===null&&(s.teardown===null&&s.ac===null?Fs(s):s.fn=null),it?.size>0)){gt.clear();for(const o of it){if((o.f&(pt|Fe))!==0)continue;const i=[o];let u=o.parent;for(;u!==null;)it.has(u)&&(it.delete(u),i.push(u)),u=u.parent;for(let v=i.length-1;v>=0;v--){const l=i[v];(l.f&(pt|Fe))===0&&Ht(l)}}it.clear()}}it=null}}function xs(e,n,r,s){if(!r.has(e)&&(r.add(e),e.reactions!==null))for(const o of e.reactions){const i=o.f;(i&ye)!==0?xs(o,n,r,s):(i&(ar|ct))!==0&&(i&Oe)===0&&ws(o,n,s)&&(be(o,Oe),It(o))}}function ws(e,n,r){const s=r.get(e);if(s!==void 0)return s;if(e.deps!==null)for(const o of e.deps){if(n.includes(o))return!0;if((o.f&ye)!==0&&ws(o,n,r))return r.set(o,!0),!0}return r.set(e,!1),!1}function It(e){for(var n=On=e;n.parent!==null;){n=n.parent;var r=n.f;if(Jn&&n===K&&(r&ct)!==0&&(r&cs)===0)return;if((r&(Nt|vt))!==0){if((r&ge)===0)return;n.f^=ge}}Ve.push(n)}function wa(e){let n=0,r=Ot(0),s;return()=>{dn()&&(t(r),gn(()=>(n===0&&(s=p(()=>e(()=>vn(r)))),n+=1,()=>{St(()=>{n-=1,n===0&&(s?.(),s=void 0,vn(r))})})))}}var qa=Ut|Wt|In;function ka(e,n,r){new Ea(e,n,r)}class Ea{parent;#e=!1;#t;#r=null;#n;#l;#o;#s=null;#a=null;#i=null;#u=null;#f=null;#c=0;#v=0;#_=!1;#d=null;#b=wa(()=>(this.#d=Ot(this.#c),()=>{this.#d=null}));constructor(n,r,s){this.#t=n,this.#n=r,this.#l=s,this.parent=K.b,this.#e=!!this.#n.pending,this.#o=fr(()=>{K.b=this;{var o=this.#m();try{this.#s=Be(()=>s(o))}catch(i){this.error(i)}this.#v>0?this.#p():this.#e=!1}return()=>{this.#f?.remove()}},qa)}#y(){try{this.#s=Be(()=>this.#l(this.#t))}catch(n){this.error(n)}this.#e=!1}#x(){const n=this.#n.pending;n&&(this.#a=Be(()=>n(this.#t)),Xe.enqueue(()=>{var r=this.#m();this.#s=this.#h(()=>(Xe.ensure(),Be(()=>this.#l(r)))),this.#v>0?this.#p():(Tt(this.#a,()=>{this.#a=null}),this.#e=!1)}))}#m(){var n=this.#t;return this.#e&&(this.#f=ut(),this.#t.before(this.#f),n=this.#f),n}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#h(n){var r=K,s=B,o=ne;tt(this.#o),Se(this.#o),Vt(this.#o.ctx);try{return n()}catch(i){return bs(i),null}finally{tt(r),Se(s),Vt(o)}}#p(){const n=this.#n.pending;this.#s!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#f),$s(this.#s,this.#u)),this.#a===null&&(this.#a=Be(()=>n(this.#t)))}#g(n){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(n);return}this.#v+=n,this.#v===0&&(this.#e=!1,this.#a&&Tt(this.#a,()=>{this.#a=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(n){this.#g(n),this.#c+=n,this.#d&&zt(this.#d,this.#c)}get_effect_pending(){return this.#b(),t(this.#d)}error(n){var r=this.#n.onerror;let s=this.#n.failed;if(this.#_||!r&&!s)throw n;this.#s&&(Ie(this.#s),this.#s=null),this.#a&&(Ie(this.#a),this.#a=null),this.#i&&(Ie(this.#i),this.#i=null);var o=!1,i=!1;const u=()=>{if(o){ha();return}o=!0,i&&ia(),Xe.ensure(),this.#c=0,this.#i!==null&&Tt(this.#i,()=>{this.#i=null}),this.#e=this.has_pending_snippet(),this.#s=this.#h(()=>(this.#_=!1,Be(()=>this.#l(this.#t)))),this.#v>0?this.#p():this.#e=!1};var v=B;try{Se(null),i=!0,r?.(n,u),i=!1}catch(l){Bt(l,this.#o&&this.#o.parent)}finally{Se(v)}s&&St(()=>{this.#i=this.#h(()=>{Xe.ensure(),this.#_=!0;try{return Be(()=>{s(this.#t,()=>n,()=>u)})}catch(l){return Bt(l,this.#o.parent),null}finally{this.#_=!1}})})}}function Ta(e,n,r,s){const o=pn()?ir:qs;if(r.length===0&&e.length===0){s(n.map(o));return}var i=G,u=K,v=Aa();function l(){Promise.all(r.map(c=>Ca(c))).then(c=>{v();try{s([...n.map(o),...c])}catch(g){(u.f&pt)===0&&Bt(g,u)}i?.deactivate(),kn()}).catch(c=>{Bt(c,u)})}e.length>0?Promise.all(e).then(()=>{v();try{return l()}finally{i?.deactivate(),kn()}}):l()}function Aa(){var e=K,n=B,r=ne,s=G;return function(i=!0){tt(e),Se(n),Vt(r),i&&s?.activate()}}function kn(){tt(null),Se(null),Vt(null)}function ir(e){var n=ye|Oe,r=B!==null&&(B.f&ye)!==0?B:null;return K!==null&&(K.f|=Wt),{ctx:ne,deps:null,effects:null,equals:_s,f:n,fn:e,reactions:null,rv:0,v:qe,wv:0,parent:r??K,ac:null}}function Ca(e,n){let r=K;r===null&&Xo();var s=r.b,o=void 0,i=Ot(qe),u=!B,v=new Map;return $a(()=>{var l=us();o=l.promise;try{Promise.resolve(e()).then(l.resolve,l.reject).then(()=>{c===G&&c.committed&&c.deactivate(),kn()})}catch(q){l.reject(q),kn()}var c=G;if(u){var g=!s.is_pending();s.update_pending_count(1),c.increment(g),v.get(c)?.reject($t),v.delete(c),v.set(c,l)}const C=(q,x=void 0)=>{if(c.activate(),x)x!==$t&&(i.f|=mt,zt(i,x));else{(i.f&mt)!==0&&(i.f^=mt),zt(i,q);for(const[a,J]of v){if(v.delete(a),a===c)break;J.reject($t)}}u&&(s.update_pending_count(-1),c.decrement(g))};l.promise.then(C,q=>C(null,q||"unknown"))}),ur(()=>{for(const l of v.values())l.reject($t)}),new Promise(l=>{function c(g){function C(){g===o?l(i):c(o)}g.then(C,C)}c(o)})}function qs(e){const n=ir(e);return n.equals=hs,n}function ks(e){var n=e.effects;if(n!==null){e.effects=null;for(var r=0;r<n.length;r+=1)Ie(n[r])}}function Da(e){for(var n=e.parent;n!==null;){if((n.f&ye)===0)return(n.f&pt)===0?n:null;n=n.parent}return null}function lr(e){var n,r=K;tt(Da(e));try{e.f&=~Dt,ks(e),n=zs(e)}finally{tt(r)}return n}function Es(e){var n=lr(e);if(e.equals(n)||(G?.is_fork||(e.v=n),e.wv=Vs()),!Yt)if(ze!==null)(dn()||G?.is_fork)&&ze.set(e,n);else{var r=(e.f&We)===0?Ye:ge;be(e,r)}}let Xn=new Set;const gt=new Map;let Ts=!1;function Ot(e,n){var r={f:0,v:e,reactions:null,equals:_s,rv:0,wv:0};return r}function _t(e,n){const r=Ot(e);return Ba(r),r}function V(e,n=!1,r=!0){const s=Ot(e);return n||(s.equals=hs),hn&&r&&ne!==null&&ne.l!==null&&(ne.l.s??=[]).push(s),s}function W(e,n){return d(e,p(()=>t(e))),n}function d(e,n,r=!1){B!==null&&(!et||(B.f&Gr)!==0)&&pn()&&(B.f&(ye|ct|ar|Gr))!==0&&!ft?.includes(e)&&aa();let s=r?an(n):n;return zt(e,s)}function zt(e,n){if(!e.equals(n)){var r=e.v;Yt?gt.set(e,n):gt.set(e,r),e.v=n;var s=Xe.ensure();s.capture(e,r),(e.f&ye)!==0&&((e.f&Oe)!==0&&lr(e),be(e,(e.f&We)!==0?ge:Ye)),e.wv=Vs(),As(e,Oe),pn()&&K!==null&&(K.f&ge)!==0&&(K.f&(vt|Nt))===0&&(Ue===null?za([e]):Ue.push(e)),!s.is_fork&&Xn.size>0&&!Ts&&Sa()}return n}function Sa(){Ts=!1;var e=At;Tn(!0);const n=Array.from(Xn);try{for(const r of n)(r.f&ge)!==0&&be(r,Ye),Gt(r)&&Ht(r)}finally{Tn(e)}Xn.clear()}function Ia(e,n=1){var r=t(e),s=n===1?r++:r--;return d(e,r),s}function vn(e){d(e,e.v+1)}function As(e,n){var r=e.reactions;if(r!==null)for(var s=pn(),o=r.length,i=0;i<o;i++){var u=r[i],v=u.f;if(!(!s&&u===K)){var l=(v&Oe)===0;if(l&&be(u,n),(v&ye)!==0){var c=u;ze?.delete(c),(v&Dt)===0&&(v&We&&(u.f|=Dt),As(c,Ye))}else l&&((v&ct)!==0&&it!==null&&it.add(u),It(u))}}}function an(e){if(typeof e!="object"||e===null||Et in e)return e;const n=sr(e);if(n!==Yo&&n!==Go)return e;var r=new Map,s=rr(e),o=_t(0),i=Ct,u=v=>{if(Ct===i)return v();var l=B,c=Ct;Se(null),es(i);var g=v();return Se(l),es(c),g};return s&&r.set("length",_t(e.length)),new Proxy(e,{defineProperty(v,l,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&sa();var g=r.get(l);return g===void 0?g=u(()=>{var C=_t(c.value);return r.set(l,C),C}):d(g,c.value,!0),!0},deleteProperty(v,l){var c=r.get(l);if(c===void 0){if(l in v){const g=u(()=>_t(qe));r.set(l,g),vn(o)}}else d(c,qe),vn(o);return!0},get(v,l,c){if(l===Et)return e;var g=r.get(l),C=l in v;if(g===void 0&&(!C||fn(v,l)?.writable)&&(g=u(()=>{var x=an(C?v[l]:qe),a=_t(x);return a}),r.set(l,g)),g!==void 0){var q=t(g);return q===qe?void 0:q}return Reflect.get(v,l,c)},getOwnPropertyDescriptor(v,l){var c=Reflect.getOwnPropertyDescriptor(v,l);if(c&&"value"in c){var g=r.get(l);g&&(c.value=t(g))}else if(c===void 0){var C=r.get(l),q=C?.v;if(C!==void 0&&q!==qe)return{enumerable:!0,configurable:!0,value:q,writable:!0}}return c},has(v,l){if(l===Et)return!0;var c=r.get(l),g=c!==void 0&&c.v!==qe||Reflect.has(v,l);if(c!==void 0||K!==null&&(!g||fn(v,l)?.writable)){c===void 0&&(c=u(()=>{var q=g?an(v[l]):qe,x=_t(q);return x}),r.set(l,c));var C=t(c);if(C===qe)return!1}return g},set(v,l,c,g){var C=r.get(l),q=l in v;if(s&&l==="length")for(var x=c;x<C.v;x+=1){var a=r.get(x+"");a!==void 0?d(a,qe):x in v&&(a=u(()=>_t(qe)),r.set(x+"",a))}if(C===void 0)(!q||fn(v,l)?.writable)&&(C=u(()=>_t(void 0)),d(C,an(c)),r.set(l,C));else{q=C.v!==qe;var J=u(()=>an(c));d(C,J)}var E=Reflect.getOwnPropertyDescriptor(v,l);if(E?.set&&E.set.call(g,c),!q){if(s&&typeof l=="string"){var F=r.get("length"),fe=Number(l);Number.isInteger(fe)&&fe>=F.v&&d(F,fe+1)}vn(o)}return!0},ownKeys(v){t(o);var l=Reflect.ownKeys(v).filter(C=>{var q=r.get(C);return q===void 0||q.v!==qe});for(var[c,g]of r)g.v!==qe&&!(c in v)&&l.push(c);return l},setPrototypeOf(){oa()}})}function Qr(e){try{if(e!==null&&typeof e=="object"&&Et in e)return e[Et]}catch{}return e}function Oa(e,n){return Object.is(Qr(e),Qr(n))}var Zr,Cs,Ds,Ss;function Na(){if(Zr===void 0){Zr=window,Cs=/Firefox/.test(navigator.userAgent);var e=Element.prototype,n=Node.prototype,r=Text.prototype;Ds=fn(n,"firstChild").get,Ss=fn(n,"nextSibling").get,Yr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Yr(r)&&(r.__t=void 0)}}function ut(e=""){return document.createTextNode(e)}function En(e){return Ds.call(e)}function mn(e){return Ss.call(e)}function h(e,n){return En(e)}function at(e,n=!1){{var r=En(e);return r instanceof Comment&&r.data===""?mn(r):r}}function w(e,n=1,r=!1){let s=e;for(;n--;)s=mn(s);return s}function Ra(e){e.textContent=""}function Is(){return!1}let Jr=!1;function Ma(){Jr||(Jr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const n of e.target.elements)n.__on_r?.()})},{capture:!0}))}function Nn(e){var n=B,r=K;Se(null),tt(null);try{return e()}finally{Se(n),tt(r)}}function Os(e,n,r,s=r){e.addEventListener(n,()=>Nn(r));const o=e.__on_r;o?e.__on_r=()=>{o(),s(!0)}:e.__on_r=()=>s(!0),Ma()}function Ns(e){K===null&&(B===null&&na(),ta()),Yt&&ea()}function Pa(e,n){var r=n.last;r===null?n.last=n.first=e:(r.next=e,e.prev=r,n.last=e)}function dt(e,n,r){var s=K;s!==null&&(s.f&Fe)!==0&&(e|=Fe);var o={ctx:ne,deps:null,nodes:null,f:e|Oe|We,first:null,fn:n,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{Ht(o),o.f|=or}catch(v){throw Ie(o),v}else n!==null&&It(o);var i=o;if(r&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&Wt)===0&&(i=i.first,(e&ct)!==0&&(e&Ut)!==0&&i!==null&&(i.f|=Ut)),i!==null&&(i.parent=s,s!==null&&Pa(i,s),B!==null&&(B.f&ye)!==0&&(e&Nt)===0)){var u=B;(u.effects??=[]).push(i)}return o}function dn(){return B!==null&&!et}function ur(e){const n=dt(Sn,null,!1);return be(n,ge),n.teardown=e,n}function er(e){Ns();var n=K.f,r=!B&&(n&vt)!==0&&(n&or)===0;if(r){var s=ne;(s.e??=[]).push(e)}else return Rs(e)}function Rs(e){return dt(fs|vs,e,!1)}function Fa(e){return Ns(),dt(Sn|vs,e,!0)}function La(e){Xe.ensure();const n=dt(Nt|Wt,e,!0);return(r={})=>new Promise(s=>{r.outro?Tt(n,()=>{Ie(n),s(void 0)}):(Ie(n),s(void 0))})}function we(e,n){var r=ne,s={effect:null,ran:!1,deps:e};r.l.$.push(s),s.effect=gn(()=>{e(),!s.ran&&(s.ran=!0,p(n))})}function ja(){var e=ne;gn(()=>{for(var n of e.l.$){n.deps();var r=n.effect;(r.f&ge)!==0&&be(r,Ye),Gt(r)&&Ht(r),n.ran=!1}})}function $a(e){return dt(ar|Wt,e,!0)}function gn(e,n=0){return dt(Sn|n,e,!0)}function R(e,n=[],r=[],s=[]){Ta(s,n,r,o=>{dt(Sn,()=>e(...o.map(t)),!0)})}function fr(e,n=0){var r=dt(ct|n,e,!0);return r}function Be(e){return dt(vt|Wt,e,!0)}function Ms(e){var n=e.teardown;if(n!==null){const r=Yt,s=B;Xr(!0),Se(null);try{n.call(null)}finally{Xr(r),Se(s)}}}function Ps(e,n=!1){var r=e.first;for(e.first=e.last=null;r!==null;){const o=r.ac;o!==null&&Nn(()=>{o.abort($t)});var s=r.next;(r.f&Nt)!==0?r.parent=null:Ie(r,n),r=s}}function Ua(e){for(var n=e.first;n!==null;){var r=n.next;(n.f&vt)===0&&Ie(n),n=r}}function Ie(e,n=!0){var r=!1;(n||(e.f&cs)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Va(e.nodes.start,e.nodes.end),r=!0),Ps(e,n&&!r),An(e,0),be(e,pt);var s=e.nodes&&e.nodes.t;if(s!==null)for(const i of s)i.stop();Ms(e);var o=e.parent;o!==null&&o.first!==null&&Fs(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Va(e,n){for(;e!==null;){var r=e===n?null:mn(e);e.remove(),e=r}}function Fs(e){var n=e.parent,r=e.prev,s=e.next;r!==null&&(r.next=s),s!==null&&(s.prev=r),n!==null&&(n.first===e&&(n.first=s),n.last===e&&(n.last=r))}function Tt(e,n,r=!0){var s=[];Ls(e,s,!0);var o=()=>{r&&Ie(e),n&&n()},i=s.length;if(i>0){var u=()=>--i||o();for(var v of s)v.out(u)}else o()}function Ls(e,n,r){if((e.f&Fe)===0){e.f^=Fe;var s=e.nodes&&e.nodes.t;if(s!==null)for(const v of s)(v.is_global||r)&&n.push(v);for(var o=e.first;o!==null;){var i=o.next,u=(o.f&Ut)!==0||(o.f&vt)!==0&&(e.f&ct)!==0;Ls(o,n,u?r:!1),o=i}}}function cr(e){js(e,!0)}function js(e,n){if((e.f&Fe)!==0){e.f^=Fe,(e.f&ge)===0&&(be(e,Oe),It(e));for(var r=e.first;r!==null;){var s=r.next,o=(r.f&Ut)!==0||(r.f&vt)!==0;js(r,o?n:!1),r=s}var i=e.nodes&&e.nodes.t;if(i!==null)for(const u of i)(u.is_global||n)&&u.in()}}function $s(e,n){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end;r!==null;){var o=r===s?null:mn(r);n.append(r),r=o}}let At=!1;function Tn(e){At=e}let Yt=!1;function Xr(e){Yt=e}let B=null,et=!1;function Se(e){B=e}let K=null;function tt(e){K=e}let ft=null;function Ba(e){B!==null&&(ft===null?ft=[e]:ft.push(e))}let Ae=null,Pe=0,Ue=null;function za(e){Ue=e}let Us=1,_n=0,Ct=_n;function es(e){Ct=e}function Vs(){return++Us}function Gt(e){var n=e.f;if((n&Oe)!==0)return!0;if(n&ye&&(e.f&=~Dt),(n&Ye)!==0){var r=e.deps;if(r!==null)for(var s=r.length,o=0;o<s;o++){var i=r[o];if(Gt(i)&&Es(i),i.wv>e.wv)return!0}(n&We)!==0&&ze===null&&be(e,ge)}return!1}function Bs(e,n,r=!0){var s=e.reactions;if(s!==null&&!ft?.includes(e))for(var o=0;o<s.length;o++){var i=s[o];(i.f&ye)!==0?Bs(i,n,!1):n===i&&(r?be(i,Oe):(i.f&ge)!==0&&be(i,Ye),It(i))}}function zs(e){var n=Ae,r=Pe,s=Ue,o=B,i=ft,u=ne,v=et,l=Ct,c=e.f;Ae=null,Pe=0,Ue=null,B=(c&(vt|Nt))===0?e:null,ft=null,Vt(e.ctx),et=!1,Ct=++_n,e.ac!==null&&(Nn(()=>{e.ac.abort($t)}),e.ac=null);try{e.f|=Zn;var g=e.fn,C=g(),q=e.deps;if(Ae!==null){var x;if(An(e,Pe),q!==null&&Pe>0)for(q.length=Pe+Ae.length,x=0;x<Ae.length;x++)q[Pe+x]=Ae[x];else e.deps=q=Ae;if(dn()&&(e.f&We)!==0)for(x=Pe;x<q.length;x++)(q[x].reactions??=[]).push(e)}else q!==null&&Pe<q.length&&(An(e,Pe),q.length=Pe);if(pn()&&Ue!==null&&!et&&q!==null&&(e.f&(ye|Ye|Oe))===0)for(x=0;x<Ue.length;x++)Bs(Ue[x],e);return o!==null&&o!==e&&(_n++,Ue!==null&&(s===null?s=Ue:s.push(...Ue))),(e.f&mt)!==0&&(e.f^=mt),C}catch(a){return bs(a)}finally{e.f^=Zn,Ae=n,Pe=r,Ue=s,B=o,ft=i,Vt(u),et=v,Ct=l}}function Ha(e,n){let r=n.reactions;if(r!==null){var s=Ho.call(r,e);if(s!==-1){var o=r.length-1;o===0?r=n.reactions=null:(r[s]=r[o],r.pop())}}r===null&&(n.f&ye)!==0&&(Ae===null||!Ae.includes(n))&&(be(n,Ye),(n.f&We)!==0&&(n.f^=We,n.f&=~Dt),ks(n),An(n,0))}function An(e,n){var r=e.deps;if(r!==null)for(var s=n;s<r.length;s++)Ha(e,r[s])}function Ht(e){var n=e.f;if((n&pt)===0){be(e,ge);var r=K,s=At;K=e,At=!0;try{(n&(ct|Qo))!==0?Ua(e):Ps(e),Ms(e);var o=zs(e);e.teardown=typeof o=="function"?o:null,e.wv=Us;var i;Kn&&ma&&(e.f&Oe)!==0&&e.deps}finally{At=s,K=r}}}async function Wa(){await Promise.resolve(),ya()}function t(e){var n=e.f,r=(n&ye)!==0;if(B!==null&&!et){var s=K!==null&&(K.f&pt)!==0;if(!s&&!ft?.includes(e)){var o=B.deps;if((B.f&Zn)!==0)e.rv<_n&&(e.rv=_n,Ae===null&&o!==null&&o[Pe]===e?Pe++:Ae===null?Ae=[e]:Ae.includes(e)||Ae.push(e));else{(B.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[B]:i.includes(B)||i.push(B)}}}if(Yt){if(gt.has(e))return gt.get(e);if(r){var u=e,v=u.v;return((u.f&ge)===0&&u.reactions!==null||Ws(u))&&(v=lr(u)),gt.set(u,v),v}}else r&&(!ze?.has(e)||G?.is_fork&&!dn())&&(u=e,Gt(u)&&Es(u),At&&dn()&&(u.f&We)===0&&Hs(u));if(ze?.has(e))return ze.get(e);if((e.f&mt)!==0)throw e.v;return e.v}function Hs(e){if(e.deps!==null){e.f^=We;for(const n of e.deps)(n.reactions??=[]).push(e),(n.f&ye)!==0&&(n.f&We)===0&&Hs(n)}}function Ws(e){if(e.v===qe)return!0;if(e.deps===null)return!1;for(const n of e.deps)if(gt.has(n)||(n.f&ye)!==0&&Ws(n))return!0;return!1}function p(e){var n=et;try{return et=!0,e()}finally{et=n}}const Ya=-7169;function be(e,n){e.f=e.f&Ya|n}function Ga(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Et in e)tr(e);else if(!Array.isArray(e))for(let n in e){const r=e[n];typeof r=="object"&&r&&Et in r&&tr(r)}}}function tr(e,n=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!n.has(e)){n.add(e),e instanceof Date&&e.getTime();for(let s in e)try{tr(e[s],n)}catch{}const r=sr(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const s=ls(r);for(let o in s){const i=s[o].get;if(i)try{i.call(e)}catch{}}}}}const Ka=["touchstart","touchmove"];function Qa(e){return Ka.includes(e)}const Za=new Set,ts=new Set;function Ja(e,n,r,s={}){function o(i){if(s.capture||ln.call(n,i),!i.cancelBubble)return Nn(()=>r?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?St(()=>{n.addEventListener(e,o,s)}):n.addEventListener(e,o,s),o}function U(e,n,r,s,o){var i={capture:s,passive:o},u=Ja(e,n,r,i);(n===document.body||n===window||n===document||n instanceof HTMLMediaElement)&&ur(()=>{n.removeEventListener(e,u,i)})}let ns=null;function ln(e){var n=this,r=n.ownerDocument,s=e.type,o=e.composedPath?.()||[],i=o[0]||e.target;ns=e;var u=0,v=ns===e&&e.__root;if(v){var l=o.indexOf(v);if(l!==-1&&(n===document||n===window)){e.__root=n;return}var c=o.indexOf(n);if(c===-1)return;l<=c&&(u=l)}if(i=o[u]||e.target,i!==n){Wo(e,"currentTarget",{configurable:!0,get(){return i||r}});var g=B,C=K;Se(null),tt(null);try{for(var q,x=[];i!==null;){var a=i.assignedSlot||i.parentNode||i.host||null;try{var J=i["__"+s];J!=null&&(!i.disabled||e.target===i)&&J.call(i,e)}catch(E){q?x.push(E):q=E}if(e.cancelBubble||a===n||a===null)break;i=a}if(q){for(let E of x)queueMicrotask(()=>{throw E});throw q}}finally{e.__root=n,delete e.currentTarget,Se(g),tt(C)}}}function Xa(e){var n=document.createElement("template");return n.innerHTML=e.replaceAll("<!>","<!---->"),n.content}function Cn(e,n){var r=K;r.nodes===null&&(r.nodes={start:e,end:n,a:null,t:null})}function S(e,n){var r=(n&va)!==0,s=(n&da)!==0,o,i=!e.startsWith("<!>");return()=>{o===void 0&&(o=Xa(i?e:"<!>"+e),r||(o=En(o)));var u=s||Cs?document.importNode(o,!0):o.cloneNode(!0);if(r){var v=En(u),l=u.lastChild;Cn(v,l)}else Cn(u,u);return u}}function tn(e=""){{var n=ut(e+"");return Cn(n,n),n}}function Ft(){var e=document.createDocumentFragment(),n=document.createComment(""),r=ut();return e.append(n,r),Cn(n,r),e}function T(e,n){e!==null&&e.before(n)}function M(e,n){var r=n==null?"":typeof n=="object"?n+"":n;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function ei(e,n){return ti(e,n)}const Lt=new Map;function ti(e,{target:n,anchor:r,props:s={},events:o,context:i,intro:u=!0}){Na();var v=new Set,l=C=>{for(var q=0;q<C.length;q++){var x=C[q];if(!v.has(x)){v.add(x);var a=Qa(x);n.addEventListener(x,ln,{passive:a});var J=Lt.get(x);J===void 0?(document.addEventListener(x,ln,{passive:a}),Lt.set(x,1)):Lt.set(x,J+1)}}};l(Dn(Za)),ts.add(l);var c=void 0,g=La(()=>{var C=r??n.appendChild(ut());return ka(C,{pending:()=>{}},q=>{if(i){ps({});var x=ne;x.c=i}o&&(s.$$events=o),c=e(q,s)||{},i&&ms()}),()=>{for(var q of v){n.removeEventListener(q,ln);var x=Lt.get(q);--x===0?(document.removeEventListener(q,ln),Lt.delete(q)):Lt.set(q,x)}ts.delete(l),C!==r&&C.parentNode?.removeChild(C)}});return ni.set(c,g),c}let ni=new WeakMap;class ri{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#l=!0;constructor(n,r=!0){this.anchor=n,this.#l=r}#o=()=>{var n=G;if(this.#e.has(n)){var r=this.#e.get(n),s=this.#t.get(r);if(s)cr(s),this.#n.delete(r);else{var o=this.#r.get(r);o&&(this.#t.set(r,o.effect),this.#r.delete(r),o.fragment.lastChild.remove(),this.anchor.before(o.fragment),s=o.effect)}for(const[i,u]of this.#e){if(this.#e.delete(i),i===n)break;const v=this.#r.get(u);v&&(Ie(v.effect),this.#r.delete(u))}for(const[i,u]of this.#t){if(i===r||this.#n.has(i))continue;const v=()=>{if(Array.from(this.#e.values()).includes(i)){var c=document.createDocumentFragment();$s(u,c),c.append(ut()),this.#r.set(i,{effect:u,fragment:c})}else Ie(u);this.#n.delete(i),this.#t.delete(i)};this.#l||!s?(this.#n.add(i),Tt(u,v,!1)):v()}}};#s=n=>{this.#e.delete(n);const r=Array.from(this.#e.values());for(const[s,o]of this.#r)r.includes(s)||(Ie(o.effect),this.#r.delete(s))};ensure(n,r){var s=G,o=Is();if(r&&!this.#t.has(n)&&!this.#r.has(n))if(o){var i=document.createDocumentFragment(),u=ut();i.append(u),this.#r.set(n,{effect:Be(()=>r(u)),fragment:i})}else this.#t.set(n,Be(()=>r(this.anchor)));if(this.#e.set(s,n),o){for(const[v,l]of this.#t)v===n?s.skipped_effects.delete(l):s.skipped_effects.add(l);for(const[v,l]of this.#r)v===n?s.skipped_effects.delete(l.effect):s.skipped_effects.add(l.effect);s.oncommit(this.#o),s.ondiscard(this.#s)}else this.#o()}}function P(e,n,r=!1){var s=new ri(e),o=r?Ut:0;function i(u,v){s.ensure(u,v)}fr(()=>{var u=!1;n((v,l=!0)=>{u=!0,i(l,v)}),u||i(!1,null)},o)}function nn(e,n){return n}function si(e,n,r){for(var s=[],o=n.length,i,u=n.length,v=0;v<o;v++){let C=n[v];Tt(C,()=>{if(i){if(i.pending.delete(C),i.done.add(C),i.pending.size===0){var q=e.outrogroups;nr(Dn(i.done)),q.delete(i),q.size===0&&(e.outrogroups=null)}}else u-=1},!1)}if(u===0){var l=s.length===0&&r!==null;if(l){var c=r,g=c.parentNode;Ra(g),g.append(c),e.items.clear()}nr(n,!l)}else i={pending:new Set(n),done:new Set},(e.outrogroups??=new Set).add(i)}function nr(e,n=!0){for(var r=0;r<e.length;r++)Ie(e[r],n)}var rs;function rn(e,n,r,s,o,i=null){var u=e,v=new Map,l=(n&ds)!==0;if(l){var c=e;u=c.appendChild(ut())}var g=null,C=qs(()=>{var F=r();return rr(F)?F:F==null?[]:Dn(F)}),q,x=!0;function a(){E.fallback=g,oi(E,q,u,n,s),g!==null&&(q.length===0?(g.f&lt)===0?cr(g):(g.f^=lt,un(g,null,u)):Tt(g,()=>{g=null}))}var J=fr(()=>{q=t(C);for(var F=q.length,fe=new Set,re=G,de=Is(),z=0;z<F;z+=1){var Ne=q[z],_e=s(Ne,z),se=x?null:v.get(_e);se?(se.v&&zt(se.v,Ne),se.i&&zt(se.i,z),de&&re.skipped_effects.delete(se.e)):(se=ai(v,x?u:rs??=ut(),Ne,_e,z,o,n,r),x||(se.e.f|=lt),v.set(_e,se)),fe.add(_e)}if(F===0&&i&&!g&&(x?g=Be(()=>i(u)):(g=Be(()=>i(rs??=ut())),g.f|=lt)),!x)if(de){for(const[$,Ce]of v)fe.has($)||re.skipped_effects.add(Ce.e);re.oncommit(a),re.ondiscard(()=>{})}else a();t(C)}),E={effect:J,items:v,outrogroups:null,fallback:g};x=!1}function oi(e,n,r,s,o){var i=(s&fa)!==0,u=n.length,v=e.items,l=e.effect.first,c,g=null,C,q=[],x=[],a,J,E,F;if(i)for(F=0;F<u;F+=1)a=n[F],J=o(a,F),E=v.get(J).e,(E.f&lt)===0&&(E.nodes?.a?.measure(),(C??=new Set).add(E));for(F=0;F<u;F+=1){if(a=n[F],J=o(a,F),E=v.get(J).e,e.outrogroups!==null)for(const Ce of e.outrogroups)Ce.pending.delete(E),Ce.done.delete(E);if((E.f&lt)!==0)if(E.f^=lt,E===l)un(E,null,r);else{var fe=g?g.next:l;E===e.effect.last&&(e.effect.last=E.prev),E.prev&&(E.prev.next=E.next),E.next&&(E.next.prev=E.prev),ht(e,g,E),ht(e,E,fe),un(E,fe,r),g=E,q=[],x=[],l=g.next;continue}if((E.f&Fe)!==0&&(cr(E),i&&(E.nodes?.a?.unfix(),(C??=new Set).delete(E))),E!==l){if(c!==void 0&&c.has(E)){if(q.length<x.length){var re=x[0],de;g=re.prev;var z=q[0],Ne=q[q.length-1];for(de=0;de<q.length;de+=1)un(q[de],re,r);for(de=0;de<x.length;de+=1)c.delete(x[de]);ht(e,z.prev,Ne.next),ht(e,g,z),ht(e,Ne,re),l=re,g=Ne,F-=1,q=[],x=[]}else c.delete(E),un(E,l,r),ht(e,E.prev,E.next),ht(e,E,g===null?e.effect.first:g.next),ht(e,g,E),g=E;continue}for(q=[],x=[];l!==null&&l!==E;)(c??=new Set).add(l),x.push(l),l=l.next;if(l===null)continue}(E.f&lt)===0&&q.push(E),g=E,l=E.next}if(e.outrogroups!==null){for(const Ce of e.outrogroups)Ce.pending.size===0&&(nr(Dn(Ce.done)),e.outrogroups?.delete(Ce));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||c!==void 0){var _e=[];if(c!==void 0)for(E of c)(E.f&Fe)===0&&_e.push(E);for(;l!==null;)(l.f&Fe)===0&&l!==e.fallback&&_e.push(l),l=l.next;var se=_e.length;if(se>0){var $=(s&ds)!==0&&u===0?r:null;if(i){for(F=0;F<se;F+=1)_e[F].nodes?.a?.measure();for(F=0;F<se;F+=1)_e[F].nodes?.a?.fix()}si(e,_e,$)}}i&&St(()=>{if(C!==void 0)for(E of C)E.nodes?.a?.apply()})}function ai(e,n,r,s,o,i,u,v){var l=(u&la)!==0?(u&ca)===0?V(r,!1,!1):Ot(r):null,c=(u&ua)!==0?Ot(o):null;return{v:l,i:c,e:Be(()=>(i(n,l??r,c??o,v),()=>{e.delete(s)}))}}function un(e,n,r){if(e.nodes)for(var s=e.nodes.start,o=e.nodes.end,i=n&&(n.f&lt)===0?n.nodes.start:r;s!==null;){var u=mn(s);if(i.before(s),s===o)return;s=u}}function ht(e,n,r){n===null?e.effect.first=r:n.next=r,r===null?e.effect.last=n:r.prev=n}const ss=[...` 	
\r\fÂ \v\uFEFF`];function ii(e,n,r){var s=e==null?"":""+e;if(n&&(s=s?s+" "+n:n),r){for(var o in r)if(r[o])s=s?s+" "+o:o;else if(s.length)for(var i=o.length,u=0;(u=s.indexOf(o,u))>=0;){var v=u+i;(u===0||ss.includes(s[u-1]))&&(v===s.length||ss.includes(s[v]))?s=(u===0?"":s.substring(0,u))+s.substring(v+1):u=v}}return s===""?null:s}function jt(e,n,r,s,o,i){var u=e.__className;if(u!==r||u===void 0){var v=ii(r,s,i);v==null?e.removeAttribute("class"):e.className=v,e.__className=r}else if(i&&o!==i)for(var l in i){var c=!!i[l];(o==null||c!==!!o[l])&&e.classList.toggle(l,c)}return i}const li=Symbol("is custom element"),ui=Symbol("is html");function he(e,n,r,s){var o=fi(e);o[n]!==(o[n]=r)&&(n==="loading"&&(e[Zo]=r),r==null?e.removeAttribute(n):typeof r!="string"&&ci(e).includes(n)?e[n]=r:e.setAttribute(n,r))}function fi(e){return e.__attributes??={[li]:e.nodeName.includes("-"),[ui]:e.namespaceURI===_a}}var os=new Map;function ci(e){var n=e.getAttribute("is")||e.nodeName,r=os.get(n);if(r)return r;os.set(n,r=[]);for(var s,o=e,i=Element.prototype;i!==o;){s=ls(o);for(var u in s)s[u].set&&r.push(u);o=sr(o)}return r}function Hn(e,n,r=n){var s=new WeakSet;Os(e,"input",async o=>{var i=o?e.defaultValue:e.value;if(i=Yn(e)?Gn(i):i,r(i),G!==null&&s.add(G),await Wa(),i!==(i=n())){var u=e.selectionStart,v=e.selectionEnd,l=e.value.length;if(e.value=i??"",v!==null){var c=e.value.length;u===v&&v===l&&c>l?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=u,e.selectionEnd=Math.min(v,c))}}}),p(n)==null&&e.value&&(r(Yn(e)?Gn(e.value):e.value),G!==null&&s.add(G)),gn(()=>{var o=n();if(e===document.activeElement){var i=qn??G;if(s.has(i))return}Yn(e)&&o===Gn(e.value)||e.type==="date"&&!o&&!e.value||o!==e.value&&(e.value=o??"")})}const Wn=new Set;function as(e,n,r,s,o=s){var i=r.getAttribute("type")==="checkbox",u=e;if(n!==null)for(var v of n)u=u[v]??=[];u.push(r),Os(r,"change",()=>{var l=r.__value;i&&(l=vi(u,l,r.checked)),o(l)},()=>o(i?[]:null)),gn(()=>{var l=s();i?(l=l||[],r.checked=l.includes(r.__value)):r.checked=Oa(r.__value,l)}),ur(()=>{var l=u.indexOf(r);l!==-1&&u.splice(l,1)}),Wn.has(u)||(Wn.add(u),St(()=>{u.sort((l,c)=>l.compareDocumentPosition(c)===4?-1:1),Wn.delete(u)})),St(()=>{})}function vi(e,n,r){for(var s=new Set,o=0;o<e.length;o+=1)e[o].checked&&s.add(e[o].__value);return r||s.delete(n),Array.from(s)}function Yn(e){var n=e.type;return n==="number"||n==="range"}function Gn(e){return e===""?null:+e}function sn(e){return function(...n){var r=n[0];return r.stopPropagation(),e?.apply(this,n)}}function di(e=!1){const n=ne,r=n.l.u;if(!r)return;let s=()=>Ga(n.s);if(e){let o=0,i={};const u=ir(()=>{let v=!1;const l=n.s;for(const c in l)l[c]!==i[c]&&(i[c]=l[c],v=!0);return v&&o++,o});s=()=>t(u)}r.b.length&&Fa(()=>{is(n,s),Qn(r.b)}),er(()=>{const o=p(()=>r.m.map(Ko));return()=>{for(const i of o)typeof i=="function"&&i()}}),r.a.length&&er(()=>{is(n,s),Qn(r.a)})}function is(e,n){if(e.l.s)for(const r of e.l.s)t(r);n()}function on(e,n){var r=e.$$events?.[n.type],s=rr(r)?r.slice():r==null?[]:[r];for(var o of s)o.call(this,n)}function _i(e){ne===null&&Jo(),hn&&ne.l!==null?hi(ne).m.push(e):er(()=>{const n=p(e);if(typeof n=="function")return n})}function hi(e){var n=e.l;return n.u??={a:[],b:[],m:[]}}const pi="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(pi);ga();var mi=S('<div class="demo-intro svelte-1n46o8q"><p class="svelte-1n46o8q">This demo compares how iNaturalist currently handles subspecies identifications versus a proposed alternative approach. Click an example below or enter an observation ID to explore the differences. Click "Tutorial" in the header for detailed instructions. <a href="https://www.inaturalist.org/blog/122781" target="_blank" rel="noopener noreferrer">Read more on our blog</a>.</p> <div class="demo-links svelte-1n46o8q"><a href="/subspecies_identifications_demo/?obs=0&amp;ids=120135%3AA%3A%25F0%259F%2598%2583%3A0%7C27250%3AB%3A%25F0%259F%2599%2583%3A0" class="demo-link svelte-1n46o8q"><img src="/subspecies_identifications_demo/current.jpg" alt="Current" class="svelte-1n46o8q"/></a> <a href="/subspecies_identifications_demo/?obs=0&amp;mode=alternative&amp;ids=120135%3AA%3A%25F0%259F%2598%2583%3A0%7C27250%3AB%3A%25F0%259F%2599%2583%3A0" class="demo-link svelte-1n46o8q"><img src="/subspecies_identifications_demo/alternative.jpg" alt="Alternative" class="svelte-1n46o8q"/></a></div></div>'),gi=S('<div class="error svelte-1n46o8q"> </div>'),bi=S('<form><div class="input-group svelte-1n46o8q"><input id="obs-id" type="text" placeholder="Load an iNat observation by entering the ID, e.g. 47963, or click the Tutorial for more details" class="svelte-1n46o8q"/> <button type="submit" class="svelte-1n46o8q"> </button></div></form> <!>',1),yi=S('<div class="alternative-explanation svelte-1n46o8q">This mode simulates a proposed alternative for handling infraspecies on iNaturalist, where observations do not advance to infraspecies until the community taxon itself reaches the infraspecies rank.</div>'),xi=S('<a target="_blank" rel="noopener noreferrer" class="obs-link svelte-1n46o8q" title="View on iNaturalist">ðŸ”—</a>'),wi=S('<img alt="Observation" class="observation-photo svelte-1n46o8q"/>'),qi=S('<img class="user-icon svelte-1n46o8q"/>'),ki=S('<div class="user-icon-placeholder smiley svelte-1n46o8q"> </div>'),Ei=S('<div class="user-icon-placeholder svelte-1n46o8q"> </div>'),Ti=S('<img class="user-icon svelte-1n46o8q"/>'),Ai=S('<div class="user-icon-placeholder smiley svelte-1n46o8q"> </div>'),Ci=S('<div class="user-icon-placeholder svelte-1n46o8q"> </div>'),Di=S('<button><!> <span class="user-login svelte-1n46o8q"> </span></button>'),Si=S('<div class="observer-dropdown svelte-1n46o8q"></div>'),Ii=S('<div class="observer-chooser svelte-1n46o8q"><button class="observer-selector svelte-1n46o8q"><div class="user-info svelte-1n46o8q"><!> <span class="user-login svelte-1n46o8q"> </span> <span class="dropdown-arrow svelte-1n46o8q">â–¼</span></div></button> <!></div>'),Oi=S('<img class="user-icon svelte-1n46o8q"/>'),Ni=S('<div class="user-icon-placeholder smiley svelte-1n46o8q"> </div>'),Ri=S('<div class="user-icon-placeholder svelte-1n46o8q"> </div>'),Mi=S('<div class="user-info svelte-1n46o8q"><!> <span class="user-login svelte-1n46o8q"> </span></div>'),Pi=S('<div class="user-opted-out-message svelte-1n46o8q">User has opted-out of Community Taxon</div>'),Fi=S('<img class="community-taxon-icon svelte-1n46o8q"/>'),Li=S('<div class="community-taxon-info svelte-1n46o8q"><!> <span class="community-taxon-name svelte-1n46o8q"> </span></div> <div class="cumulative-ids svelte-1n46o8q"><!></div>',1),ji=S('<div class="community-taxon-message svelte-1n46o8q">The Community ID requires at least two identifications.</div>'),$i=S('<img class="user-icon svelte-1n46o8q"/>'),Ui=S('<div class="user-icon-placeholder smiley svelte-1n46o8q"> </div>'),Vi=S('<div class="user-icon-placeholder svelte-1n46o8q"> </div>'),Bi=S('<img class="taxon-photo svelte-1n46o8q"/>'),zi=S('<div class="disagreement svelte-1n46o8q"> </div>'),Hi=S('<button class="remove-id-btn svelte-1n46o8q">Ã—</button>'),Wi=S('<div><div class="id-user svelte-1n46o8q"><!> <span class="user-login svelte-1n46o8q"> </span></div> <div class="id-taxon svelte-1n46o8q"><!> <div class="taxon-info svelte-1n46o8q"><span class="taxon-name svelte-1n46o8q"> </span> <!></div></div> <!></div>'),Yi=S('<img class="taxon-result-photo svelte-1n46o8q"/>'),Gi=S('<div class="taxon-result svelte-1n46o8q"><!> <div class="taxon-result-info svelte-1n46o8q"><div class="taxon-result-name svelte-1n46o8q"> </div></div></div>'),Ki=S('<div class="taxon-dropdown svelte-1n46o8q"></div>'),Qi=S('<button class="vote-count svelte-1n46o8q"> </button>'),Zi=S('<span class="vote-count-zero svelte-1n46o8q">(0)</span>'),Ji=S('<button class="vote-count svelte-1n46o8q"> </button>'),Xi=S('<span class="vote-count-zero svelte-1n46o8q">(0)</span>'),el=S('<div class="error svelte-1n46o8q"> </div>'),tl=S(`<!> <div class="results svelte-1n46o8q"><div class="taxon-quality-row svelte-1n46o8q"><span class="taxon-name-display svelte-1n46o8q"> </span> <div class="quality-grade-container svelte-1n46o8q"><span> </span> <!></div></div> <div class="obs-content svelte-1n46o8q"><div class="photo-column svelte-1n46o8q"><!></div> <div class="info-column svelte-1n46o8q"><div class="detail svelte-1n46o8q"><strong class="svelte-1n46o8q">Observed:</strong> </div> <div class="detail user-detail svelte-1n46o8q"><strong class="svelte-1n46o8q">Observer:</strong> <div class="user-info-container svelte-1n46o8q"><!></div></div> <div class="community-taxon-section svelte-1n46o8q"><div class="community-taxon-label svelte-1n46o8q"><strong class="svelte-1n46o8q">Community Taxon:</strong> <button>what's this?</button></div> <!> <div class="community-taxon-box svelte-1n46o8q"><!></div></div></div></div> <div class="identifications-section svelte-1n46o8q"><h3 class="svelte-1n46o8q">Identification activity</h3> <!> <div class="add-id-form svelte-1n46o8q"><h4 class="svelte-1n46o8q">Add your identification</h4> <div class="taxon-search svelte-1n46o8q"><input type="text" placeholder="Search for a taxon..." class="taxon-input svelte-1n46o8q"/> <!></div> <button type="button" class="submit-id-btn svelte-1n46o8q">Add Identification</button></div> <div><div class="needs-id-votes-label svelte-1n46o8q">Based on the evidence, can the Community Taxon be improved?<br/> <!></div> <div class="needs-id-votes-row svelte-1n46o8q"><div class="vote-option svelte-1n46o8q"><button class="vote-checkmark svelte-1n46o8q" title="Vote Yes">âœ“</button> <span class="vote-label svelte-1n46o8q">Yes</span> <!></div> <div class="vote-option svelte-1n46o8q"><button class="vote-checkmark svelte-1n46o8q" title="Vote No">âœ“</button> <span class="vote-label svelte-1n46o8q">No, it's as good as it can be</span> <!></div></div></div></div></div> <form class="bottom-form svelte-1n46o8q"><div class="input-group svelte-1n46o8q"><input id="obs-id-bottom" type="text" placeholder="Load an iNat observation by entering the ID, e.g. 47963, or click the Tutorial for more details" class="svelte-1n46o8q"/> <button type="submit" class="svelte-1n46o8q"> </button></div></form> <!>`,1),nl=S('<tr><td class="svelte-1n46o8q"><!></td><td class="svelte-1n46o8q"> </td><td class="svelte-1n46o8q"> </td><td class="svelte-1n46o8q"> </td><td class="svelte-1n46o8q"> </td><td class="svelte-1n46o8q"> </td></tr>'),rl=S('<div class="modal-overlay svelte-1n46o8q"><div class="modal-content svelte-1n46o8q"><div class="modal-header svelte-1n46o8q"><h2 class="svelte-1n46o8q">Algorithm Summary</h2> <button class="modal-close svelte-1n46o8q">Ã—</button></div> <div class="modal-body svelte-1n46o8q"><table class="algorithm-table svelte-1n46o8q"><thead><tr><th class="svelte-1n46o8q">Taxon</th><th class="svelte-1n46o8q">Identification Count</th><th class="svelte-1n46o8q">Cumulative Count</th><th class="svelte-1n46o8q">Disagreement Count</th><th class="svelte-1n46o8q">Ancestor Disagreements</th><th class="svelte-1n46o8q">Score</th></tr></thead><tbody class="svelte-1n46o8q"></tbody></table></div></div></div>'),sl=S('<div class="modal-overlay svelte-1n46o8q"><div class="modal-content disagreement-modal svelte-1n46o8q"><div class="modal-header svelte-1n46o8q"><h2 class="svelte-1n46o8q">Potential Disagreement</h2> <button class="modal-close svelte-1n46o8q">Ã—</button></div> <div class="modal-body svelte-1n46o8q"><p class="disagreement-question svelte-1n46o8q"> </p> <div class="disagreement-options svelte-1n46o8q"><button class="disagreement-btn btn-yes svelte-1n46o8q"> </button> <button class="disagreement-btn btn-no svelte-1n46o8q"> </button></div></div></div></div>'),ol=S('<img class="voter-icon svelte-1n46o8q"/>'),al=S('<div class="voter-icon-placeholder smiley svelte-1n46o8q"> </div>'),il=S('<div class="voter-icon-placeholder svelte-1n46o8q"> </div>'),ll=S('<button class="remove-vote-btn svelte-1n46o8q">Ã—</button>'),ul=S('<li class="voter-item svelte-1n46o8q"><!> <span class="voter-login svelte-1n46o8q"> </span> <!></li>'),fl=S('<div class="modal-overlay svelte-1n46o8q"><div class="modal-content votes-modal svelte-1n46o8q"><div class="modal-header svelte-1n46o8q"><h2 class="svelte-1n46o8q"> </h2> <button class="modal-close svelte-1n46o8q">Ã—</button></div> <div class="modal-body svelte-1n46o8q"><ul class="voters-list svelte-1n46o8q"></ul></div></div></div>'),cl=S('<div class="modal-overlay svelte-1n46o8q"><div class="modal-content survey-modal svelte-1n46o8q"><div class="modal-header svelte-1n46o8q"><h2 class="svelte-1n46o8q">Vote on your preference</h2> <button class="modal-close svelte-1n46o8q">Ã—</button></div> <div class="modal-body survey-body svelte-1n46o8q"><div data-tf-live="we8cmOvB" class="svelte-1n46o8q"></div></div></div></div>'),vl=S(`<div class="modal-overlay svelte-1n46o8q"><div class="modal-content tutorial-modal svelte-1n46o8q"><div class="modal-header svelte-1n46o8q"><h2 class="svelte-1n46o8q">How to Use This Demo</h2> <button class="modal-close svelte-1n46o8q">Ã—</button></div> <div class="modal-body tutorial-body svelte-1n46o8q"><h3 class="svelte-1n46o8q">Getting Started</h3> <ol class="svelte-1n46o8q"><li class="svelte-1n46o8q"><strong>Load an observation</strong> by entering an iNaturalist observation ID (e.g., 47963 which you find in an observation URL, e.g. <a href="https://www.inaturalist.org/observations/47963" target="_blank" rel="noopener noreferrer" class="svelte-1n46o8q">https://www.inaturalist.org/observations/47963</a>) in the input field and clicking "Fetch Observation" <ul class="svelte-1n46o8q"><li class="svelte-1n46o8q">Or use <code class="svelte-1n46o8q">0</code> for a blank unknown observation</li> <li class="svelte-1n46o8q">Or use <code class="svelte-1n46o8q">-1</code> for a blank observation with an observer who has opted-out of the community taxon</li> <li class="svelte-1n46o8q">Or click on one of the example images to see a pre-configured scenario</li></ul></li></ol> <h3 class="svelte-1n46o8q">Exploring the Demo</h3> <ol start="2" class="svelte-1n46o8q"><li class="svelte-1n46o8q"><strong>Toggle between modes</strong> using the "Current" and "Alternative" radio buttons in the upper right to see how each approach handles subspecies identifications</li> <li class="svelte-1n46o8q"><strong>Add identifications</strong> by: <ul class="svelte-1n46o8q"><li class="svelte-1n46o8q">Scrolling to the "Add your identification" section</li> <li class="svelte-1n46o8q">Searching for a taxon by typing in the search box</li> <li class="svelte-1n46o8q">Selecting a taxon from the dropdown</li> <li class="svelte-1n46o8q">Clicking "Add Identification"</li></ul></li> <li class="svelte-1n46o8q"><strong>View the algorithm</strong> by clicking "what's this?" next to "Community Taxon" to see how the community taxon is calculated</li> <li class="svelte-1n46o8q"><strong>Add votes</strong> on whether the Community Taxon can be improved by clicking the checkmarks next to "Yes" or "No, it's as good as it can be"</li> <li class="svelte-1n46o8q"><strong>Vote on your preference</strong> between Current and Alternative modes by clicking the "Vote on your preference" button in the upper right</li> <li class="svelte-1n46o8q"><strong>Reset the demo</strong> at any time by clicking on the title "iNaturalist Subspecies Identifications Demo"</li></ol> <h3 class="svelte-1n46o8q">Understanding the Display</h3> <ul class="svelte-1n46o8q"><li class="svelte-1n46o8q">Watch how the <strong>observation label</strong> (shown at the top) changes as you add identifications</li> <li class="svelte-1n46o8q">The <strong>quality grade</strong> badge shows whether the observation is Research Grade, Needs ID, or Casual</li> <li class="svelte-1n46o8q">The <strong>Community Taxon</strong> box shows the calculated consensus identification</li> <li class="svelte-1n46o8q">Demo identifications and votes have an "Ã—" button to remove them</li></ul></div></div></div>`),dl=S('<main class="svelte-1n46o8q"><div class="header-container svelte-1n46o8q"><h1 class="clickable-title svelte-1n46o8q"><img src="https://static.inaturalist.org/wiki_page_attachments/3154-original.png" alt="iNaturalist logo" class="title-logo svelte-1n46o8q"/> iNaturalist Subspecies Identifications Demo</h1> <div class="header-disclaimer svelte-1n46o8q"><div class="disclaimer-line svelte-1n46o8q">This demo does not write anything back to iNat.</div> <div class="disclaimer-line svelte-1n46o8q"><strong>No data will change on iNat via its use.</strong></div></div> <div class="header-controls svelte-1n46o8q"><button class="tutorial-btn svelte-1n46o8q">Tutorial</button> <div class="mode-toggle svelte-1n46o8q"><span class="mode-label svelte-1n46o8q">Mode:</span> <label class="mode-option svelte-1n46o8q"><input type="radio" name="mode" class="svelte-1n46o8q"/> <span class="svelte-1n46o8q">Current</span></label> <label class="mode-option svelte-1n46o8q"><input type="radio" name="mode" class="svelte-1n46o8q"/> <span class="svelte-1n46o8q">Alternative</span></label></div> <button class="survey-btn svelte-1n46o8q">Vote on your preference</button></div></div> <!> <!> <!> <!> <!> <!> <!> <!> <footer class="demo-footer svelte-1n46o8q"><p class="svelte-1n46o8q">This is a temporary demo built quickly using <a href="https://code.claude.com/docs/en/overview" target="_blank" rel="noopener noreferrer" class="svelte-1n46o8q">Claude Code</a>, it does not adhere to the engineering standards of the iNaturalist <a href="https://www.inaturalist.org/" target="_blank" rel="noopener noreferrer" class="svelte-1n46o8q">platform</a> or <a href="https://github.com/inaturalist" target="_blank" rel="noopener noreferrer" class="svelte-1n46o8q">codebase</a>. The demo will be live only for as long as it takes to come to a path forward. Once we deploy and QA an update to the main site, we will retire this demo.</p> <p class="footer-links svelte-1n46o8q"><a href="https://github.com/inaturalist/inaturalist.github.io/blob/main/subspecies_identifications_demo/README.md" target="_blank" rel="noopener noreferrer" class="svelte-1n46o8q">Source</a> <span class="separator svelte-1n46o8q">â€¢</span> <span>Last updated: January 8, 2026</span></p></footer></main>');function _l(e,n){ps(n,!1);const r=V(),s=V(),o=V(),i=V(),u=V(),v=V(),l=V(),c=V(),g=V(),C=V(),q=[];let x=V(""),a=V(null),J=V(!1),E=V(""),F=V(""),fe=V([]),re=V(null),de=V(!1),z=V([]),Ne=V(!1),_e=0,se=V(!1),$=V(null),Ce=V(!1),bt=V(null),Kt=0,pe=V([]),xe=V("current"),Rt=V(!1),yt=V(!1),Qt=V(!1),bn=V(!1),Mt=V(null),yn=V(0),xn=V(null);const vr=["ðŸ˜Š","ðŸ™‚","ðŸ˜Ž","ðŸ¤“","ðŸ˜€","ðŸ¤—","ðŸ˜ƒ","ðŸ˜„","ðŸ™ƒ","ðŸ˜","ðŸ˜º","ðŸ±","ðŸ¦Š","ðŸ¶","ðŸ¼","ðŸ¨","ðŸ¦","ðŸ¯","ðŸ¸","ðŸ"];function Zt(){return vr[Math.floor(Math.random()*vr.length)]}function Ys(){if(!t(a)||t(a).id!==0&&t(a).id!==-1||t(z).length===0&&t(pe).length===0&&t(xe)==="current")return;const f=new URLSearchParams;if(f.set("obs",t(a).id.toString()),t(xe)!=="current"&&f.set("mode",t(xe)),t(z).length>0){const b=t(z).map(A=>{const D=A.user.login.replace("Person",""),L=A.user.emoji||"",H=A.disagreement?"1":"0";return`${A.taxon.id}:${D}:${encodeURIComponent(L)}:${H}`}).join("|");f.set("ids",b)}if(t(pe).length>0){const b=t(pe).map(A=>{const D=A.user.login.replace("User",""),L=A.user.emoji||"";return`${A.vote_flag?"1":"0"}:${D}:${encodeURIComponent(L)}`}).join("|");f.set("votes",b)}const _=`${window.location.pathname}?${f.toString()}`;window.history.replaceState({},"",_)}async function Gs(){const f=new URLSearchParams(window.location.search),_=f.get("obs");if(!_)return;d(x,_),f.get("mode")==="alternative"&&d(xe,"alternative"),await dr(),d(x,"");const A=f.get("ids");if(A&&t(a)){const L=A.split("|");for(const H of L){const[oe,Q,y,m]=H.split(":");try{const j=await(await fetch(`https://api.inaturalist.org/v1/taxa/${oe}`)).json();if(j.results&&j.results.length>0){const le=j.results[0],ce=decodeURIComponent(y),Re={id:`demo-${Date.now()}-${Math.random()}`,user:{id:Q==="0"?-1:-Q.charCodeAt(0),login:`Person${Q}`,icon:null,emoji:ce},taxon:le,current:!0,created_at:new Date().toISOString(),disagreement:m==="1",previous_observation_taxon:m==="1"?t(a).taxon:null};d(z,[...t(z),Re]),_e++,await new Promise(Y=>setTimeout(Y,10))}}catch(O){console.error(`Failed to load taxon ${oe}:`,O)}}}const D=f.get("votes");if(D&&t(a)){const L=D.split("|");for(const H of L){const[oe,Q,y]=H.split(":"),m=decodeURIComponent(y),O={id:`demo-vote-${Date.now()}-${Math.random()}`,user:{login:`User${Q}`,icon:null,emoji:m},vote_scope:"needs_id",vote_flag:oe==="1",created_at:new Date().toISOString()};d(pe,[...t(pe),O]),Kt++,await new Promise(j=>setTimeout(j,10))}}}_i(()=>{Gs();const f=document.createElement("script");f.src="https://embed.typeform.com/next/embed.js",f.async=!0,document.head.appendChild(f)});function Ks(){d(x,""),d(a,null),d(J,!1),d(E,""),d(F,""),d(fe,[]),d(re,null),d(de,!1),d(z,[]),d(Ne,!1),_e=0,d(se,!1),d($,null),d(Ce,!1),d(bt,null),Kt=0,d(pe,[]),d(xe,"current"),d(Rt,!1),d(yt,!1),d(Qt,!1),window.history.replaceState({},"",window.location.pathname)}async function dr(){if(!t(x).trim()){d(E,"Please enter an observation ID");return}d(J,!0),d(E,""),d(a,null),d(z,[]),_e=0,d(pe,[]),Kt=0;try{if(t(x)==="0"){d(a,{id:0,uuid:"00000000-0000-0000-0000-000000000000",species_guess:null,taxon:null,quality_grade:"needs_id",identifications:[],votes:[],observed_on:"2026-01-01",observed_on_details:{year:2026,month:1,day:1},time_observed_at:null,observed_time_zone:null,created_at:new Date().toISOString(),created_at_details:{year:new Date().getFullYear(),month:new Date().getMonth()+1,day:new Date().getDate()},created_time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone,user:{id:0,login:"Person0",icon:null,emoji:Zt(),preferences:{prefers_community_taxa:!0}},observation_photos:[{photo:{url:"https://inaturalist-open-data.s3.amazonaws.com/photos/77105/medium.jpg"}}],sounds:[],obscured:!1,private_geojson:null}),d(J,!1);return}if(t(x)==="-1"){d(a,{id:-1,uuid:"00000000-0000-0000-0000-000000000001",species_guess:null,taxon:null,quality_grade:"needs_id",identifications:[],votes:[],observed_on:"2026-01-01",observed_on_details:{year:2026,month:1,day:1},time_observed_at:null,observed_time_zone:null,created_at:new Date().toISOString(),created_at_details:{year:new Date().getFullYear(),month:new Date().getMonth()+1,day:new Date().getDate()},created_time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone,user:{id:-1,login:"Person0",icon:null,emoji:Zt(),preferences:{prefers_community_taxa:!1,prefers_community_taxon:!1}},observation_photos:[{photo:{url:"https://inaturalist-open-data.s3.amazonaws.com/photos/77105/medium.jpg"}}],sounds:[],obscured:!1,private_geojson:null}),d(J,!1);return}const f=await fetch(`https://api.inaturalist.org/v1/observations/${t(x)}`);if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const _=await f.json();_.results&&_.results.length>0?d(a,_.results[0]):d(E,"Observation not found")}catch(f){d(E,`Error fetching observation: ${f.message}`)}finally{d(J,!1)}}function _r(f){f.preventDefault(),t(x),dr(),d(x,"")}function Qs(f){if(!f.taxon)return"No taxon identified";const _=f.taxon.preferred_common_name,b=f.taxon.name;return _&&b?`${_} (${b})`:b||_||"No taxon identified"}function hr(f){return f.observation_photos&&f.observation_photos.length>0?f.observation_photos[0].photo.url:null}function Zs(f){return f==="research"?"Research Grade":f==="needs_id"?"Needs ID":f==="casual"?"Casual":f}function Js(f){if(!f)return"Unknown";const _=f.preferred_common_name,b=f.name;return _&&b?`${_} (${b})`:b||_||"Unknown"}function pr(f){return!f.identifications||f.identifications.length===0?[]:[...f.identifications].sort((_,b)=>new Date(_.created_at).getTime()-new Date(b.created_at).getTime())}function mr(f){return f.taxon&&f.taxon.default_photo&&f.taxon.default_photo.url?f.taxon.default_photo.url:null}async function Xs(){if(t(F).length<2){d(fe,[]),d(de,!1);return}try{const _=await(await fetch(`https://api.inaturalist.org/v1/taxa/autocomplete?q=${encodeURIComponent(t(F))}`)).json();d(fe,_.results||[]),d(de,!0)}catch(f){console.error("Error searching taxa:",f),d(fe,[])}}async function eo(f){try{const b=await(await fetch(`https://api.inaturalist.org/v1/taxa/${f.id}`)).json();b.results&&b.results.length>0?d(re,b.results[0]):d(re,f)}catch(_){console.error("Error fetching full taxon:",_),d(re,f)}d(F,f.name),d(de,!1)}function to(){if(!t(re)||!t(a))return;const f=String.fromCharCode(65+_e),_=Zt();let b=!1,A=null,D=!1;if(t(a).taxon)if(t(re).id===t(a).taxon.id)D=!1,b=!1;else{const H=t(re).ancestor_ids||[],Q=(t(a).taxon.ancestor_ids||[]).includes(t(re).id),y=H.includes(t(a).taxon.id);Q?D=!0:y||(b=!0,A=t(a).taxon)}const L={id:`demo-${Date.now()}`,user:{id:-f.charCodeAt(0),login:`Person${f}`,icon:null,emoji:_},taxon:t(re),current:!0,created_at:new Date().toISOString(),disagreement:b,previous_observation_taxon:A};D?(d($,L),d(se,!0)):(d(z,[...t(z),L]),_e++,d(F,""),d(re,null),d(fe,[]))}function gr(f){t($)&&(f&&t(a).taxon?(W($,t($).disagreement=!0),W($,t($).previous_observation_taxon=t(a).taxon)):(W($,t($).disagreement=!1),W($,t($).previous_observation_taxon=null)),d(z,[...t(z),t($)]),_e++,d(se,!1),d($,null),d(F,""),d(re,null),d(fe,[]))}function no(f){d(z,t(z).filter(_=>_.id!==f))}function br(f){return[...pr(f),...t(z)]}function yr(f){d(bt,f),d(Ce,!0)}function xr(f){if(!t(a))return;const _=String.fromCharCode(65+Kt),b=Zt(),A={id:`demo-vote-${Date.now()}`,user:{login:`User${_}`,icon:null,emoji:b},vote_scope:"needs_id",vote_flag:f,created_at:new Date().toISOString()};d(pe,[...t(pe),A]),Kt++}function ro(f){d(pe,t(pe).filter(_=>_.id!==f))}function so(f){if(!t(a))return;const _={...f,preferences:{prefers_community_taxa:!1,prefers_community_taxon:!1}};W(a,t(a).user=_),d(Rt,!1),d(a,t(a))}function oo(){if(!t(a))return;const f=br(t(a)).filter(_=>_.current!==!1);if(t(u)){const _=f.find(b=>b.user.login===t(a).user.login||b.user.id===t(a).user.id);_?W(a,t(a).taxon=_.taxon):W(a,t(a).taxon=null);return}if(f.length===0){W(a,t(a).taxon=null);return}if(f.length===1){if(t(xe)==="alternative"){const _=f[0].taxon;if(_&&_.rank_level&&_.rank_level<10){const b=_.ancestors?.find(A=>A.rank_level===10);W(a,t(a).taxon=b||_)}else W(a,t(a).taxon=_)}else W(a,t(a).taxon=f[0].taxon);return}if(f.length>=2)if(t(o))if(f.some(b=>b.disagreement===!0)){W(a,t(a).taxon=t(o));return}else{const b=f.filter(A=>A.taxon?A.taxon.id===t(o).id||A.taxon.ancestor_ids&&A.taxon.ancestor_ids.includes(t(o).id):!1);if(b.length>0){const D=b.reduce((L,H)=>{const oe=L.taxon?.rank_level||1/0;return(H.taxon?.rank_level||1/0)<oe?H:L}).taxon;if(t(xe)==="alternative")if(D&&D.rank_level&&D.rank_level<10&&t(o).rank_level&&t(o).rank_level>=10){const L=D.ancestors?.find(H=>H.rank_level===10);W(a,t(a).taxon=L||t(o))}else W(a,t(a).taxon=D);else if(D&&D.rank_level&&D.rank_level<10&&D.ancestor_ids&&D.ancestor_ids.includes(t(o).id)){const H=f.filter(y=>y.taxon?.id===D.id).sort((y,m)=>{const O=new Date(y.created_at).getTime(),j=new Date(m.created_at).getTime();return O!==j?O-j:(y.id||"").localeCompare(m.id||"")})[0],Q=f.filter(y=>y.taxon?.id===t(o).id).sort((y,m)=>{const O=new Date(y.created_at).getTime(),j=new Date(m.created_at).getTime();return O!==j?O-j:(y.id||"").localeCompare(m.id||"")})[0];if(H&&Q){const y=new Date(H.created_at).getTime(),m=new Date(Q.created_at).getTime();if(y<m)W(a,t(a).taxon=D);else if(y>m){const O=D.ancestors?.find(j=>j.rank_level===10);O?W(a,t(a).taxon=O):W(a,t(a).taxon=t(o))}else W(a,t(a).taxon=t(o))}else W(a,t(a).taxon=D)}else W(a,t(a).taxon=D);return}W(a,t(a).taxon=t(o))}else{const _=f.filter(b=>!b.disagreement);if(_.length>0){const b=_.reduce((A,D)=>{const L=A.taxon?.rank_level||1/0;return(D.taxon?.rank_level||1/0)<L?D:A});W(a,t(a).taxon=b.taxon)}}}function ao(){if(t(a)){if(t(u)&&t(a).taxon){if(t(a).taxon.rank_level&&t(a).taxon.rank_level>10)W(a,t(a).quality_grade="needs_id");else if(t(o)){const f=t(a).taxon.id===t(o).id,_=t(o).ancestor_ids&&t(o).ancestor_ids.includes(t(a).taxon.id),b=t(a).taxon.ancestor_ids&&t(a).taxon.ancestor_ids.includes(t(o).id);!f&&!_&&!b&&W(a,t(a).quality_grade="casual")}}else if(t(o)){const f=t(o).rank_level&&t(o).rank_level<=10,_=t(a).taxon&&t(a).taxon.rank_level&&t(o).rank_level&&t(a).taxon.rank_level<t(o).rank_level;f&&!_?W(a,t(a).quality_grade="research"):W(a,t(a).quality_grade="needs_id")}else W(a,t(a).quality_grade="needs_id");t(g).length>t(c).length&&t(a).quality_grade==="needs_id"&&(t(a).taxon&&t(o)&&t(a).taxon.id===t(o).id&&t(a).taxon.rank_level&&t(a).taxon.rank_level<30?W(a,t(a).quality_grade="research"):W(a,t(a).quality_grade="casual")),t(c).length>t(g).length&&t(a).quality_grade==="research"&&W(a,t(a).quality_grade="needs_id")}}function io(f){const _=br(f).filter(m=>m.current!==!1),b=new Map;_.forEach(m=>{m.taxon&&(b.has(m.taxon.id)||b.set(m.taxon.id,m.taxon),m.taxon.ancestors&&m.taxon.ancestors.forEach(O=>{b.has(O.id)||b.set(O.id,O)}))});const A={id:48460,name:"Life",rank:"stateofmatter",rank_level:100,preferred_common_name:null,ancestor_ids:[]};b.has(A.id)||b.set(A.id,A);const D=new Map;b.forEach(m=>{D.set(m.id,[])}),b.forEach(m=>{if(m.ancestor_ids&&m.ancestor_ids.length>0){let O=null,j=1/0;m.ancestor_ids.forEach(le=>{const ce=b.get(le);ce&&(ce.rank_level||0)>(m.rank_level||0)&&(ce.rank_level||0)<j&&(j=ce.rank_level||0,O=le)}),O&&D.has(O)?D.get(O).push(m):D.get(A.id).push(m)}else m.id!==A.id&&D.get(A.id).push(m)});function L(m){return _.filter(O=>O.taxon?O.taxon.id===m.id||O.taxon.ancestor_ids&&O.taxon.ancestor_ids.includes(m.id):!1).length}const H=[];function oe(m){H.push(m);const O=D.get(m.id)||[];O.sort((j,le)=>{const ce=(le.rank_level||0)-(j.rank_level||0);if(ce!==0)return ce;const Re=L(le)-L(j);return Re!==0?Re:(j.name||"").localeCompare(le.name||"")}),O.forEach(j=>oe(j))}oe(A);const Q=H.map(m=>{const O=_.filter(Y=>Y.taxon?.id===m.id),j=_.filter(Y=>Y.taxon?Y.taxon.id===m.id||Y.taxon.ancestor_ids&&Y.taxon.ancestor_ids.includes(m.id):!1),le=_.filter(Y=>!(!Y.taxon||Y.taxon.id===m.id||Y.taxon.ancestor_ids&&Y.taxon.ancestor_ids.includes(m.id)||m.ancestor_ids&&m.ancestor_ids.includes(Y.taxon.id))),ce=_.filter(Y=>{if(!Y.taxon||!Y.disagreement||!Y.previous_observation_taxon)return!1;const nt=Y.previous_observation_taxon;if(!nt.ancestor_ids||!nt.ancestor_ids.includes(Y.taxon.id))return!1;const rt=nt.ancestor_ids.filter(ue=>!(Y.taxon.ancestor_ids||[]).includes(ue)&&ue!==Y.taxon.id);return[m.id,...m.ancestor_ids||[]].some(ue=>rt.includes(ue))}),Re=j.length/(j.length+le.length+ce.length);return{taxon:m,identificationCount:O.length,cumulativeCount:j.length,disagreementCount:le.length,ancestorDisagreements:ce.length,score:Re,totalIds:_.length}});let y=-1;if(_.length>=2){for(let m=Q.length-1;m>=0;m--)if(Q[m].score>2/3&&Q[m].cumulativeCount>=2){y=m;break}}return Q.map((m,O)=>({...m,isCommunityTaxon:O===y}))}we(()=>t(yt),()=>{if(t(yt)&&typeof window<"u"){const f=()=>{const _=window.tf;if(_&&_.createWidget){const b=document.querySelector('[data-tf-live="we8cmOvB"]');if(b){if(b.querySelector("iframe"))return;b.innerHTML="";try{_.createWidget("we8cmOvB",{container:b,height:700,width:"100%",opacity:100,hidden:{},onReady:()=>console.log("Typeform ready"),onSubmit:()=>console.log("Typeform submitted")})}catch(A){console.error("Error creating Typeform widget:",A)}}}else setTimeout(f,200)};setTimeout(f,100)}}),we(()=>(t(a),t(z)),()=>{d(r,t(a)?[...pr(t(a)),...t(z)]:[])}),we(()=>(t(a),t(z)),()=>{d(s,t(a)&&t(z)!==void 0?io(t(a)):[])}),we(()=>t(s),()=>{d(o,t(s).find(f=>f.isCommunityTaxon)?.taxon||null)}),we(()=>t(s),()=>{d(i,t(s).find(f=>f.isCommunityTaxon)||null)}),we(()=>t(a),()=>{d(u,t(a)?t(a).user?.preferences?.prefers_community_taxa===!1&&t(a).user?.preferences?.prefers_community_taxon!==!0||t(a).user?.preferences?.prefers_community_taxon===!1:!1)}),we(()=>(t(o),t(xn)),()=>{const f=t(o)?.id||null;t(xn)!==null&&f!==t(xn)&&d(pe,[]),d(xn,f)}),we(()=>(t(a),t(pe)),()=>{d(v,t(a)?.votes?[...t(a).votes,...t(pe)]:[...t(pe)])}),we(()=>t(v),()=>{d(l,t(v).filter(f=>f.vote_scope==="needs_id"))}),we(()=>t(l),()=>{d(c,t(l).filter(f=>f.vote_flag===!0))}),we(()=>t(l),()=>{d(g,t(l).filter(f=>f.vote_flag===!1))}),we(()=>(t(a),t(r),t(o),t(u),t(c),t(g),t(xe),t(yn)),()=>{t(a)&&t(a).user&&t(r)!==void 0&&t(o)!==void 0&&t(u)!==void 0&&t(c)!==void 0&&t(g)!==void 0&&t(xe)!==void 0&&(oo(),ao(),Ia(yn))}),we(()=>(t(yn),t(a),t(r),t(o)),()=>{t(yn),t(a)?t(r).some(_=>_.disagreement===!0)&&t(o)?d(Mt,t(o)):d(Mt,t(a).taxon):d(Mt,null)}),we(()=>(t(c),t(g),t(a),t(o),t(Mt),t(u)),()=>{d(bn,t(c).length>0||t(g).length>0?!1:t(a)&&t(a).taxon&&t(o)&&t(Mt)?t(o).id!==t(Mt).id&&!t(u):!t(o))}),we(()=>(t(a),t(z)),()=>{d(C,t(a)&&t(a).id===-1?(()=>{const _=[{id:-1,login:"Person0",icon:null,emoji:t(a).user.emoji||Zt(),preferences:{prefers_community_taxa:!1,prefers_community_taxon:!1}}];return t(z).forEach(b=>{b.user.login.startsWith("Person")&&b.user.login!=="Person0"&&!_.find(A=>A.login===b.user.login)&&_.push(b.user)}),_})():[])}),we(()=>(t(a),t(z),t(pe),t(xe)),()=>{t(a)&&(t(z).length>0||t(pe).length>0||t(xe)!=="current")&&Ys()}),ja(),di();var wr=dl(),qr=h(wr),kr=h(qr),lo=w(kr,4),Er=h(lo),Tr=w(Er,2),Ar=w(h(Tr),2),Rn=h(Ar);Rn.value=Rn.__value="current";var uo=w(Ar,2),Mn=h(uo);Mn.value=Mn.__value="alternative";var fo=w(Tr,2),Cr=w(qr,2);{var co=f=>{var _=mi();T(f,_)};P(Cr,f=>{t(a)||f(co)})}var Dr=w(Cr,2);{var vo=f=>{var _=bi(),b=at(_),A=h(b),D=h(A),L=w(D,2),H=h(L),oe=w(b,2);{var Q=y=>{var m=gi(),O=h(m);R(()=>M(O,t(E))),T(y,m)};P(oe,y=>{t(E)&&y(Q)})}R(()=>{L.disabled=t(J),M(H,t(J)?"Loading...":"Fetch Observation")}),Hn(D,()=>t(x),y=>d(x,y)),U("submit",b,_r),T(f,_)};P(Dr,f=>{t(a)||f(vo)})}var Sr=w(Dr,2);{var _o=f=>{var _=tl(),b=at(_);{var A=k=>{var I=yi();T(k,I)};P(b,k=>{t(xe)==="alternative"&&k(A)})}var D=w(b,2),L=h(D),H=h(L),oe=h(H),Q=w(H,2),y=h(Q),m=h(y),O=w(y,2);{var j=k=>{var I=xi();R(()=>he(I,"href",`https://www.inaturalist.org/observations/${t(a),p(()=>t(a).id)??""}`)),T(k,I)};P(O,k=>{t(a),p(()=>t(a).id&&t(a).id>0)&&k(j)})}var le=w(L,2),ce=h(le),Re=h(ce);{var Y=k=>{var I=wi();R(ae=>he(I,"src",ae),[()=>(t(a),p(()=>hr(t(a)).replace("square","medium")))]),T(k,I)};P(Re,k=>{t(a),p(()=>hr(t(a)))&&k(Y)})}var nt=w(ce,2),rt=h(nt),ke=w(h(rt)),ue=w(rt,2),Jt=w(h(ue),2),Pt=h(Jt);{var Xt=k=>{var I=Ii(),ae=h(I),ie=h(ae),N=h(ie);{var Le=X=>{var ve=qi();R(()=>{he(ve,"src",(t(a),p(()=>t(a).user.icon))),he(ve,"alt",(t(a),p(()=>t(a).user.login)))}),T(X,ve)},Qe=X=>{var ve=Ft(),je=at(ve);{var ee=$e=>{var Je=ki(),xt=h(Je);R(()=>M(xt,(t(a),p(()=>t(a).user.emoji)))),T($e,Je)},Ze=$e=>{var Je=Ei(),xt=h(Je);R(en=>M(xt,en),[()=>(t(a),p(()=>t(a).user.login.charAt(0).toUpperCase()))]),T($e,Je)};P(je,$e=>{t(a),p(()=>t(a).user.emoji)?$e(ee):$e(Ze,!1)})}T(X,ve)};P(N,X=>{t(a),p(()=>t(a).user.icon)?X(Le):X(Qe,!1)})}var Te=w(N,2),De=h(Te),ot=w(ae,2);{var me=X=>{var ve=Si();rn(ve,5,()=>t(C),nn,(je,ee)=>{var Ze=Di();let $e;var Je=h(Ze);{var xt=Z=>{var te=Ti();R(()=>{he(te,"src",(t(ee),p(()=>t(ee).icon))),he(te,"alt",(t(ee),p(()=>t(ee).login)))}),T(Z,te)},en=Z=>{var te=Ft(),wt=at(te);{var Vn=Me=>{var He=Ai(),qt=h(He);R(()=>M(qt,(t(ee),p(()=>t(ee).emoji)))),T(Me,He)},Bn=Me=>{var He=Ci(),qt=h(He);R(zn=>M(qt,zn),[()=>(t(ee),p(()=>t(ee).login.charAt(0).toUpperCase()))]),T(Me,He)};P(wt,Me=>{t(ee),p(()=>t(ee).emoji)?Me(Vn):Me(Bn,!1)})}T(Z,te)};P(Je,Z=>{t(ee),p(()=>t(ee).icon)?Z(xt):Z(en,!1)})}var $n=w(Je,2),Un=h($n);R(()=>{$e=jt(Ze,1,"observer-option svelte-1n46o8q",null,$e,{selected:t(ee).login===t(a).user.login}),M(Un,(t(ee),p(()=>t(ee).login)))}),U("click",Ze,()=>so(t(ee))),T(je,Ze)}),T(X,ve)};P(ot,X=>{t(Rt),t(C),p(()=>t(Rt)&&t(C).length>0)&&X(me)})}R(()=>M(De,(t(a),p(()=>t(a).user.login)))),U("click",ae,()=>d(Rt,!t(Rt))),T(k,I)},Ge=k=>{var I=Mi(),ae=h(I);{var ie=Te=>{var De=Oi();R(()=>{he(De,"src",(t(a),p(()=>t(a).user.icon))),he(De,"alt",(t(a),p(()=>t(a).user.login)))}),T(Te,De)},N=Te=>{var De=Ft(),ot=at(De);{var me=ve=>{var je=Ni(),ee=h(je);R(()=>M(ee,(t(a),p(()=>t(a).user.emoji)))),T(ve,je)},X=ve=>{var je=Ri(),ee=h(je);R(Ze=>M(ee,Ze),[()=>(t(a),p(()=>t(a).user.login.charAt(0).toUpperCase()))]),T(ve,je)};P(ot,ve=>{t(a),p(()=>t(a).user.emoji)?ve(me):ve(X,!1)})}T(Te,De)};P(ae,Te=>{t(a),p(()=>t(a).user.icon)?Te(ie):Te(N,!1)})}var Le=w(ae,2),Qe=h(Le);R(()=>M(Qe,(t(a),p(()=>t(a).user.login)))),T(k,I)};P(Pt,k=>{t(a),p(()=>t(a).id===-1)?k(Xt):k(Ge,!1)})}var st=w(ue,2),Ee=h(st),Ke=w(h(Ee),2);let Mr;var Pr=w(Ee,2);{var xo=k=>{var I=Pi();T(k,I)};P(Pr,k=>{t(u)&&k(xo)})}var wo=w(Pr,2),qo=h(wo);{var ko=k=>{var I=Li(),ae=at(I),ie=h(ae);{var N=me=>{var X=Fi();R(()=>{he(X,"src",(t(o),p(()=>t(o).default_photo.medium_url))),he(X,"alt",(t(o),p(()=>t(o).name)))}),T(me,X)};P(ie,me=>{t(o),p(()=>t(o).default_photo?.medium_url)&&me(N)})}var Le=w(ie,2),Qe=h(Le),Te=w(ae,2),De=h(Te);{var ot=me=>{var X=tn();R(()=>M(X,`Cumulative IDs: ${t(i),p(()=>t(i).cumulativeCount)??""} of ${t(i),p(()=>t(i).cumulativeCount+t(i).disagreementCount+t(i).ancestorDisagreements)??""}`)),T(me,X)};P(De,me=>{t(i)&&me(ot)})}R(()=>M(Qe,(t(o),p(()=>t(o).preferred_common_name?`${t(o).preferred_common_name} (${t(o).name})`:t(o).name)))),T(k,I)},Eo=k=>{var I=ji();T(k,I)};P(qo,k=>{t(o)?k(ko):k(Eo,!1)})}var To=w(le,2),Fr=w(h(To),2);{var Ao=k=>{var I=Ft(),ae=at(I);rn(ae,1,()=>t(r),nn,(ie,N)=>{var Le=Wi(),Qe=h(Le),Te=h(Qe);{var De=Z=>{var te=$i();R(()=>{he(te,"src",(t(N),p(()=>t(N).user.icon))),he(te,"alt",(t(N),p(()=>t(N).user.login)))}),T(Z,te)},ot=Z=>{var te=Ft(),wt=at(te);{var Vn=Me=>{var He=Ui(),qt=h(He);R(()=>M(qt,(t(N),p(()=>t(N).user.emoji)))),T(Me,He)},Bn=Me=>{var He=Vi(),qt=h(He);R(zn=>M(qt,zn),[()=>(t(N),p(()=>t(N).user.login.charAt(0).toUpperCase()))]),T(Me,He)};P(wt,Me=>{t(N),p(()=>t(N).user.emoji)?Me(Vn):Me(Bn,!1)})}T(Z,te)};P(Te,Z=>{t(N),p(()=>t(N).user.icon)?Z(De):Z(ot,!1)})}var me=w(Te,2),X=h(me),ve=w(Qe,2),je=h(ve);{var ee=Z=>{var te=Bi();R(wt=>{he(te,"src",wt),he(te,"alt",(t(N),p(()=>t(N).taxon?.name||"Taxon")))},[()=>(t(N),p(()=>mr(t(N))))]),T(Z,te)};P(je,Z=>{t(N),p(()=>mr(t(N)))&&Z(ee)})}var Ze=w(je,2),$e=h(Ze),Je=h($e),xt=w($e,2);{var en=Z=>{var te=zi(),wt=h(te);R(()=>M(wt,`Disagrees with ${t(N),p(()=>t(N).previous_observation_taxon.name)??""}`)),T(Z,te)};P(xt,Z=>{t(N),p(()=>t(N).disagreement&&t(N).previous_observation_taxon)&&Z(en)})}var $n=w(ve,2);{var Un=Z=>{var te=Hi();U("click",te,()=>no(t(N).id)),T(Z,te)};P($n,Z=>{t(N),p(()=>t(N).id&&typeof t(N).id=="string"&&t(N).id.startsWith("demo-"))&&Z(Un)})}R(Z=>{jt(Le,1,`identification-item ${t(N),p(()=>t(N).current===!1?"withdrawn":"")??""}`,"svelte-1n46o8q"),M(X,(t(N),p(()=>t(N).user.login))),M(Je,Z)},[()=>(t(N),p(()=>Js(t(N).taxon)))]),T(ie,Le)}),T(k,I)};P(Fr,k=>{t(r),p(()=>t(r).length>0)&&k(Ao)})}var Lr=w(Fr,2),jr=w(h(Lr),2),Pn=h(jr),Co=w(Pn,2);{var Do=k=>{var I=Ki();rn(I,5,()=>t(fe),nn,(ae,ie)=>{var N=Gi(),Le=h(N);{var Qe=me=>{var X=Yi();R(()=>{he(X,"src",(t(ie),p(()=>t(ie).default_photo.square_url))),he(X,"alt",(t(ie),p(()=>t(ie).name)))}),T(me,X)};P(Le,me=>{t(ie),p(()=>t(ie).default_photo?.square_url)&&me(Qe)})}var Te=w(Le,2),De=h(Te),ot=h(De);R(()=>M(ot,(t(ie),p(()=>t(ie).preferred_common_name?`${t(ie).preferred_common_name} (${t(ie).name})`:t(ie).name)))),U("click",N,()=>eo(t(ie))),T(ae,N)}),T(k,I)};P(Co,k=>{t(de),t(fe),p(()=>t(de)&&t(fe).length>0)&&k(Do)})}var $r=w(jr,2),Ur=w(Lr,2);let Vr;var Br=h(Ur),So=w(h(Br),3);{var Io=k=>{var I=tn();R(()=>M(I,`Current Community Taxon: ${t(o),p(()=>t(o).preferred_common_name?`${t(o).preferred_common_name} (${t(o).name})`:t(o).name)??""}`)),T(k,I)},Oo=k=>{var I=tn("Current Community Taxon: None");T(k,I)};P(So,k=>{t(o)?k(Io):k(Oo,!1)})}var No=w(Br,2),zr=h(No),Fn=h(zr),Ro=w(Fn,4);{var Mo=k=>{var I=Qi(),ae=h(I);R(()=>M(ae,`(${t(c),p(()=>t(c).length)??""})`)),U("click",I,()=>yr("yes")),T(k,I)},Po=k=>{var I=Zi();T(k,I)};P(Ro,k=>{t(c),p(()=>t(c).length>0)?k(Mo):k(Po,!1)})}var Fo=w(zr,2),Ln=h(Fo),Lo=w(Ln,4);{var jo=k=>{var I=Ji(),ae=h(I);R(()=>M(ae,`(${t(g),p(()=>t(g).length)??""})`)),U("click",I,()=>yr("no")),T(k,I)},$o=k=>{var I=Xi();T(k,I)};P(Lo,k=>{t(g),p(()=>t(g).length>0)?k(jo):k($o,!1)})}var jn=w(D,2),Uo=h(jn),Hr=h(Uo),Wr=w(Hr,2),Vo=h(Wr),Bo=w(jn,2);{var zo=k=>{var I=el(),ae=h(I);R(()=>M(ae,t(E))),T(k,I)};P(Bo,k=>{t(E)&&k(zo)})}R((k,I)=>{M(oe,k),jt(y,1,`quality-grade ${t(a),p(()=>t(a).quality_grade)??""}`,"svelte-1n46o8q"),M(m,I),M(ke,` ${t(a),p(()=>t(a).observed_on||"No date recorded")??""}`),Mr=jt(Ke,1,"whats-this-link svelte-1n46o8q",null,Mr,{disabled:t(r).length<2}),$r.disabled=!t(re),Vr=jt(Ur,1,"needs-id-votes-section svelte-1n46o8q",null,Vr,{disabled:t(bn)}),Fn.disabled=t(bn),Ln.disabled=t(bn),Wr.disabled=t(J),M(Vo,t(J)?"Loading...":"Fetch Observation")},[()=>(t(a),p(()=>Qs(t(a)))),()=>(t(a),p(()=>Zs(t(a).quality_grade)))]),U("click",Ke,()=>{t(r).length>=2&&d(Ne,!0)}),Hn(Pn,()=>t(F),k=>d(F,k)),U("input",Pn,Xs),U("click",$r,to),U("click",Fn,()=>xr(!0)),U("click",Ln,()=>xr(!1)),Hn(Hr,()=>t(x),k=>d(x,k)),U("submit",jn,_r),T(f,_)};P(Sr,f=>{t(a)&&f(_o)})}var Ir=w(Sr,2);{var ho=f=>{var _=rl(),b=h(_),A=h(b),D=w(h(A),2),L=w(A,2),H=h(L),oe=w(h(H));rn(oe,5,()=>t(s),nn,(Q,y)=>{var m=nl();let O;var j=h(m),le=h(j);{var ce=Ee=>{var Ke=tn();R(()=>M(Ke,`${t(y),p(()=>t(y).taxon.preferred_common_name)??""} ${t(y),p(()=>t(y).taxon.rank)??""} ${t(y),p(()=>t(y).taxon.name)??""}`)),T(Ee,Ke)},Re=Ee=>{var Ke=tn();R(()=>M(Ke,`${t(y),p(()=>t(y).taxon.rank)??""} ${t(y),p(()=>t(y).taxon.name)??""}`)),T(Ee,Ke)};P(le,Ee=>{t(y),p(()=>t(y).taxon.preferred_common_name)?Ee(ce):Ee(Re,!1)})}var Y=w(j),nt=h(Y),rt=w(Y),ke=h(rt),ue=w(rt),Jt=h(ue),Pt=w(ue),Xt=h(Pt),Ge=w(Pt),st=h(Ge);R(Ee=>{O=jt(m,1,"svelte-1n46o8q",null,O,{"community-taxon-row":t(y).isCommunityTaxon}),M(nt,(t(y),p(()=>t(y).identificationCount))),M(ke,(t(y),p(()=>t(y).cumulativeCount))),M(Jt,(t(y),p(()=>t(y).disagreementCount))),M(Xt,(t(y),p(()=>t(y).ancestorDisagreements))),M(st,`${t(y),p(()=>t(y).cumulativeCount)??""} / (${t(y),p(()=>t(y).cumulativeCount)??""}+${t(y),p(()=>t(y).disagreementCount)??""}+${t(y),p(()=>t(y).ancestorDisagreements)??""}=${t(y),p(()=>t(y).cumulativeCount+t(y).disagreementCount+t(y).ancestorDisagreements)??""}) = ${Ee??""}`)},[()=>(t(y),p(()=>t(y).score.toFixed(2)))]),T(Q,m)}),U("click",D,()=>d(Ne,!1)),U("click",b,sn(function(Q){on.call(this,n,Q)})),U("click",_,()=>d(Ne,!1)),T(f,_)};P(Ir,f=>{t(Ne)&&t(a)&&f(ho)})}var Or=w(Ir,2);{var po=f=>{var _=sl(),b=h(_),A=h(b),D=w(h(A),2),L=w(A,2),H=h(L),oe=h(H),Q=w(H,2),y=h(Q),m=h(y),O=w(y,2),j=h(O);R(()=>{M(oe,`Is the evidence provided enough to confirm this is
            ${t(a),p(()=>t(a).taxon.preferred_common_name?`${t(a).taxon.preferred_common_name} (${t(a).taxon.rank} ${t(a).taxon.name})`:`${t(a).taxon.rank} ${t(a).taxon.name}`)??""}?`),M(m,`I don't know but I am sure this is
              ${t($),p(()=>t($).taxon.preferred_common_name?`${t($).taxon.preferred_common_name} (${t($).taxon.rank} ${t($).taxon.name})`:`${t($).taxon.rank} ${t($).taxon.name}`)??""}`),M(j,`No but it is a member of
              ${t($),p(()=>t($).taxon.preferred_common_name?`${t($).taxon.preferred_common_name} (${t($).taxon.rank} ${t($).taxon.name})`:`${t($).taxon.rank} ${t($).taxon.name}`)??""}`)}),U("click",D,()=>{d(se,!1),d($,null)}),U("click",y,()=>gr(!1)),U("click",O,()=>gr(!0)),U("click",b,sn(function(le){on.call(this,n,le)})),U("click",_,()=>{d(se,!1),d($,null)}),T(f,_)};P(Or,f=>{t(se),t($),t(a),p(()=>t(se)&&t($)&&t(a)&&t(a).taxon)&&f(po)})}var Nr=w(Or,2);{var mo=f=>{var _=fl(),b=h(_),A=h(b),D=h(A),L=h(D),H=w(D,2),oe=w(A,2),Q=h(oe);rn(Q,5,()=>t(bt)==="yes"?t(c):t(g),nn,(y,m)=>{var O=ul(),j=h(O);{var le=ke=>{var ue=ol();R(()=>{he(ue,"src",(t(m),p(()=>t(m).user.icon))),he(ue,"alt",(t(m),p(()=>t(m).user.login)))}),T(ke,ue)},ce=ke=>{var ue=Ft(),Jt=at(ue);{var Pt=Ge=>{var st=al(),Ee=h(st);R(()=>M(Ee,(t(m),p(()=>t(m).user.emoji)))),T(Ge,st)},Xt=Ge=>{var st=il(),Ee=h(st);R(Ke=>M(Ee,Ke),[()=>(t(m),p(()=>t(m).user?.login?.charAt(0)?.toUpperCase()||"?"))]),T(Ge,st)};P(Jt,Ge=>{t(m),p(()=>t(m).user?.emoji)?Ge(Pt):Ge(Xt,!1)})}T(ke,ue)};P(j,ke=>{t(m),p(()=>t(m).user?.icon)?ke(le):ke(ce,!1)})}var Re=w(j,2),Y=h(Re),nt=w(Re,2);{var rt=ke=>{var ue=ll();U("click",ue,()=>ro(t(m).id)),T(ke,ue)};P(nt,ke=>{t(m),p(()=>t(m).id&&typeof t(m).id=="string"&&t(m).id.startsWith("demo-vote-"))&&ke(rt)})}R(()=>M(Y,(t(m),p(()=>t(m).user?.login||"Unknown")))),T(y,O)}),R(()=>M(L,`${t(bt)==="yes"?"Yes":"No, it's as good as it can be"} Votes`)),U("click",H,()=>{d(Ce,!1),d(bt,null)}),U("click",b,sn(function(y){on.call(this,n,y)})),U("click",_,()=>{d(Ce,!1),d(bt,null)}),T(f,_)};P(Nr,f=>{t(Ce)&&t(bt)&&f(mo)})}var Rr=w(Nr,2);{var go=f=>{var _=cl(),b=h(_),A=h(b),D=w(h(A),2);U("click",D,()=>d(yt,!1)),U("click",b,sn(function(L){on.call(this,n,L)})),U("click",_,()=>d(yt,!1)),T(f,_)};P(Rr,f=>{t(yt)&&f(go)})}var bo=w(Rr,2);{var yo=f=>{var _=vl(),b=h(_),A=h(b),D=w(h(A),2);U("click",D,()=>d(Qt,!1)),U("click",b,sn(function(L){on.call(this,n,L)})),U("click",_,()=>d(Qt,!1)),T(f,_)};P(bo,f=>{t(Qt)&&f(yo)})}U("click",kr,Ks),U("click",Er,()=>d(Qt,!0)),as(q,[],Rn,()=>t(xe),f=>d(xe,f)),as(q,[],Mn,()=>t(xe),f=>d(xe,f)),U("click",fo,()=>d(yt,!0)),T(e,wr),ms()}ei(_l,{target:document.getElementById("app")});
